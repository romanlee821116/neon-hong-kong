(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const f of document.querySelectorAll('link[rel="modulepreload"]'))o(f);new MutationObserver(f=>{for(const u of f)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&o(d)}).observe(document,{childList:!0,subtree:!0});function r(f){const u={};return f.integrity&&(u.integrity=f.integrity),f.referrerPolicy&&(u.referrerPolicy=f.referrerPolicy),f.crossOrigin==="use-credentials"?u.credentials="include":f.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function o(f){if(f.ep)return;f.ep=!0;const u=r(f);fetch(f.href,u)}})();/**
* @vue/shared v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function hn(t,i){const r=new Set(t.split(","));return o=>r.has(o)}const le={},Gt=[],ze=()=>{},Ya=()=>!1,Ti=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),cr=t=>t.startsWith("onUpdate:"),he=Object.assign,dr=(t,i)=>{const r=t.indexOf(i);r>-1&&t.splice(r,1)},$a=Object.prototype.hasOwnProperty,se=(t,i)=>$a.call(t,i),X=Array.isArray,jt=t=>ni(t)==="[object Map]",Dt=t=>ni(t)==="[object Set]",Gr=t=>ni(t)==="[object Date]",Ka=t=>ni(t)==="[object RegExp]",Q=t=>typeof t=="function",_e=t=>typeof t=="string",tt=t=>typeof t=="symbol",ue=t=>t!==null&&typeof t=="object",hr=t=>(ue(t)||Q(t))&&Q(t.then)&&Q(t.catch),Ns=Object.prototype.toString,ni=t=>Ns.call(t),qa=t=>ni(t).slice(8,-1),Ds=t=>ni(t)==="[object Object]",pr=t=>_e(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Yt=hn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),pn=t=>{const i=Object.create(null);return r=>i[r]||(i[r]=t(r))},Wa=/-(\w)/g,Le=pn(t=>t.replace(Wa,(i,r)=>r?r.toUpperCase():"")),Xa=/\B([A-Z])/g,Ve=pn(t=>t.replace(Xa,"-$1").toLowerCase()),Ai=pn(t=>t.charAt(0).toUpperCase()+t.slice(1)),hi=pn(t=>t?`on${Ai(t)}`:""),Ze=(t,i)=>!Object.is(t,i),$t=(t,...i)=>{for(let r=0;r<t.length;r++)t[r](...i)},Ms=(t,i,r,o=!1)=>{Object.defineProperty(t,i,{configurable:!0,enumerable:!1,writable:o,value:r})},Qi=t=>{const i=parseFloat(t);return isNaN(i)?t:i},en=t=>{const i=_e(t)?Number(t):NaN;return isNaN(i)?t:i};let jr;const Hs=()=>jr||(jr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Za="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console,Error",Ja=hn(Za);function ri(t){if(X(t)){const i={};for(let r=0;r<t.length;r++){const o=t[r],f=_e(o)?il(o):ri(o);if(f)for(const u in f)i[u]=f[u]}return i}else if(_e(t)||ue(t))return t}const Qa=/;(?![^(]*\))/g,el=/:([^]+)/,tl=/\/\*[^]*?\*\//g;function il(t){const i={};return t.replace(tl,"").split(Qa).forEach(r=>{if(r){const o=r.split(el);o.length>1&&(i[o[0].trim()]=o[1].trim())}}),i}function Ci(t){let i="";if(_e(t))i=t;else if(X(t))for(let r=0;r<t.length;r++){const o=Ci(t[r]);o&&(i+=o+" ")}else if(ue(t))for(const r in t)t[r]&&(i+=r+" ");return i.trim()}function nl(t){if(!t)return null;let{class:i,style:r}=t;return i&&!_e(i)&&(t.class=Ci(i)),r&&(t.style=ri(r)),t}const rl="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",sl=hn(rl);function Vs(t){return!!t||t===""}function ol(t,i){if(t.length!==i.length)return!1;let r=!0;for(let o=0;r&&o<t.length;o++)r=St(t[o],i[o]);return r}function St(t,i){if(t===i)return!0;let r=Gr(t),o=Gr(i);if(r||o)return r&&o?t.getTime()===i.getTime():!1;if(r=tt(t),o=tt(i),r||o)return t===i;if(r=X(t),o=X(i),r||o)return r&&o?ol(t,i):!1;if(r=ue(t),o=ue(i),r||o){if(!r||!o)return!1;const f=Object.keys(t).length,u=Object.keys(i).length;if(f!==u)return!1;for(const d in t){const a=t.hasOwnProperty(d),p=i.hasOwnProperty(d);if(a&&!p||!a&&p||!St(t[d],i[d]))return!1}}return String(t)===String(i)}function _n(t,i){return t.findIndex(r=>St(r,i))}const Gs=t=>!!(t&&t.__v_isRef===!0),_r=t=>_e(t)?t:t==null?"":X(t)||ue(t)&&(t.toString===Ns||!Q(t.toString))?Gs(t)?_r(t.value):JSON.stringify(t,js,2):String(t),js=(t,i)=>Gs(i)?js(t,i.value):jt(i)?{[`Map(${i.size})`]:[...i.entries()].reduce((r,[o,f],u)=>(r[Bn(o,u)+" =>"]=f,r),{})}:Dt(i)?{[`Set(${i.size})`]:[...i.values()].map(r=>Bn(r))}:tt(i)?Bn(i):ue(i)&&!X(i)&&!Ds(i)?String(i):i,Bn=(t,i="")=>{var r;return tt(t)?`Symbol(${(r=t.description)!=null?r:i})`:t};/**
* @vue/reactivity v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Me;class gr{constructor(i=!1){this.detached=i,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Me,!i&&Me&&(this.index=(Me.scopes||(Me.scopes=[])).push(this)-1)}get active(){return this._active}run(i){if(this._active){const r=Me;try{return Me=this,i()}finally{Me=r}}}on(){Me=this}off(){Me=this.parent}stop(i){if(this._active){let r,o;for(r=0,o=this.effects.length;r<o;r++)this.effects[r].stop();for(r=0,o=this.cleanups.length;r<o;r++)this.cleanups[r]();if(this.scopes)for(r=0,o=this.scopes.length;r<o;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!i){const f=this.parent.scopes.pop();f&&f!==this&&(this.parent.scopes[this.index]=f,f.index=this.index)}this.parent=void 0,this._active=!1}}}function al(t){return new gr(t)}function Ys(t,i=Me){i&&i.active&&i.effects.push(t)}function $s(){return Me}function ll(t){Me&&Me.cleanups.push(t)}let Pt;class Jt{constructor(i,r,o,f){this.fn=i,this.trigger=r,this.scheduler=o,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,Ys(this,f)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Tt();for(let i=0;i<this._depsLength;i++){const r=this.deps[i];if(r.computed&&(fl(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),At()}return this._dirtyLevel>=4}set dirty(i){this._dirtyLevel=i?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let i=bt,r=Pt;try{return bt=!0,Pt=this,this._runnings++,Yr(this),this.fn()}finally{$r(this),this._runnings--,Pt=r,bt=i}}stop(){this.active&&(Yr(this),$r(this),this.onStop&&this.onStop(),this.active=!1)}}function fl(t){return t.value}function Yr(t){t._trackId++,t._depsLength=0}function $r(t){if(t.deps.length>t._depsLength){for(let i=t._depsLength;i<t.deps.length;i++)Ks(t.deps[i],t);t.deps.length=t._depsLength}}function Ks(t,i){const r=t.get(i);r!==void 0&&i._trackId!==r&&(t.delete(i),t.size===0&&t.cleanup())}function ul(t,i){t.effect instanceof Jt&&(t=t.effect.fn);const r=new Jt(t,ze,()=>{r.dirty&&r.run()});i&&(he(r,i),i.scope&&Ys(r,i.scope)),(!i||!i.lazy)&&r.run();const o=r.run.bind(r);return o.effect=r,o}function cl(t){t.effect.stop()}let bt=!0,Nn=0;const qs=[];function Tt(){qs.push(bt),bt=!1}function At(){const t=qs.pop();bt=t===void 0?!0:t}function mr(){Nn++}function yr(){for(Nn--;!Nn&&Dn.length;)Dn.shift()()}function Ws(t,i,r){if(i.get(t)!==t._trackId){i.set(t,t._trackId);const o=t.deps[t._depsLength];o!==i?(o&&Ks(o,t),t.deps[t._depsLength++]=i):t._depsLength++}}const Dn=[];function Xs(t,i,r){mr();for(const o of t.keys()){let f;o._dirtyLevel<i&&(f??(f=t.get(o)===o._trackId))&&(o._shouldSchedule||(o._shouldSchedule=o._dirtyLevel===0),o._dirtyLevel=i),o._shouldSchedule&&(f??(f=t.get(o)===o._trackId))&&(o.trigger(),(!o._runnings||o.allowRecurse)&&o._dirtyLevel!==2&&(o._shouldSchedule=!1,o.scheduler&&Dn.push(o.scheduler)))}yr()}const Zs=(t,i)=>{const r=new Map;return r.cleanup=t,r.computed=i,r},tn=new WeakMap,Ft=Symbol(""),Mn=Symbol("");function Ne(t,i,r){if(bt&&Pt){let o=tn.get(t);o||tn.set(t,o=new Map);let f=o.get(r);f||o.set(r,f=Zs(()=>o.delete(r))),Ws(Pt,f)}}function ot(t,i,r,o,f,u){const d=tn.get(t);if(!d)return;let a=[];if(i==="clear")a=[...d.values()];else if(r==="length"&&X(t)){const p=Number(o);d.forEach((_,g)=>{(g==="length"||!tt(g)&&g>=p)&&a.push(_)})}else switch(r!==void 0&&a.push(d.get(r)),i){case"add":X(t)?pr(r)&&a.push(d.get("length")):(a.push(d.get(Ft)),jt(t)&&a.push(d.get(Mn)));break;case"delete":X(t)||(a.push(d.get(Ft)),jt(t)&&a.push(d.get(Mn)));break;case"set":jt(t)&&a.push(d.get(Ft));break}mr();for(const p of a)p&&Xs(p,4);yr()}function dl(t,i){const r=tn.get(t);return r&&r.get(i)}const hl=hn("__proto__,__v_isRef,__isVue"),Js=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(tt)),Kr=pl();function pl(){const t={};return["includes","indexOf","lastIndexOf"].forEach(i=>{t[i]=function(...r){const o=ne(this);for(let u=0,d=this.length;u<d;u++)Ne(o,"get",u+"");const f=o[i](...r);return f===-1||f===!1?o[i](...r.map(ne)):f}}),["push","pop","shift","unshift","splice"].forEach(i=>{t[i]=function(...r){Tt(),mr();const o=ne(this)[i].apply(this,r);return yr(),At(),o}}),t}function _l(t){tt(t)||(t=String(t));const i=ne(this);return Ne(i,"has",t),i.hasOwnProperty(t)}class Qs{constructor(i=!1,r=!1){this._isReadonly=i,this._isShallow=r}get(i,r,o){const f=this._isReadonly,u=this._isShallow;if(r==="__v_isReactive")return!f;if(r==="__v_isReadonly")return f;if(r==="__v_isShallow")return u;if(r==="__v_raw")return o===(f?u?so:ro:u?no:io).get(i)||Object.getPrototypeOf(i)===Object.getPrototypeOf(o)?i:void 0;const d=X(i);if(!f){if(d&&se(Kr,r))return Reflect.get(Kr,r,o);if(r==="hasOwnProperty")return _l}const a=Reflect.get(i,r,o);return(tt(r)?Js.has(r):hl(r))||(f||Ne(i,"get",r),u)?a:ke(a)?d&&pr(r)?a:a.value:ue(a)?f?br(a):at(a):a}}class eo extends Qs{constructor(i=!1){super(!1,i)}set(i,r,o,f){let u=i[r];if(!this._isShallow){const p=Qt(u);if(!yi(o)&&!Qt(o)&&(u=ne(u),o=ne(o)),!X(i)&&ke(u)&&!ke(o))return p?!1:(u.value=o,!0)}const d=X(i)&&pr(r)?Number(r)<i.length:se(i,r),a=Reflect.set(i,r,o,f);return i===ne(f)&&(d?Ze(o,u)&&ot(i,"set",r,o):ot(i,"add",r,o)),a}deleteProperty(i,r){const o=se(i,r);i[r];const f=Reflect.deleteProperty(i,r);return f&&o&&ot(i,"delete",r,void 0),f}has(i,r){const o=Reflect.has(i,r);return(!tt(r)||!Js.has(r))&&Ne(i,"has",r),o}ownKeys(i){return Ne(i,"iterate",X(i)?"length":Ft),Reflect.ownKeys(i)}}class to extends Qs{constructor(i=!1){super(!0,i)}set(i,r){return!0}deleteProperty(i,r){return!0}}const gl=new eo,ml=new to,yl=new eo(!0),vl=new to(!0),vr=t=>t,gn=t=>Reflect.getPrototypeOf(t);function Oi(t,i,r=!1,o=!1){t=t.__v_raw;const f=ne(t),u=ne(i);r||(Ze(i,u)&&Ne(f,"get",i),Ne(f,"get",u));const{has:d}=gn(f),a=o?vr:r?Sr:vi;if(d.call(f,i))return a(t.get(i));if(d.call(f,u))return a(t.get(u));t!==f&&t.get(i)}function zi(t,i=!1){const r=this.__v_raw,o=ne(r),f=ne(t);return i||(Ze(t,f)&&Ne(o,"has",t),Ne(o,"has",f)),t===f?r.has(t):r.has(t)||r.has(f)}function Ri(t,i=!1){return t=t.__v_raw,!i&&Ne(ne(t),"iterate",Ft),Reflect.get(t,"size",t)}function qr(t){t=ne(t);const i=ne(this);return gn(i).has.call(i,t)||(i.add(t),ot(i,"add",t,t)),this}function Wr(t,i){i=ne(i);const r=ne(this),{has:o,get:f}=gn(r);let u=o.call(r,t);u||(t=ne(t),u=o.call(r,t));const d=f.call(r,t);return r.set(t,i),u?Ze(i,d)&&ot(r,"set",t,i):ot(r,"add",t,i),this}function Xr(t){const i=ne(this),{has:r,get:o}=gn(i);let f=r.call(i,t);f||(t=ne(t),f=r.call(i,t)),o&&o.call(i,t);const u=i.delete(t);return f&&ot(i,"delete",t,void 0),u}function Zr(){const t=ne(this),i=t.size!==0,r=t.clear();return i&&ot(t,"clear",void 0,void 0),r}function Ni(t,i){return function(o,f){const u=this,d=u.__v_raw,a=ne(d),p=i?vr:t?Sr:vi;return!t&&Ne(a,"iterate",Ft),d.forEach((_,g)=>o.call(f,p(_),p(g),u))}}function Di(t,i,r){return function(...o){const f=this.__v_raw,u=ne(f),d=jt(u),a=t==="entries"||t===Symbol.iterator&&d,p=t==="keys"&&d,_=f[t](...o),g=r?vr:i?Sr:vi;return!i&&Ne(u,"iterate",p?Mn:Ft),{next(){const{value:S,done:e}=_.next();return e?{value:S,done:e}:{value:a?[g(S[0]),g(S[1])]:g(S),done:e}},[Symbol.iterator](){return this}}}}function ct(t){return function(...i){return t==="delete"?!1:t==="clear"?void 0:this}}function bl(){const t={get(u){return Oi(this,u)},get size(){return Ri(this)},has:zi,add:qr,set:Wr,delete:Xr,clear:Zr,forEach:Ni(!1,!1)},i={get(u){return Oi(this,u,!1,!0)},get size(){return Ri(this)},has:zi,add:qr,set:Wr,delete:Xr,clear:Zr,forEach:Ni(!1,!0)},r={get(u){return Oi(this,u,!0)},get size(){return Ri(this,!0)},has(u){return zi.call(this,u,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Ni(!0,!1)},o={get(u){return Oi(this,u,!0,!0)},get size(){return Ri(this,!0)},has(u){return zi.call(this,u,!0)},add:ct("add"),set:ct("set"),delete:ct("delete"),clear:ct("clear"),forEach:Ni(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{t[u]=Di(u,!1,!1),r[u]=Di(u,!0,!1),i[u]=Di(u,!1,!0),o[u]=Di(u,!0,!0)}),[t,r,i,o]}const[wl,Sl,xl,Ul]=bl();function mn(t,i){const r=i?t?Ul:xl:t?Sl:wl;return(o,f,u)=>f==="__v_isReactive"?!t:f==="__v_isReadonly"?t:f==="__v_raw"?o:Reflect.get(se(r,f)&&f in o?r:o,f,u)}const El={get:mn(!1,!1)},Tl={get:mn(!1,!0)},Al={get:mn(!0,!1)},Cl={get:mn(!0,!0)},io=new WeakMap,no=new WeakMap,ro=new WeakMap,so=new WeakMap;function Bl(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function kl(t){return t.__v_skip||!Object.isExtensible(t)?0:Bl(qa(t))}function at(t){return Qt(t)?t:yn(t,!1,gl,El,io)}function oo(t){return yn(t,!1,yl,Tl,no)}function br(t){return yn(t,!0,ml,Al,ro)}function Il(t){return yn(t,!0,vl,Cl,so)}function yn(t,i,r,o,f){if(!ue(t)||t.__v_raw&&!(i&&t.__v_isReactive))return t;const u=f.get(t);if(u)return u;const d=kl(t);if(d===0)return t;const a=new Proxy(t,d===2?o:r);return f.set(t,a),a}function Kt(t){return Qt(t)?Kt(t.__v_raw):!!(t&&t.__v_isReactive)}function Qt(t){return!!(t&&t.__v_isReadonly)}function yi(t){return!!(t&&t.__v_isShallow)}function wr(t){return t?!!t.__v_raw:!1}function ne(t){const i=t&&t.__v_raw;return i?ne(i):t}function ao(t){return Object.isExtensible(t)&&Ms(t,"__v_skip",!0),t}const vi=t=>ue(t)?at(t):t,Sr=t=>ue(t)?br(t):t;class lo{constructor(i,r,o,f){this.getter=i,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Jt(()=>i(this._value),()=>qt(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!f,this.__v_isReadonly=o}get value(){const i=ne(this);return(!i._cacheable||i.effect.dirty)&&Ze(i._value,i._value=i.effect.run())&&qt(i,4),xr(i),i.effect._dirtyLevel>=2&&qt(i,2),i._value}set value(i){this._setter(i)}get _dirty(){return this.effect.dirty}set _dirty(i){this.effect.dirty=i}}function Pl(t,i,r=!1){let o,f;const u=Q(t);return u?(o=t,f=ze):(o=t.get,f=t.set),new lo(o,f,u||!f,r)}function xr(t){var i;bt&&Pt&&(t=ne(t),Ws(Pt,(i=t.dep)!=null?i:t.dep=Zs(()=>t.dep=void 0,t instanceof lo?t:void 0)))}function qt(t,i=4,r,o){t=ne(t);const f=t.dep;f&&Xs(f,i)}function ke(t){return!!(t&&t.__v_isRef===!0)}function be(t){return fo(t,!1)}function Fl(t){return fo(t,!0)}function fo(t,i){return ke(t)?t:new Ll(t,i)}class Ll{constructor(i,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?i:ne(i),this._value=r?i:vi(i)}get value(){return xr(this),this._value}set value(i){const r=this.__v_isShallow||yi(i)||Qt(i);i=r?i:ne(i),Ze(i,this._rawValue)&&(this._rawValue,this._rawValue=i,this._value=r?i:vi(i),qt(this,4))}}function Ol(t){qt(t,4)}function Ur(t){return ke(t)?t.value:t}function zl(t){return Q(t)?t():Ur(t)}const Rl={get:(t,i,r)=>Ur(Reflect.get(t,i,r)),set:(t,i,r,o)=>{const f=t[i];return ke(f)&&!ke(r)?(f.value=r,!0):Reflect.set(t,i,r,o)}};function Er(t){return Kt(t)?t:new Proxy(t,Rl)}class Nl{constructor(i){this.dep=void 0,this.__v_isRef=!0;const{get:r,set:o}=i(()=>xr(this),()=>qt(this));this._get=r,this._set=o}get value(){return this._get()}set value(i){this._set(i)}}function uo(t){return new Nl(t)}function Dl(t){const i=X(t)?new Array(t.length):{};for(const r in t)i[r]=co(t,r);return i}class Ml{constructor(i,r,o){this._object=i,this._key=r,this._defaultValue=o,this.__v_isRef=!0}get value(){const i=this._object[this._key];return i===void 0?this._defaultValue:i}set value(i){this._object[this._key]=i}get dep(){return dl(ne(this._object),this._key)}}class Hl{constructor(i){this._getter=i,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Vl(t,i,r){return ke(t)?t:Q(t)?new Hl(t):ue(t)&&arguments.length>1?co(t,i,r):be(t)}function co(t,i,r){const o=t[i];return ke(o)?o:new Ml(t,i,r)}const Gl={GET:"get",HAS:"has",ITERATE:"iterate"},jl={SET:"set",ADD:"add",DELETE:"delete",CLEAR:"clear"};/**
* @vue/runtime-core v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Yl(t,i){}const $l={SETUP_FUNCTION:0,0:"SETUP_FUNCTION",RENDER_FUNCTION:1,1:"RENDER_FUNCTION",WATCH_GETTER:2,2:"WATCH_GETTER",WATCH_CALLBACK:3,3:"WATCH_CALLBACK",WATCH_CLEANUP:4,4:"WATCH_CLEANUP",NATIVE_EVENT_HANDLER:5,5:"NATIVE_EVENT_HANDLER",COMPONENT_EVENT_HANDLER:6,6:"COMPONENT_EVENT_HANDLER",VNODE_HOOK:7,7:"VNODE_HOOK",DIRECTIVE_HOOK:8,8:"DIRECTIVE_HOOK",TRANSITION_HOOK:9,9:"TRANSITION_HOOK",APP_ERROR_HANDLER:10,10:"APP_ERROR_HANDLER",APP_WARN_HANDLER:11,11:"APP_WARN_HANDLER",FUNCTION_REF:12,12:"FUNCTION_REF",ASYNC_COMPONENT_LOADER:13,13:"ASYNC_COMPONENT_LOADER",SCHEDULER:14,14:"SCHEDULER"},Kl={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function lt(t,i,r,o){try{return o?t(...o):t()}catch(f){Mt(f,i,r)}}function Ge(t,i,r,o){if(Q(t)){const f=lt(t,i,r,o);return f&&hr(f)&&f.catch(u=>{Mt(u,i,r)}),f}if(X(t)){const f=[];for(let u=0;u<t.length;u++)f.push(Ge(t[u],i,r,o));return f}}function Mt(t,i,r,o=!0){const f=i?i.vnode:null;if(i){let u=i.parent;const d=i.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;u;){const _=u.ec;if(_){for(let g=0;g<_.length;g++)if(_[g](t,d,a)===!1)return}u=u.parent}const p=i.appContext.config.errorHandler;if(p){Tt(),lt(p,null,10,[t,d,a]),At();return}}ql(t,r,f,o)}function ql(t,i,r,o=!0){console.error(t)}let bi=!1,Hn=!1;const Pe=[];let et=0;const Wt=[];let pt=null,It=0;const ho=Promise.resolve();let Tr=null;function Bi(t){const i=Tr||ho;return t?i.then(this?t.bind(this):t):i}function Wl(t){let i=et+1,r=Pe.length;for(;i<r;){const o=i+r>>>1,f=Pe[o],u=wi(f);u<t||u===t&&f.pre?i=o+1:r=o}return i}function vn(t){(!Pe.length||!Pe.includes(t,bi&&t.allowRecurse?et+1:et))&&(t.id==null?Pe.push(t):Pe.splice(Wl(t.id),0,t),po())}function po(){!bi&&!Hn&&(Hn=!0,Tr=ho.then(_o))}function Xl(t){const i=Pe.indexOf(t);i>et&&Pe.splice(i,1)}function nn(t){X(t)?Wt.push(...t):(!pt||!pt.includes(t,t.allowRecurse?It+1:It))&&Wt.push(t),po()}function Jr(t,i,r=bi?et+1:0){for(;r<Pe.length;r++){const o=Pe[r];if(o&&o.pre){if(t&&o.id!==t.uid)continue;Pe.splice(r,1),r--,o()}}}function rn(t){if(Wt.length){const i=[...new Set(Wt)].sort((r,o)=>wi(r)-wi(o));if(Wt.length=0,pt){pt.push(...i);return}for(pt=i,It=0;It<pt.length;It++){const r=pt[It];r.active!==!1&&r()}pt=null,It=0}}const wi=t=>t.id==null?1/0:t.id,Zl=(t,i)=>{const r=wi(t)-wi(i);if(r===0){if(t.pre&&!i.pre)return-1;if(i.pre&&!t.pre)return 1}return r};function _o(t){Hn=!1,bi=!0,Pe.sort(Zl);try{for(et=0;et<Pe.length;et++){const i=Pe[et];i&&i.active!==!1&&lt(i,null,14)}}finally{et=0,Pe.length=0,rn(),bi=!1,Tr=null,(Pe.length||Wt.length)&&_o()}}let Vt,Mi=[];function go(t,i){var r,o;Vt=t,Vt?(Vt.enabled=!0,Mi.forEach(({event:f,args:u})=>Vt.emit(f,...u)),Mi=[]):typeof window<"u"&&window.HTMLElement&&!((o=(r=window.navigator)==null?void 0:r.userAgent)!=null&&o.includes("jsdom"))?((i.__VUE_DEVTOOLS_HOOK_REPLAY__=i.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(u=>{go(u,i)}),setTimeout(()=>{Vt||(i.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Mi=[])},3e3)):Mi=[]}function Jl(t,i,...r){if(t.isUnmounted)return;const o=t.vnode.props||le;let f=r;const u=i.startsWith("update:"),d=u&&i.slice(7);if(d&&d in o){const g=`${d==="modelValue"?"model":d}Modifiers`,{number:S,trim:e}=o[g]||le;e&&(f=r.map(n=>_e(n)?n.trim():n)),S&&(f=r.map(Qi))}let a,p=o[a=hi(i)]||o[a=hi(Le(i))];!p&&u&&(p=o[a=hi(Ve(i))]),p&&Ge(p,t,6,f);const _=o[a+"Once"];if(_){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ge(_,t,6,f)}}function mo(t,i,r=!1){const o=i.emitsCache,f=o.get(t);if(f!==void 0)return f;const u=t.emits;let d={},a=!1;if(!Q(t)){const p=_=>{const g=mo(_,i,!0);g&&(a=!0,he(d,g))};!r&&i.mixins.length&&i.mixins.forEach(p),t.extends&&p(t.extends),t.mixins&&t.mixins.forEach(p)}return!u&&!a?(ue(t)&&o.set(t,null),null):(X(u)?u.forEach(p=>d[p]=null):he(d,u),ue(t)&&o.set(t,d),d)}function bn(t,i){return!t||!Ti(i)?!1:(i=i.slice(2).replace(/Once$/,""),se(t,i[0].toLowerCase()+i.slice(1))||se(t,Ve(i))||se(t,i))}let Te=null,wn=null;function Si(t){const i=Te;return Te=t,wn=t&&t.type.__scopeId||null,i}function yo(t){wn=t}function vo(){wn=null}const Ql=t=>xi;function xi(t,i=Te,r){if(!i||t._n)return t;const o=(...f)=>{o._d&&Xn(-1);const u=Si(i);let d;try{d=t(...f)}finally{Si(u),o._d&&Xn(1)}return d};return o._n=!0,o._c=!0,o._d=!0,o}function qi(t){const{type:i,vnode:r,proxy:o,withProxy:f,propsOptions:[u],slots:d,attrs:a,emit:p,render:_,renderCache:g,props:S,data:e,setupState:n,ctx:s,inheritAttrs:l}=t,c=Si(t);let y,m;try{if(r.shapeFlag&4){const v=f||o,E=v;y=He(_.call(E,v,g,S,n,e,s)),m=a}else{const v=i;y=He(v.length>1?v(S,{attrs:a,slots:d,emit:p}):v(S,null)),m=i.props?a:tf(a)}}catch(v){gi.length=0,Mt(v,t,1),y=de(Ce)}let h=y;if(m&&l!==!1){const v=Object.keys(m),{shapeFlag:E}=h;v.length&&E&7&&(u&&v.some(cr)&&(m=nf(m,u)),h=Ke(h,m,!1,!0))}return r.dirs&&(h=Ke(h,null,!1,!0),h.dirs=h.dirs?h.dirs.concat(r.dirs):r.dirs),r.transition&&(h.transition=r.transition),y=h,Si(c),y}function ef(t,i=!0){let r;for(let o=0;o<t.length;o++){const f=t[o];if(Ut(f)){if(f.type!==Ce||f.children==="v-if"){if(r)return;r=f}}else return}return r}const tf=t=>{let i;for(const r in t)(r==="class"||r==="style"||Ti(r))&&((i||(i={}))[r]=t[r]);return i},nf=(t,i)=>{const r={};for(const o in t)(!cr(o)||!(o.slice(9)in i))&&(r[o]=t[o]);return r};function rf(t,i,r){const{props:o,children:f,component:u}=t,{props:d,children:a,patchFlag:p}=i,_=u.emitsOptions;if(i.dirs||i.transition)return!0;if(r&&p>=0){if(p&1024)return!0;if(p&16)return o?Qr(o,d,_):!!d;if(p&8){const g=i.dynamicProps;for(let S=0;S<g.length;S++){const e=g[S];if(d[e]!==o[e]&&!bn(_,e))return!0}}}else return(f||a)&&(!a||!a.$stable)?!0:o===d?!1:o?d?Qr(o,d,_):!0:!!d;return!1}function Qr(t,i,r){const o=Object.keys(i);if(o.length!==Object.keys(t).length)return!0;for(let f=0;f<o.length;f++){const u=o[f];if(i[u]!==t[u]&&!bn(r,u))return!0}return!1}function Ar({vnode:t,parent:i},r){for(;i;){const o=i.subTree;if(o.suspense&&o.suspense.activeBranch===t&&(o.el=t.el),o===t)(t=i.vnode).el=r,i=i.parent;else break}}const Cr="components",sf="directives";function Wi(t,i){return Br(Cr,t,!0,i)||t}const bo=Symbol.for("v-ndc");function of(t){return _e(t)?Br(Cr,t,!1)||t:t||bo}function af(t){return Br(sf,t)}function Br(t,i,r=!0,o=!1){const f=Te||Ee;if(f){const u=f.type;if(t===Cr){const a=tr(u,!1);if(a&&(a===i||a===Le(i)||a===Ai(Le(i))))return u}const d=es(f[t]||u[t],i)||es(f.appContext[t],i);return!d&&o?u:d}}function es(t,i){return t&&(t[i]||t[Le(i)]||t[Ai(Le(i))])}const Vn=t=>t.__isSuspense;let Gn=0;const lf={name:"Suspense",__isSuspense:!0,process(t,i,r,o,f,u,d,a,p,_){if(t==null)uf(i,r,o,f,u,d,a,p,_);else{if(u&&u.deps>0&&!t.suspense.isInFallback){i.suspense=t.suspense,i.suspense.vnode=i,i.el=t.el;return}cf(t,i,r,o,f,d,a,p,_)}},hydrate:df,normalize:hf},ff=lf;function Ui(t,i){const r=t.props&&t.props[i];Q(r)&&r()}function uf(t,i,r,o,f,u,d,a,p){const{p:_,o:{createElement:g}}=p,S=g("div"),e=t.suspense=wo(t,f,o,i,S,r,u,d,a,p);_(null,e.pendingBranch=t.ssContent,S,null,o,e,u,d),e.deps>0?(Ui(t,"onPending"),Ui(t,"onFallback"),_(null,t.ssFallback,i,r,o,null,u,d),Xt(e,t.ssFallback)):e.resolve(!1,!0)}function cf(t,i,r,o,f,u,d,a,{p,um:_,o:{createElement:g}}){const S=i.suspense=t.suspense;S.vnode=i,i.el=t.el;const e=i.ssContent,n=i.ssFallback,{activeBranch:s,pendingBranch:l,isInFallback:c,isHydrating:y}=S;if(l)S.pendingBranch=e,Xe(e,l)?(p(l,e,S.hiddenContainer,null,f,S,u,d,a),S.deps<=0?S.resolve():c&&(y||(p(s,n,r,o,f,null,u,d,a),Xt(S,n)))):(S.pendingId=Gn++,y?(S.isHydrating=!1,S.activeBranch=l):_(l,f,S),S.deps=0,S.effects.length=0,S.hiddenContainer=g("div"),c?(p(null,e,S.hiddenContainer,null,f,S,u,d,a),S.deps<=0?S.resolve():(p(s,n,r,o,f,null,u,d,a),Xt(S,n))):s&&Xe(e,s)?(p(s,e,r,o,f,S,u,d,a),S.resolve(!0)):(p(null,e,S.hiddenContainer,null,f,S,u,d,a),S.deps<=0&&S.resolve()));else if(s&&Xe(e,s))p(s,e,r,o,f,S,u,d,a),Xt(S,e);else if(Ui(i,"onPending"),S.pendingBranch=e,e.shapeFlag&512?S.pendingId=e.component.suspenseId:S.pendingId=Gn++,p(null,e,S.hiddenContainer,null,f,S,u,d,a),S.deps<=0)S.resolve();else{const{timeout:m,pendingId:h}=S;m>0?setTimeout(()=>{S.pendingId===h&&S.fallback(n)},m):m===0&&S.fallback(n)}}function wo(t,i,r,o,f,u,d,a,p,_,g=!1){const{p:S,m:e,um:n,n:s,o:{parentNode:l,remove:c}}=_;let y;const m=pf(t);m&&i&&i.pendingBranch&&(y=i.pendingId,i.deps++);const h=t.props?en(t.props.timeout):void 0,v=u,E={vnode:t,parent:i,parentComponent:r,namespace:d,container:o,hiddenContainer:f,deps:0,pendingId:Gn++,timeout:typeof h=="number"?h:-1,activeBranch:null,pendingBranch:null,isInFallback:!g,isHydrating:g,isUnmounted:!1,effects:[],resolve(U=!1,I=!1){const{vnode:L,activeBranch:A,pendingBranch:O,pendingId:P,effects:w,parentComponent:T,container:C}=E;let D=!1;E.isHydrating?E.isHydrating=!1:U||(D=A&&O.transition&&O.transition.mode==="out-in",D&&(A.transition.afterLeave=()=>{P===E.pendingId&&(e(O,C,u===v?s(A):u,0),nn(w))}),A&&(l(A.el)!==E.hiddenContainer&&(u=s(A)),n(A,T,E,!0)),D||e(O,C,u,0)),Xt(E,O),E.pendingBranch=null,E.isInFallback=!1;let k=E.parent,j=!1;for(;k;){if(k.pendingBranch){k.effects.push(...w),j=!0;break}k=k.parent}!j&&!D&&nn(w),E.effects=[],m&&i&&i.pendingBranch&&y===i.pendingId&&(i.deps--,i.deps===0&&!I&&i.resolve()),Ui(L,"onResolve")},fallback(U){if(!E.pendingBranch)return;const{vnode:I,activeBranch:L,parentComponent:A,container:O,namespace:P}=E;Ui(I,"onFallback");const w=s(L),T=()=>{E.isInFallback&&(S(null,U,O,w,A,null,P,a,p),Xt(E,U))},C=U.transition&&U.transition.mode==="out-in";C&&(L.transition.afterLeave=T),E.isInFallback=!0,n(L,A,null,!0),C||T()},move(U,I,L){E.activeBranch&&e(E.activeBranch,U,I,L),E.container=U},next(){return E.activeBranch&&s(E.activeBranch)},registerDep(U,I,L){const A=!!E.pendingBranch;A&&E.deps++;const O=U.vnode.el;U.asyncDep.catch(P=>{Mt(P,U,0)}).then(P=>{if(U.isUnmounted||E.isUnmounted||E.pendingId!==U.suspenseId)return;U.asyncResolved=!0;const{vnode:w}=U;Qn(U,P,!1),O&&(w.el=O);const T=!O&&U.subTree.el;I(U,w,l(O||U.subTree.el),O?null:s(U.subTree),E,d,L),T&&c(T),Ar(U,w.el),A&&--E.deps===0&&E.resolve()})},unmount(U,I){E.isUnmounted=!0,E.activeBranch&&n(E.activeBranch,r,U,I),E.pendingBranch&&n(E.pendingBranch,r,U,I)}};return E}function df(t,i,r,o,f,u,d,a,p){const _=i.suspense=wo(i,o,r,t.parentNode,document.createElement("div"),null,f,u,d,a,!0),g=p(t,_.pendingBranch=i.ssContent,r,_,u,d);return _.deps===0&&_.resolve(!1,!0),g}function hf(t){const{shapeFlag:i,children:r}=t,o=i&32;t.ssContent=ts(o?r.default:r),t.ssFallback=o?ts(r.fallback):de(Ce)}function ts(t){let i;if(Q(t)){const r=Rt&&t._c;r&&(t._d=!1,We()),t=t(),r&&(t._d=!0,i=Re,ra())}return X(t)&&(t=ef(t)),t=He(t),i&&!t.dynamicChildren&&(t.dynamicChildren=i.filter(r=>r!==t)),t}function So(t,i){i&&i.pendingBranch?X(t)?i.effects.push(...t):i.effects.push(t):nn(t)}function Xt(t,i){t.activeBranch=i;const{vnode:r,parentComponent:o}=t;let f=i.el;for(;!f&&i.component;)i=i.component.subTree,f=i.el;r.el=f,o&&o.subTree===r&&(o.vnode.el=f,Ar(o,f))}function pf(t){const i=t.props&&t.props.suspensible;return i!=null&&i!==!1}function Sn(t,i,r=Ee,o=!1){if(r){const f=r[t]||(r[t]=[]),u=i.__weh||(i.__weh=(...d)=>{Tt();const a=Nt(r),p=Ge(i,r,t,d);return a(),At(),p});return o?f.unshift(u):f.push(u),u}}const ft=t=>(i,r=Ee)=>{(!Fi||t==="sp")&&Sn(t,(...o)=>i(...o),r)},xo=ft("bm"),si=ft("m"),Uo=ft("bu"),xn=ft("u"),Un=ft("bum"),ki=ft("um"),Eo=ft("sp"),To=ft("rtg"),Ao=ft("rtc");function Co(t,i=Ee){Sn("ec",t,i)}function _f(t,i){if(Te===null)return t;const r=Li(Te),o=t.dirs||(t.dirs=[]);for(let f=0;f<i.length;f++){let[u,d,a,p=le]=i[f];u&&(Q(u)&&(u={mounted:u,updated:u}),u.deep&&mt(d),o.push({dir:u,instance:r,value:d,oldValue:void 0,arg:a,modifiers:p}))}return t}function Qe(t,i,r,o){const f=t.dirs,u=i&&i.dirs;for(let d=0;d<f.length;d++){const a=f[d];u&&(a.oldValue=u[d].value);let p=a.dir[o];p&&(Tt(),Ge(p,r,8,[t.el,a,t,i]),At())}}function Xi(t,i,r,o){let f;const u=r&&r[o];if(X(t)||_e(t)){f=new Array(t.length);for(let d=0,a=t.length;d<a;d++)f[d]=i(t[d],d,void 0,u&&u[d])}else if(typeof t=="number"){f=new Array(t);for(let d=0;d<t;d++)f[d]=i(d+1,d,void 0,u&&u[d])}else if(ue(t))if(t[Symbol.iterator])f=Array.from(t,(d,a)=>i(d,a,void 0,u&&u[a]));else{const d=Object.keys(t);f=new Array(d.length);for(let a=0,p=d.length;a<p;a++){const _=d[a];f[a]=i(t[_],_,a,u&&u[a])}}else f=[];return r&&(r[o]=f),f}function gf(t,i){for(let r=0;r<i.length;r++){const o=i[r];if(X(o))for(let f=0;f<o.length;f++)t[o[f].name]=o[f].fn;else o&&(t[o.name]=o.key?(...f)=>{const u=o.fn(...f);return u&&(u.key=o.key),u}:o.fn)}return t}/*! #__NO_SIDE_EFFECTS__ */function oi(t,i){return Q(t)?he({name:t.name},i,{setup:t}):t}const Lt=t=>!!t.type.__asyncLoader;/*! #__NO_SIDE_EFFECTS__ */function mf(t){Q(t)&&(t={loader:t});const{loader:i,loadingComponent:r,errorComponent:o,delay:f=200,timeout:u,suspensible:d=!0,onError:a}=t;let p=null,_,g=0;const S=()=>(g++,p=null,e()),e=()=>{let n;return p||(n=p=i().catch(s=>{if(s=s instanceof Error?s:new Error(String(s)),a)return new Promise((l,c)=>{a(s,()=>l(S()),()=>c(s),g+1)});throw s}).then(s=>n!==p&&p?p:(s&&(s.__esModule||s[Symbol.toStringTag]==="Module")&&(s=s.default),_=s,s)))};return oi({name:"AsyncComponentWrapper",__asyncLoader:e,get __asyncResolved(){return _},setup(){const n=Ee;if(_)return()=>kn(_,n);const s=m=>{p=null,Mt(m,n,13,!o)};if(d&&n.suspense||Fi)return e().then(m=>()=>kn(m,n)).catch(m=>(s(m),()=>o?de(o,{error:m}):null));const l=be(!1),c=be(),y=be(!!f);return f&&setTimeout(()=>{y.value=!1},f),u!=null&&setTimeout(()=>{if(!l.value&&!c.value){const m=new Error(`Async component timed out after ${u}ms.`);s(m),c.value=m}},u),e().then(()=>{l.value=!0,n.parent&&Pi(n.parent.vnode)&&(n.parent.effect.dirty=!0,vn(n.parent.update))}).catch(m=>{s(m),c.value=m}),()=>{if(l.value&&_)return kn(_,n);if(c.value&&o)return de(o,{error:c.value});if(r&&!y.value)return de(r)}}})}function kn(t,i){const{ref:r,props:o,children:f,ce:u}=i.vnode,d=de(t,o,f);return d.ref=r,d.ce=u,delete i.vnode.ce,d}function yf(t,i,r={},o,f){if(Te.isCE||Te.parent&&Lt(Te.parent)&&Te.parent.isCE)return i!=="default"&&(r.name=i),de("slot",r,o&&o());let u=t[i];u&&u._c&&(u._d=!1),We();const d=u&&Bo(u(r)),a=Tn(we,{key:r.key||d&&d.key||`_${i}`},d||(o?o():[]),d&&t._===1?64:-2);return!f&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),u&&u._c&&(u._d=!0),a}function Bo(t){return t.some(i=>Ut(i)?!(i.type===Ce||i.type===we&&!Bo(i.children)):!0)?t:null}function vf(t,i){const r={};for(const o in t)r[i&&/[A-Z]/.test(o)?`on:${o}`:hi(o)]=t[o];return r}const jn=t=>t?ca(t)?Li(t):jn(t.parent):null,pi=he(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jn(t.parent),$root:t=>jn(t.root),$emit:t=>t.emit,$options:t=>kr(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,vn(t.update)}),$nextTick:t=>t.n||(t.n=Bi.bind(t.proxy)),$watch:t=>Jf.bind(t)}),In=(t,i)=>t!==le&&!t.__isScriptSetup&&se(t,i),Yn={get({_:t},i){if(i==="__v_skip")return!0;const{ctx:r,setupState:o,data:f,props:u,accessCache:d,type:a,appContext:p}=t;let _;if(i[0]!=="$"){const n=d[i];if(n!==void 0)switch(n){case 1:return o[i];case 2:return f[i];case 4:return r[i];case 3:return u[i]}else{if(In(o,i))return d[i]=1,o[i];if(f!==le&&se(f,i))return d[i]=2,f[i];if((_=t.propsOptions[0])&&se(_,i))return d[i]=3,u[i];if(r!==le&&se(r,i))return d[i]=4,r[i];$n&&(d[i]=0)}}const g=pi[i];let S,e;if(g)return i==="$attrs"&&Ne(t.attrs,"get",""),g(t);if((S=a.__cssModules)&&(S=S[i]))return S;if(r!==le&&se(r,i))return d[i]=4,r[i];if(e=p.config.globalProperties,se(e,i))return e[i]},set({_:t},i,r){const{data:o,setupState:f,ctx:u}=t;return In(f,i)?(f[i]=r,!0):o!==le&&se(o,i)?(o[i]=r,!0):se(t.props,i)||i[0]==="$"&&i.slice(1)in t?!1:(u[i]=r,!0)},has({_:{data:t,setupState:i,accessCache:r,ctx:o,appContext:f,propsOptions:u}},d){let a;return!!r[d]||t!==le&&se(t,d)||In(i,d)||(a=u[0])&&se(a,d)||se(o,d)||se(pi,d)||se(f.config.globalProperties,d)},defineProperty(t,i,r){return r.get!=null?t._.accessCache[i]=0:se(r,"value")&&this.set(t,i,r.value,null),Reflect.defineProperty(t,i,r)}},bf=he({},Yn,{get(t,i){if(i!==Symbol.unscopables)return Yn.get(t,i,t)},has(t,i){return i[0]!=="_"&&!Ja(i)}});function wf(){return null}function Sf(){return null}function xf(t){}function Uf(t){}function Ef(){return null}function Tf(){}function Af(t,i){return null}function Cf(){return ko().slots}function Bf(){return ko().attrs}function ko(){const t=ut();return t.setupContext||(t.setupContext=pa(t))}function Ei(t){return X(t)?t.reduce((i,r)=>(i[r]=null,i),{}):t}function kf(t,i){const r=Ei(t);for(const o in i){if(o.startsWith("__skip"))continue;let f=r[o];f?X(f)||Q(f)?f=r[o]={type:f,default:i[o]}:f.default=i[o]:f===null&&(f=r[o]={default:i[o]}),f&&i[`__skip_${o}`]&&(f.skipFactory=!0)}return r}function If(t,i){return!t||!i?t||i:X(t)&&X(i)?t.concat(i):he({},Ei(t),Ei(i))}function Pf(t,i){const r={};for(const o in t)i.includes(o)||Object.defineProperty(r,o,{enumerable:!0,get:()=>t[o]});return r}function Ff(t){const i=ut();let r=t();return Jn(),hr(r)&&(r=r.catch(o=>{throw Nt(i),o})),[r,()=>Nt(i)]}let $n=!0;function Lf(t){const i=kr(t),r=t.proxy,o=t.ctx;$n=!1,i.beforeCreate&&is(i.beforeCreate,t,"bc");const{data:f,computed:u,methods:d,watch:a,provide:p,inject:_,created:g,beforeMount:S,mounted:e,beforeUpdate:n,updated:s,activated:l,deactivated:c,beforeDestroy:y,beforeUnmount:m,destroyed:h,unmounted:v,render:E,renderTracked:U,renderTriggered:I,errorCaptured:L,serverPrefetch:A,expose:O,inheritAttrs:P,components:w,directives:T,filters:C}=i;if(_&&Of(_,o,null),d)for(const j in d){const H=d[j];Q(H)&&(o[j]=H.bind(r))}if(f){const j=f.call(r,r);ue(j)&&(t.data=at(j))}if($n=!0,u)for(const j in u){const H=u[j],ee=Q(H)?H.bind(r,r):Q(H.get)?H.get.bind(r,r):ze,te=!Q(H)&&Q(H.set)?H.set.bind(r):ze,Z=yt({get:ee,set:te});Object.defineProperty(o,j,{enumerable:!0,configurable:!0,get:()=>Z.value,set:ie=>Z.value=ie})}if(a)for(const j in a)Io(a[j],o,r,j);if(p){const j=Q(p)?p.call(r):p;Reflect.ownKeys(j).forEach(H=>{qe(H,j[H])})}g&&is(g,t,"c");function k(j,H){X(H)?H.forEach(ee=>j(ee.bind(r))):H&&j(H.bind(r))}if(k(xo,S),k(si,e),k(Uo,n),k(xn,s),k(Zo,l),k(Jo,c),k(Co,L),k(Ao,U),k(To,I),k(Un,m),k(ki,v),k(Eo,A),X(O))if(O.length){const j=t.exposed||(t.exposed={});O.forEach(H=>{Object.defineProperty(j,H,{get:()=>r[H],set:ee=>r[H]=ee})})}else t.exposed||(t.exposed={});E&&t.render===ze&&(t.render=E),P!=null&&(t.inheritAttrs=P),w&&(t.components=w),T&&(t.directives=T)}function Of(t,i,r=ze){X(t)&&(t=Kn(t));for(const o in t){const f=t[o];let u;ue(f)?"default"in f?u=Ye(f.from||o,f.default,!0):u=Ye(f.from||o):u=Ye(f),ke(u)?Object.defineProperty(i,o,{enumerable:!0,configurable:!0,get:()=>u.value,set:d=>u.value=d}):i[o]=u}}function is(t,i,r){Ge(X(t)?t.map(o=>o.bind(i.proxy)):t.bind(i.proxy),i,r)}function Io(t,i,r,o){const f=o.includes(".")?Xo(r,o):()=>r[o];if(_e(t)){const u=i[t];Q(u)&&wt(f,u)}else if(Q(t))wt(f,t.bind(r));else if(ue(t))if(X(t))t.forEach(u=>Io(u,i,r,o));else{const u=Q(t.handler)?t.handler.bind(r):i[t.handler];Q(u)&&wt(f,u,t)}}function kr(t){const i=t.type,{mixins:r,extends:o}=i,{mixins:f,optionsCache:u,config:{optionMergeStrategies:d}}=t.appContext,a=u.get(i);let p;return a?p=a:!f.length&&!r&&!o?p=i:(p={},f.length&&f.forEach(_=>sn(p,_,d,!0)),sn(p,i,d)),ue(i)&&u.set(i,p),p}function sn(t,i,r,o=!1){const{mixins:f,extends:u}=i;u&&sn(t,u,r,!0),f&&f.forEach(d=>sn(t,d,r,!0));for(const d in i)if(!(o&&d==="expose")){const a=zf[d]||r&&r[d];t[d]=a?a(t[d],i[d]):i[d]}return t}const zf={data:ns,props:rs,emits:rs,methods:ci,computed:ci,beforeCreate:Fe,created:Fe,beforeMount:Fe,mounted:Fe,beforeUpdate:Fe,updated:Fe,beforeDestroy:Fe,beforeUnmount:Fe,destroyed:Fe,unmounted:Fe,activated:Fe,deactivated:Fe,errorCaptured:Fe,serverPrefetch:Fe,components:ci,directives:ci,watch:Nf,provide:ns,inject:Rf};function ns(t,i){return i?t?function(){return he(Q(t)?t.call(this,this):t,Q(i)?i.call(this,this):i)}:i:t}function Rf(t,i){return ci(Kn(t),Kn(i))}function Kn(t){if(X(t)){const i={};for(let r=0;r<t.length;r++)i[t[r]]=t[r];return i}return t}function Fe(t,i){return t?[...new Set([].concat(t,i))]:i}function ci(t,i){return t?he(Object.create(null),t,i):i}function rs(t,i){return t?X(t)&&X(i)?[...new Set([...t,...i])]:he(Object.create(null),Ei(t),Ei(i??{})):i}function Nf(t,i){if(!t)return i;if(!i)return t;const r=he(Object.create(null),t);for(const o in i)r[o]=Fe(t[o],i[o]);return r}function Po(){return{app:null,config:{isNativeTag:Ya,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Df=0;function Mf(t,i){return function(o,f=null){Q(o)||(o=he({},o)),f!=null&&!ue(f)&&(f=null);const u=Po(),d=new WeakSet;let a=!1;const p=u.app={_uid:Df++,_component:o,_props:f,_container:null,_context:u,_instance:null,version:ga,get config(){return u.config},set config(_){},use(_,...g){return d.has(_)||(_&&Q(_.install)?(d.add(_),_.install(p,...g)):Q(_)&&(d.add(_),_(p,...g))),p},mixin(_){return u.mixins.includes(_)||u.mixins.push(_),p},component(_,g){return g?(u.components[_]=g,p):u.components[_]},directive(_,g){return g?(u.directives[_]=g,p):u.directives[_]},mount(_,g,S){if(!a){const e=de(o,f);return e.appContext=u,S===!0?S="svg":S===!1&&(S=void 0),g&&i?i(e,_):t(e,_,S),a=!0,p._container=_,_.__vue_app__=p,Li(e.component)}},unmount(){a&&(t(null,p._container),delete p._container.__vue_app__)},provide(_,g){return u.provides[_]=g,p},runWithContext(_){const g=Zt;Zt=p;try{return _()}finally{Zt=g}}};return p}}let Zt=null;function qe(t,i){if(Ee){let r=Ee.provides;const o=Ee.parent&&Ee.parent.provides;o===r&&(r=Ee.provides=Object.create(o)),r[t]=i}}function Ye(t,i,r=!1){const o=Ee||Te;if(o||Zt){const f=o?o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Zt._context.provides;if(f&&t in f)return f[t];if(arguments.length>1)return r&&Q(i)?i.call(o&&o.proxy):i}}function Hf(){return!!(Ee||Te||Zt)}const Fo={},Lo=()=>Object.create(Fo),Oo=t=>Object.getPrototypeOf(t)===Fo;function Vf(t,i,r,o=!1){const f={},u=Lo();t.propsDefaults=Object.create(null),zo(t,i,f,u);for(const d in t.propsOptions[0])d in f||(f[d]=void 0);r?t.props=o?f:oo(f):t.type.props?t.props=f:t.props=u,t.attrs=u}function Gf(t,i,r,o){const{props:f,attrs:u,vnode:{patchFlag:d}}=t,a=ne(f),[p]=t.propsOptions;let _=!1;if((o||d>0)&&!(d&16)){if(d&8){const g=t.vnode.dynamicProps;for(let S=0;S<g.length;S++){let e=g[S];if(bn(t.emitsOptions,e))continue;const n=i[e];if(p)if(se(u,e))n!==u[e]&&(u[e]=n,_=!0);else{const s=Le(e);f[s]=qn(p,a,s,n,t,!1)}else n!==u[e]&&(u[e]=n,_=!0)}}}else{zo(t,i,f,u)&&(_=!0);let g;for(const S in a)(!i||!se(i,S)&&((g=Ve(S))===S||!se(i,g)))&&(p?r&&(r[S]!==void 0||r[g]!==void 0)&&(f[S]=qn(p,a,S,void 0,t,!0)):delete f[S]);if(u!==a)for(const S in u)(!i||!se(i,S))&&(delete u[S],_=!0)}_&&ot(t.attrs,"set","")}function zo(t,i,r,o){const[f,u]=t.propsOptions;let d=!1,a;if(i)for(let p in i){if(Yt(p))continue;const _=i[p];let g;f&&se(f,g=Le(p))?!u||!u.includes(g)?r[g]=_:(a||(a={}))[g]=_:bn(t.emitsOptions,p)||(!(p in o)||_!==o[p])&&(o[p]=_,d=!0)}if(u){const p=ne(r),_=a||le;for(let g=0;g<u.length;g++){const S=u[g];r[S]=qn(f,p,S,_[S],t,!se(_,S))}}return d}function qn(t,i,r,o,f,u){const d=t[r];if(d!=null){const a=se(d,"default");if(a&&o===void 0){const p=d.default;if(d.type!==Function&&!d.skipFactory&&Q(p)){const{propsDefaults:_}=f;if(r in _)o=_[r];else{const g=Nt(f);o=_[r]=p.call(null,i),g()}}else o=p}d[0]&&(u&&!a?o=!1:d[1]&&(o===""||o===Ve(r))&&(o=!0))}return o}function Ro(t,i,r=!1){const o=i.propsCache,f=o.get(t);if(f)return f;const u=t.props,d={},a=[];let p=!1;if(!Q(t)){const g=S=>{p=!0;const[e,n]=Ro(S,i,!0);he(d,e),n&&a.push(...n)};!r&&i.mixins.length&&i.mixins.forEach(g),t.extends&&g(t.extends),t.mixins&&t.mixins.forEach(g)}if(!u&&!p)return ue(t)&&o.set(t,Gt),Gt;if(X(u))for(let g=0;g<u.length;g++){const S=Le(u[g]);ss(S)&&(d[S]=le)}else if(u)for(const g in u){const S=Le(g);if(ss(S)){const e=u[g],n=d[S]=X(e)||Q(e)?{type:e}:he({},e);if(n){const s=ls(Boolean,n.type),l=ls(String,n.type);n[0]=s>-1,n[1]=l<0||s<l,(s>-1||se(n,"default"))&&a.push(S)}}}const _=[d,a];return ue(t)&&o.set(t,_),_}function ss(t){return t[0]!=="$"&&!Yt(t)}function os(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function as(t,i){return os(t)===os(i)}function ls(t,i){return X(i)?i.findIndex(r=>as(r,t)):Q(i)&&as(i,t)?0:-1}const No=t=>t[0]==="_"||t==="$stable",Ir=t=>X(t)?t.map(He):[He(t)],jf=(t,i,r)=>{if(i._n)return i;const o=xi((...f)=>Ir(i(...f)),r);return o._c=!1,o},Do=(t,i,r)=>{const o=t._ctx;for(const f in t){if(No(f))continue;const u=t[f];if(Q(u))i[f]=jf(f,u,o);else if(u!=null){const d=Ir(u);i[f]=()=>d}}},Mo=(t,i)=>{const r=Ir(i);t.slots.default=()=>r},Yf=(t,i)=>{const r=t.slots=Lo();if(t.vnode.shapeFlag&32){const o=i._;o?(he(r,i),Ms(r,"_",o,!0)):Do(i,r)}else i&&Mo(t,i)},$f=(t,i,r)=>{const{vnode:o,slots:f}=t;let u=!0,d=le;if(o.shapeFlag&32){const a=i._;a?r&&a===1?u=!1:(he(f,i),!r&&a===1&&delete f._):(u=!i.$stable,Do(i,f)),d=i}else i&&(Mo(t,i),d={default:1});if(u)for(const a in f)!No(a)&&d[a]==null&&delete f[a]};function on(t,i,r,o,f=!1){if(X(t)){t.forEach((e,n)=>on(e,i&&(X(i)?i[n]:i),r,o,f));return}if(Lt(o)&&!f)return;const u=o.shapeFlag&4?Li(o.component):o.el,d=f?null:u,{i:a,r:p}=t,_=i&&i.r,g=a.refs===le?a.refs={}:a.refs,S=a.setupState;if(_!=null&&_!==p&&(_e(_)?(g[_]=null,se(S,_)&&(S[_]=null)):ke(_)&&(_.value=null)),Q(p))lt(p,a,12,[d,g]);else{const e=_e(p),n=ke(p);if(e||n){const s=()=>{if(t.f){const l=e?se(S,p)?S[p]:g[p]:p.value;f?X(l)&&dr(l,u):X(l)?l.includes(u)||l.push(u):e?(g[p]=[u],se(S,p)&&(S[p]=g[p])):(p.value=[u],t.k&&(g[t.k]=p.value))}else e?(g[p]=d,se(S,p)&&(S[p]=d)):n&&(p.value=d,t.k&&(g[t.k]=d))};d?(s.id=-1,Ae(s,r)):s()}}}let fs=!1;const Ht=()=>{fs||(console.error("Hydration completed but contains mismatches."),fs=!0)},Kf=t=>t.namespaceURI.includes("svg")&&t.tagName!=="foreignObject",qf=t=>t.namespaceURI.includes("MathML"),Hi=t=>{if(Kf(t))return"svg";if(qf(t))return"mathml"},Vi=t=>t.nodeType===8;function Wf(t){const{mt:i,p:r,o:{patchProp:o,createText:f,nextSibling:u,parentNode:d,remove:a,insert:p,createComment:_}}=t,g=(h,v)=>{if(!v.hasChildNodes()){r(null,h,v),rn(),v._vnode=h;return}S(v.firstChild,h,null,null,null),rn(),v._vnode=h},S=(h,v,E,U,I,L=!1)=>{L=L||!!v.dynamicChildren;const A=Vi(h)&&h.data==="[",O=()=>l(h,v,E,U,I,A),{type:P,ref:w,shapeFlag:T,patchFlag:C}=v;let D=h.nodeType;v.el=h,C===-2&&(L=!1,v.dynamicChildren=null);let k=null;switch(P){case zt:D!==3?v.children===""?(p(v.el=f(""),d(h),h),k=h):k=O():(h.data!==v.children&&(Ht(),h.data=v.children),k=u(h));break;case Ce:m(h)?(k=u(h),y(v.el=h.content.firstChild,h,E)):D!==8||A?k=O():k=u(h);break;case Ot:if(A&&(h=u(h),D=h.nodeType),D===1||D===3){k=h;const j=!v.children.length;for(let H=0;H<v.staticCount;H++)j&&(v.children+=k.nodeType===1?k.outerHTML:k.data),H===v.staticCount-1&&(v.anchor=k),k=u(k);return A?u(k):k}else O();break;case we:A?k=s(h,v,E,U,I,L):k=O();break;default:if(T&1)(D!==1||v.type.toLowerCase()!==h.tagName.toLowerCase())&&!m(h)?k=O():k=e(h,v,E,U,I,L);else if(T&6){v.slotScopeIds=I;const j=d(h);if(A?k=c(h):Vi(h)&&h.data==="teleport start"?k=c(h,h.data,"teleport end"):k=u(h),i(v,j,null,E,U,Hi(j),L),Lt(v)){let H;A?(H=de(we),H.anchor=k?k.previousSibling:j.lastChild):H=h.nodeType===3?Or(""):de("div"),H.el=h,v.component.subTree=H}}else T&64?D!==8?k=O():k=v.type.hydrate(h,v,E,U,I,L,t,n):T&128&&(k=v.type.hydrate(h,v,E,U,Hi(d(h)),I,L,t,S))}return w!=null&&on(w,null,U,v),k},e=(h,v,E,U,I,L)=>{L=L||!!v.dynamicChildren;const{type:A,props:O,patchFlag:P,shapeFlag:w,dirs:T,transition:C}=v,D=A==="input"||A==="option";if(D||P!==-1){T&&Qe(v,null,E,"created");let k=!1;if(m(h)){k=jo(U,C)&&E&&E.vnode.props&&E.vnode.props.appear;const H=h.content.firstChild;k&&C.beforeEnter(H),y(H,h,E),v.el=h=H}if(w&16&&!(O&&(O.innerHTML||O.textContent))){let H=n(h.firstChild,v,h,E,U,I,L);for(;H;){Ht();const ee=H;H=H.nextSibling,a(ee)}}else w&8&&h.textContent!==v.children&&(Ht(),h.textContent=v.children);if(O)if(D||!L||P&48)for(const H in O)(D&&(H.endsWith("value")||H==="indeterminate")||Ti(H)&&!Yt(H)||H[0]===".")&&o(h,H,null,O[H],void 0,void 0,E);else O.onClick&&o(h,"onClick",null,O.onClick,void 0,void 0,E);let j;(j=O&&O.onVnodeBeforeMount)&&Oe(j,E,v),T&&Qe(v,null,E,"beforeMount"),((j=O&&O.onVnodeMounted)||T||k)&&So(()=>{j&&Oe(j,E,v),k&&C.enter(h),T&&Qe(v,null,E,"mounted")},U)}return h.nextSibling},n=(h,v,E,U,I,L,A)=>{A=A||!!v.dynamicChildren;const O=v.children,P=O.length;for(let w=0;w<P;w++){const T=A?O[w]:O[w]=He(O[w]);h?h=S(h,T,U,I,L,A):T.type===zt&&!T.children?p(T.el=f(""),E):(Ht(),r(null,T,E,null,U,I,Hi(E),L))}return h},s=(h,v,E,U,I,L)=>{const{slotScopeIds:A}=v;A&&(I=I?I.concat(A):A);const O=d(h),P=n(u(h),v,O,E,U,I,L);return P&&Vi(P)&&P.data==="]"?u(v.anchor=P):(Ht(),p(v.anchor=_("]"),O,P),P)},l=(h,v,E,U,I,L)=>{if(Ht(),v.el=null,L){const P=c(h);for(;;){const w=u(h);if(w&&w!==P)a(w);else break}}const A=u(h),O=d(h);return a(h),r(null,v,O,A,E,U,Hi(O),I),A},c=(h,v="[",E="]")=>{let U=0;for(;h;)if(h=u(h),h&&Vi(h)&&(h.data===v&&U++,h.data===E)){if(U===0)return u(h);U--}return h},y=(h,v,E)=>{const U=v.parentNode;U&&U.replaceChild(h,v);let I=E;for(;I;)I.vnode.el===v&&(I.vnode.el=I.subTree.el=h),I=I.parent},m=h=>h.nodeType===1&&h.tagName.toLowerCase()==="template";return[g,S]}const Ae=So;function Ho(t){return Go(t)}function Vo(t){return Go(t,Wf)}function Go(t,i){const r=Hs();r.__VUE__=!0;const{insert:o,remove:f,patchProp:u,createElement:d,createText:a,createComment:p,setText:_,setElementText:g,parentNode:S,nextSibling:e,setScopeId:n=ze,insertStaticContent:s}=t,l=(x,b,B,F=null,z=null,Y=null,K=void 0,M=null,V=!!b.dynamicChildren)=>{if(x===b)return;x&&!Xe(x,b)&&(F=ae(x),ie(x,z,Y,!0),x=null),b.patchFlag===-2&&(V=!1,b.dynamicChildren=null);const{type:R,ref:N,shapeFlag:$}=b;switch(R){case zt:c(x,b,B,F);break;case Ce:y(x,b,B,F);break;case Ot:x==null&&m(b,B,F,K);break;case we:w(x,b,B,F,z,Y,K,M,V);break;default:$&1?E(x,b,B,F,z,Y,K,M,V):$&6?T(x,b,B,F,z,Y,K,M,V):($&64||$&128)&&R.process(x,b,B,F,z,Y,K,M,V,ge)}N!=null&&z&&on(N,x&&x.ref,Y,b||x,!b)},c=(x,b,B,F)=>{if(x==null)o(b.el=a(b.children),B,F);else{const z=b.el=x.el;b.children!==x.children&&_(z,b.children)}},y=(x,b,B,F)=>{x==null?o(b.el=p(b.children||""),B,F):b.el=x.el},m=(x,b,B,F)=>{[x.el,x.anchor]=s(x.children,b,B,F,x.el,x.anchor)},h=({el:x,anchor:b},B,F)=>{let z;for(;x&&x!==b;)z=e(x),o(x,B,F),x=z;o(b,B,F)},v=({el:x,anchor:b})=>{let B;for(;x&&x!==b;)B=e(x),f(x),x=B;f(b)},E=(x,b,B,F,z,Y,K,M,V)=>{b.type==="svg"?K="svg":b.type==="math"&&(K="mathml"),x==null?U(b,B,F,z,Y,K,M,V):A(x,b,z,Y,K,M,V)},U=(x,b,B,F,z,Y,K,M)=>{let V,R;const{props:N,shapeFlag:$,transition:G,dirs:W}=x;if(V=x.el=d(x.type,Y,N&&N.is,N),$&8?g(V,x.children):$&16&&L(x.children,V,null,F,z,Pn(x,Y),K,M),W&&Qe(x,null,F,"created"),I(V,x,x.scopeId,K,F),N){for(const oe in N)oe!=="value"&&!Yt(oe)&&u(V,oe,null,N[oe],Y,x.children,F,z,ce);"value"in N&&u(V,"value",null,N.value,Y),(R=N.onVnodeBeforeMount)&&Oe(R,F,x)}W&&Qe(x,null,F,"beforeMount");const q=jo(z,G);q&&G.beforeEnter(V),o(V,b,B),((R=N&&N.onVnodeMounted)||q||W)&&Ae(()=>{R&&Oe(R,F,x),q&&G.enter(V),W&&Qe(x,null,F,"mounted")},z)},I=(x,b,B,F,z)=>{if(B&&n(x,B),F)for(let Y=0;Y<F.length;Y++)n(x,F[Y]);if(z){let Y=z.subTree;if(b===Y){const K=z.vnode;I(x,K,K.scopeId,K.slotScopeIds,z.parent)}}},L=(x,b,B,F,z,Y,K,M,V=0)=>{for(let R=V;R<x.length;R++){const N=x[R]=M?gt(x[R]):He(x[R]);l(null,N,b,B,F,z,Y,K,M)}},A=(x,b,B,F,z,Y,K)=>{const M=b.el=x.el;let{patchFlag:V,dynamicChildren:R,dirs:N}=b;V|=x.patchFlag&16;const $=x.props||le,G=b.props||le;let W;if(B&&Ct(B,!1),(W=G.onVnodeBeforeUpdate)&&Oe(W,B,b,x),N&&Qe(b,x,B,"beforeUpdate"),B&&Ct(B,!0),R?O(x.dynamicChildren,R,M,B,F,Pn(b,z),Y):K||H(x,b,M,null,B,F,Pn(b,z),Y,!1),V>0){if(V&16)P(M,b,$,G,B,F,z);else if(V&2&&$.class!==G.class&&u(M,"class",null,G.class,z),V&4&&u(M,"style",$.style,G.style,z),V&8){const q=b.dynamicProps;for(let oe=0;oe<q.length;oe++){const J=q[oe],pe=$[J],ve=G[J];(ve!==pe||J==="value")&&u(M,J,pe,ve,z,x.children,B,F,ce)}}V&1&&x.children!==b.children&&g(M,b.children)}else!K&&R==null&&P(M,b,$,G,B,F,z);((W=G.onVnodeUpdated)||N)&&Ae(()=>{W&&Oe(W,B,b,x),N&&Qe(b,x,B,"updated")},F)},O=(x,b,B,F,z,Y,K)=>{for(let M=0;M<b.length;M++){const V=x[M],R=b[M],N=V.el&&(V.type===we||!Xe(V,R)||V.shapeFlag&70)?S(V.el):B;l(V,R,N,null,F,z,Y,K,!0)}},P=(x,b,B,F,z,Y,K)=>{if(B!==F){if(B!==le)for(const M in B)!Yt(M)&&!(M in F)&&u(x,M,B[M],null,K,b.children,z,Y,ce);for(const M in F){if(Yt(M))continue;const V=F[M],R=B[M];V!==R&&M!=="value"&&u(x,M,R,V,K,b.children,z,Y,ce)}"value"in F&&u(x,"value",B.value,F.value,K)}},w=(x,b,B,F,z,Y,K,M,V)=>{const R=b.el=x?x.el:a(""),N=b.anchor=x?x.anchor:a("");let{patchFlag:$,dynamicChildren:G,slotScopeIds:W}=b;W&&(M=M?M.concat(W):W),x==null?(o(R,B,F),o(N,B,F),L(b.children||[],B,N,z,Y,K,M,V)):$>0&&$&64&&G&&x.dynamicChildren?(O(x.dynamicChildren,G,B,z,Y,K,M),(b.key!=null||z&&b===z.subTree)&&Pr(x,b,!0)):H(x,b,B,N,z,Y,K,M,V)},T=(x,b,B,F,z,Y,K,M,V)=>{b.slotScopeIds=M,x==null?b.shapeFlag&512?z.ctx.activate(b,B,F,K,V):C(b,B,F,z,Y,K,V):D(x,b,V)},C=(x,b,B,F,z,Y,K)=>{const M=x.component=ua(x,F,z);if(Pi(x)&&(M.ctx.renderer=ge),da(M),M.asyncDep){if(z&&z.registerDep(M,k,K),!x.el){const V=M.subTree=de(Ce);y(null,V,b,B)}}else k(M,x,b,B,z,Y,K)},D=(x,b,B)=>{const F=b.component=x.component;if(rf(x,b,B))if(F.asyncDep&&!F.asyncResolved){j(F,b,B);return}else F.next=b,Xl(F.update),F.effect.dirty=!0,F.update();else b.el=x.el,F.vnode=b},k=(x,b,B,F,z,Y,K)=>{const M=()=>{if(x.isMounted){let{next:N,bu:$,u:G,parent:W,vnode:q}=x;{const it=Yo(x);if(it){N&&(N.el=q.el,j(x,N,K)),it.asyncDep.then(()=>{x.isUnmounted||M()});return}}let oe=N,J;Ct(x,!1),N?(N.el=q.el,j(x,N,K)):N=q,$&&$t($),(J=N.props&&N.props.onVnodeBeforeUpdate)&&Oe(J,W,N,q),Ct(x,!0);const pe=qi(x),ve=x.subTree;x.subTree=pe,l(ve,pe,S(ve.el),ae(ve),x,z,Y),N.el=pe.el,oe===null&&Ar(x,pe.el),G&&Ae(G,z),(J=N.props&&N.props.onVnodeUpdated)&&Ae(()=>Oe(J,W,N,q),z)}else{let N;const{el:$,props:G}=b,{bm:W,m:q,parent:oe}=x,J=Lt(b);if(Ct(x,!1),W&&$t(W),!J&&(N=G&&G.onVnodeBeforeMount)&&Oe(N,oe,b),Ct(x,!0),$&&me){const pe=()=>{x.subTree=qi(x),me($,x.subTree,x,z,null)};J?b.type.__asyncLoader().then(()=>!x.isUnmounted&&pe()):pe()}else{const pe=x.subTree=qi(x);l(null,pe,B,F,x,z,Y),b.el=pe.el}if(q&&Ae(q,z),!J&&(N=G&&G.onVnodeMounted)){const pe=b;Ae(()=>Oe(N,oe,pe),z)}(b.shapeFlag&256||oe&&Lt(oe.vnode)&&oe.vnode.shapeFlag&256)&&x.a&&Ae(x.a,z),x.isMounted=!0,b=B=F=null}},V=x.effect=new Jt(M,ze,()=>vn(R),x.scope),R=x.update=()=>{V.dirty&&V.run()};R.id=x.uid,Ct(x,!0),R()},j=(x,b,B)=>{b.component=x;const F=x.vnode.props;x.vnode=b,x.next=null,Gf(x,b.props,F,B),$f(x,b.children,B),Tt(),Jr(x),At()},H=(x,b,B,F,z,Y,K,M,V=!1)=>{const R=x&&x.children,N=x?x.shapeFlag:0,$=b.children,{patchFlag:G,shapeFlag:W}=b;if(G>0){if(G&128){te(R,$,B,F,z,Y,K,M,V);return}else if(G&256){ee(R,$,B,F,z,Y,K,M,V);return}}W&8?(N&16&&ce(R,z,Y),$!==R&&g(B,$)):N&16?W&16?te(R,$,B,F,z,Y,K,M,V):ce(R,z,Y,!0):(N&8&&g(B,""),W&16&&L($,B,F,z,Y,K,M,V))},ee=(x,b,B,F,z,Y,K,M,V)=>{x=x||Gt,b=b||Gt;const R=x.length,N=b.length,$=Math.min(R,N);let G;for(G=0;G<$;G++){const W=b[G]=V?gt(b[G]):He(b[G]);l(x[G],W,B,null,z,Y,K,M,V)}R>N?ce(x,z,Y,!0,!1,$):L(b,B,F,z,Y,K,M,V,$)},te=(x,b,B,F,z,Y,K,M,V)=>{let R=0;const N=b.length;let $=x.length-1,G=N-1;for(;R<=$&&R<=G;){const W=x[R],q=b[R]=V?gt(b[R]):He(b[R]);if(Xe(W,q))l(W,q,B,null,z,Y,K,M,V);else break;R++}for(;R<=$&&R<=G;){const W=x[$],q=b[G]=V?gt(b[G]):He(b[G]);if(Xe(W,q))l(W,q,B,null,z,Y,K,M,V);else break;$--,G--}if(R>$){if(R<=G){const W=G+1,q=W<N?b[W].el:F;for(;R<=G;)l(null,b[R]=V?gt(b[R]):He(b[R]),B,q,z,Y,K,M,V),R++}}else if(R>G)for(;R<=$;)ie(x[R],z,Y,!0),R++;else{const W=R,q=R,oe=new Map;for(R=q;R<=G;R++){const De=b[R]=V?gt(b[R]):He(b[R]);De.key!=null&&oe.set(De.key,R)}let J,pe=0;const ve=G-q+1;let it=!1,ai=0;const li=new Array(ve);for(R=0;R<ve;R++)li[R]=0;for(R=W;R<=$;R++){const De=x[R];if(pe>=ve){ie(De,z,Y,!0);continue}let Je;if(De.key!=null)Je=oe.get(De.key);else for(J=q;J<=G;J++)if(li[J-q]===0&&Xe(De,b[J])){Je=J;break}Je===void 0?ie(De,z,Y,!0):(li[Je-q]=R+1,Je>=ai?ai=Je:it=!0,l(De,b[Je],B,null,z,Y,K,M,V),pe++)}const Hr=it?Xf(li):Gt;for(J=Hr.length-1,R=ve-1;R>=0;R--){const De=q+R,Je=b[De],Vr=De+1<N?b[De+1].el:F;li[R]===0?l(null,Je,B,Vr,z,Y,K,M,V):it&&(J<0||R!==Hr[J]?Z(Je,B,Vr,2):J--)}}},Z=(x,b,B,F,z=null)=>{const{el:Y,type:K,transition:M,children:V,shapeFlag:R}=x;if(R&6){Z(x.component.subTree,b,B,F);return}if(R&128){x.suspense.move(b,B,F);return}if(R&64){K.move(x,b,B,ge);return}if(K===we){o(Y,b,B);for(let $=0;$<V.length;$++)Z(V[$],b,B,F);o(x.anchor,b,B);return}if(K===Ot){h(x,b,B);return}if(F!==2&&R&1&&M)if(F===0)M.beforeEnter(Y),o(Y,b,B),Ae(()=>M.enter(Y),z);else{const{leave:$,delayLeave:G,afterLeave:W}=M,q=()=>o(Y,b,B),oe=()=>{$(Y,()=>{q(),W&&W()})};G?G(Y,q,oe):oe()}else o(Y,b,B)},ie=(x,b,B,F=!1,z=!1)=>{const{type:Y,props:K,ref:M,children:V,dynamicChildren:R,shapeFlag:N,patchFlag:$,dirs:G,memoIndex:W}=x;if($===-2&&(z=!1),M!=null&&on(M,null,B,x,!0),W!=null&&(b.renderCache[W]=void 0),N&256){b.ctx.deactivate(x);return}const q=N&1&&G,oe=!Lt(x);let J;if(oe&&(J=K&&K.onVnodeBeforeUnmount)&&Oe(J,b,x),N&6)Se(x.component,B,F);else{if(N&128){x.suspense.unmount(B,F);return}q&&Qe(x,null,b,"beforeUnmount"),N&64?x.type.remove(x,b,B,ge,F):R&&(Y!==we||$>0&&$&64)?ce(R,b,B,!1,!0):(Y===we&&$&384||!z&&N&16)&&ce(V,b,B),F&&re(x)}(oe&&(J=K&&K.onVnodeUnmounted)||q)&&Ae(()=>{J&&Oe(J,b,x),q&&Qe(x,null,b,"unmounted")},B)},re=x=>{const{type:b,el:B,anchor:F,transition:z}=x;if(b===we){ye(B,F);return}if(b===Ot){v(x);return}const Y=()=>{f(B),z&&!z.persisted&&z.afterLeave&&z.afterLeave()};if(x.shapeFlag&1&&z&&!z.persisted){const{leave:K,delayLeave:M}=z,V=()=>K(B,Y);M?M(x.el,Y,V):V()}else Y()},ye=(x,b)=>{let B;for(;x!==b;)B=e(x),f(x),x=B;f(b)},Se=(x,b,B)=>{const{bum:F,scope:z,update:Y,subTree:K,um:M,m:V,a:R}=x;an(V),an(R),F&&$t(F),z.stop(),Y&&(Y.active=!1,ie(K,x,b,B)),M&&Ae(M,b),Ae(()=>{x.isUnmounted=!0},b),b&&b.pendingBranch&&!b.isUnmounted&&x.asyncDep&&!x.asyncResolved&&x.suspenseId===b.pendingId&&(b.deps--,b.deps===0&&b.resolve())},ce=(x,b,B,F=!1,z=!1,Y=0)=>{for(let K=Y;K<x.length;K++)ie(x[K],b,B,F,z)},ae=x=>x.shapeFlag&6?ae(x.component.subTree):x.shapeFlag&128?x.suspense.next():e(x.anchor||x.el);let fe=!1;const xe=(x,b,B)=>{x==null?b._vnode&&ie(b._vnode,null,null,!0):l(b._vnode||null,x,b,null,null,null,B),fe||(fe=!0,Jr(),rn(),fe=!1),b._vnode=x},ge={p:l,um:ie,m:Z,r:re,mt:C,mc:L,pc:H,pbc:O,n:ae,o:t};let Ue,me;return i&&([Ue,me]=i(ge)),{render:xe,hydrate:Ue,createApp:Mf(xe,Ue)}}function Pn({type:t,props:i},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&i&&i.encoding&&i.encoding.includes("html")?void 0:r}function Ct({effect:t,update:i},r){t.allowRecurse=i.allowRecurse=r}function jo(t,i){return(!t||t&&!t.pendingBranch)&&i&&!i.persisted}function Pr(t,i,r=!1){const o=t.children,f=i.children;if(X(o)&&X(f))for(let u=0;u<o.length;u++){const d=o[u];let a=f[u];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=f[u]=gt(f[u]),a.el=d.el),!r&&a.patchFlag!==-2&&Pr(d,a)),a.type===zt&&(a.el=d.el)}}function Xf(t){const i=t.slice(),r=[0];let o,f,u,d,a;const p=t.length;for(o=0;o<p;o++){const _=t[o];if(_!==0){if(f=r[r.length-1],t[f]<_){i[o]=f,r.push(o);continue}for(u=0,d=r.length-1;u<d;)a=u+d>>1,t[r[a]]<_?u=a+1:d=a;_<t[r[u]]&&(u>0&&(i[o]=r[u-1]),r[u]=o)}}for(u=r.length,d=r[u-1];u-- >0;)r[u]=d,d=i[d];return r}function Yo(t){const i=t.subTree.component;if(i)return i.asyncDep&&!i.asyncResolved?i:Yo(i)}function an(t){if(t)for(let i=0;i<t.length;i++)t[i].active=!1}const $o=Symbol.for("v-scx"),Ko=()=>Ye($o);function Zf(t,i){return Ii(t,null,i)}function qo(t,i){return Ii(t,null,{flush:"post"})}function Wo(t,i){return Ii(t,null,{flush:"sync"})}const Gi={};function wt(t,i,r){return Ii(t,i,r)}function Ii(t,i,{immediate:r,deep:o,flush:f,once:u,onTrack:d,onTrigger:a}=le){if(i&&u){const U=i;i=(...I)=>{U(...I),E()}}const p=Ee,_=U=>o===!0?U:mt(U,o===!1?1:void 0);let g,S=!1,e=!1;if(ke(t)?(g=()=>t.value,S=yi(t)):Kt(t)?(g=()=>_(t),S=!0):X(t)?(e=!0,S=t.some(U=>Kt(U)||yi(U)),g=()=>t.map(U=>{if(ke(U))return U.value;if(Kt(U))return _(U);if(Q(U))return lt(U,p,2)})):Q(t)?i?g=()=>lt(t,p,2):g=()=>(n&&n(),Ge(t,p,3,[s])):g=ze,i&&o){const U=g;g=()=>mt(U())}let n,s=U=>{n=h.onStop=()=>{lt(U,p,4),n=h.onStop=void 0}},l;if(Fi)if(s=ze,i?r&&Ge(i,p,3,[g(),e?[]:void 0,s]):g(),f==="sync"){const U=Ko();l=U.__watcherHandles||(U.__watcherHandles=[])}else return ze;let c=e?new Array(t.length).fill(Gi):Gi;const y=()=>{if(!(!h.active||!h.dirty))if(i){const U=h.run();(o||S||(e?U.some((I,L)=>Ze(I,c[L])):Ze(U,c)))&&(n&&n(),Ge(i,p,3,[U,c===Gi?void 0:e&&c[0]===Gi?[]:c,s]),c=U)}else h.run()};y.allowRecurse=!!i;let m;f==="sync"?m=y:f==="post"?m=()=>Ae(y,p&&p.suspense):(y.pre=!0,p&&(y.id=p.uid),m=()=>vn(y));const h=new Jt(g,ze,m),v=$s(),E=()=>{h.stop(),v&&dr(v.effects,h)};return i?r?y():c=h.run():f==="post"?Ae(h.run.bind(h),p&&p.suspense):h.run(),l&&l.push(E),E}function Jf(t,i,r){const o=this.proxy,f=_e(t)?t.includes(".")?Xo(o,t):()=>o[t]:t.bind(o,o);let u;Q(i)?u=i:(u=i.handler,r=i);const d=Nt(this),a=Ii(f,u.bind(o),r);return d(),a}function Xo(t,i){const r=i.split(".");return()=>{let o=t;for(let f=0;f<r.length&&o;f++)o=o[r[f]];return o}}function mt(t,i=1/0,r){if(i<=0||!ue(t)||t.__v_skip||(r=r||new Set,r.has(t)))return t;if(r.add(t),i--,ke(t))mt(t.value,i,r);else if(X(t))for(let o=0;o<t.length;o++)mt(t[o],i,r);else if(Dt(t)||jt(t))t.forEach(o=>{mt(o,i,r)});else if(Ds(t)){for(const o in t)mt(t[o],i,r);for(const o of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,o)&&mt(t[o],i,r)}return t}const Pi=t=>t.type.__isKeepAlive,Qf={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(t,{slots:i}){const r=ut(),o=r.ctx;if(!o.renderer)return()=>{const m=i.default&&i.default();return m&&m.length===1?m[0]:m};const f=new Map,u=new Set;let d=null;const a=r.suspense,{renderer:{p,m:_,um:g,o:{createElement:S}}}=o,e=S("div");o.activate=(m,h,v,E,U)=>{const I=m.component;_(m,h,v,0,a),p(I.vnode,m,h,v,I,a,E,m.slotScopeIds,U),Ae(()=>{I.isDeactivated=!1,I.a&&$t(I.a);const L=m.props&&m.props.onVnodeMounted;L&&Oe(L,I.parent,m)},a)},o.deactivate=m=>{const h=m.component;an(h.m),an(h.a),_(m,e,null,1,a),Ae(()=>{h.da&&$t(h.da);const v=m.props&&m.props.onVnodeUnmounted;v&&Oe(v,h.parent,m),h.isDeactivated=!0},a)};function n(m){Fn(m),g(m,r,a,!0)}function s(m){f.forEach((h,v)=>{const E=tr(h.type);E&&(!m||!m(E))&&l(v)})}function l(m){const h=f.get(m);!d||!Xe(h,d)?n(h):d&&Fn(d),f.delete(m),u.delete(m)}wt(()=>[t.include,t.exclude],([m,h])=>{m&&s(v=>di(m,v)),h&&s(v=>!di(h,v))},{flush:"post",deep:!0});let c=null;const y=()=>{c!=null&&(Vn(r.subTree.type)?Ae(()=>{f.set(c,ji(r.subTree))},r.subTree.suspense):f.set(c,ji(r.subTree)))};return si(y),xn(y),Un(()=>{f.forEach(m=>{const{subTree:h,suspense:v}=r,E=ji(h);if(m.type===E.type&&m.key===E.key){Fn(E);const U=E.component.da;U&&Ae(U,v);return}n(m)})}),()=>{if(c=null,!i.default)return null;const m=i.default(),h=m[0];if(m.length>1)return d=null,m;if(!Ut(h)||!(h.shapeFlag&4)&&!(h.shapeFlag&128))return d=null,h;let v=ji(h);const E=v.type,U=tr(Lt(v)?v.type.__asyncResolved||{}:E),{include:I,exclude:L,max:A}=t;if(I&&(!U||!di(I,U))||L&&U&&di(L,U))return d=v,h;const O=v.key==null?E:v.key,P=f.get(O);return v.el&&(v=Ke(v),h.shapeFlag&128&&(h.ssContent=v)),c=O,P?(v.el=P.el,v.component=P.component,v.transition&&xt(v,v.transition),v.shapeFlag|=512,u.delete(O),u.add(O)):(u.add(O),A&&u.size>parseInt(A,10)&&l(u.values().next().value)),v.shapeFlag|=256,d=v,Vn(h.type)?h:v}}},eu=Qf;function di(t,i){return X(t)?t.some(r=>di(r,i)):_e(t)?t.split(",").includes(i):Ka(t)?t.test(i):!1}function Zo(t,i){Qo(t,"a",i)}function Jo(t,i){Qo(t,"da",i)}function Qo(t,i,r=Ee){const o=t.__wdc||(t.__wdc=()=>{let f=r;for(;f;){if(f.isDeactivated)return;f=f.parent}return t()});if(Sn(i,o,r),r){let f=r.parent;for(;f&&f.parent;)Pi(f.parent.vnode)&&tu(o,i,r,f),f=f.parent}}function tu(t,i,r,o){const f=Sn(i,t,o,!0);ki(()=>{dr(o[i],f)},r)}function Fn(t){t.shapeFlag&=-257,t.shapeFlag&=-513}function ji(t){return t.shapeFlag&128?t.ssContent:t}const _t=Symbol("_leaveCb"),Yi=Symbol("_enterCb");function Fr(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return si(()=>{t.isMounted=!0}),Un(()=>{t.isUnmounting=!0}),t}const je=[Function,Array],Lr={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:je,onEnter:je,onAfterEnter:je,onEnterCancelled:je,onBeforeLeave:je,onLeave:je,onAfterLeave:je,onLeaveCancelled:je,onBeforeAppear:je,onAppear:je,onAfterAppear:je,onAppearCancelled:je},ea=t=>{const i=t.subTree;return i.component?ea(i.component):i},iu={name:"BaseTransition",props:Lr,setup(t,{slots:i}){const r=ut(),o=Fr();return()=>{const f=i.default&&En(i.default(),!0);if(!f||!f.length)return;let u=f[0];if(f.length>1){for(const e of f)if(e.type!==Ce){u=e;break}}const d=ne(t),{mode:a}=d;if(o.isLeaving)return Ln(u);const p=us(u);if(!p)return Ln(u);let _=ei(p,d,o,r,e=>_=e);xt(p,_);const g=r.subTree,S=g&&us(g);if(S&&S.type!==Ce&&!Xe(p,S)&&ea(r).type!==Ce){const e=ei(S,d,o,r);if(xt(S,e),a==="out-in"&&p.type!==Ce)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,r.update.active!==!1&&(r.effect.dirty=!0,r.update())},Ln(u);a==="in-out"&&p.type!==Ce&&(e.delayLeave=(n,s,l)=>{const c=ia(o,S);c[String(S.key)]=S,n[_t]=()=>{s(),n[_t]=void 0,delete _.delayedLeave},_.delayedLeave=l})}return u}}},ta=iu;function ia(t,i){const{leavingVNodes:r}=t;let o=r.get(i.type);return o||(o=Object.create(null),r.set(i.type,o)),o}function ei(t,i,r,o,f){const{appear:u,mode:d,persisted:a=!1,onBeforeEnter:p,onEnter:_,onAfterEnter:g,onEnterCancelled:S,onBeforeLeave:e,onLeave:n,onAfterLeave:s,onLeaveCancelled:l,onBeforeAppear:c,onAppear:y,onAfterAppear:m,onAppearCancelled:h}=i,v=String(t.key),E=ia(r,t),U=(A,O)=>{A&&Ge(A,o,9,O)},I=(A,O)=>{const P=O[1];U(A,O),X(A)?A.every(w=>w.length<=1)&&P():A.length<=1&&P()},L={mode:d,persisted:a,beforeEnter(A){let O=p;if(!r.isMounted)if(u)O=c||p;else return;A[_t]&&A[_t](!0);const P=E[v];P&&Xe(t,P)&&P.el[_t]&&P.el[_t](),U(O,[A])},enter(A){let O=_,P=g,w=S;if(!r.isMounted)if(u)O=y||_,P=m||g,w=h||S;else return;let T=!1;const C=A[Yi]=D=>{T||(T=!0,D?U(w,[A]):U(P,[A]),L.delayedLeave&&L.delayedLeave(),A[Yi]=void 0)};O?I(O,[A,C]):C()},leave(A,O){const P=String(t.key);if(A[Yi]&&A[Yi](!0),r.isUnmounting)return O();U(e,[A]);let w=!1;const T=A[_t]=C=>{w||(w=!0,O(),C?U(l,[A]):U(s,[A]),A[_t]=void 0,E[P]===t&&delete E[P])};E[P]=t,n?I(n,[A,T]):T()},clone(A){const O=ei(A,i,r,o,f);return f&&f(O),O}};return L}function Ln(t){if(Pi(t))return t=Ke(t),t.children=null,t}function us(t){if(!Pi(t))return t;const{shapeFlag:i,children:r}=t;if(r){if(i&16)return r[0];if(i&32&&Q(r.default))return r.default()}}function xt(t,i){t.shapeFlag&6&&t.component?xt(t.component.subTree,i):t.shapeFlag&128?(t.ssContent.transition=i.clone(t.ssContent),t.ssFallback.transition=i.clone(t.ssFallback)):t.transition=i}function En(t,i=!1,r){let o=[],f=0;for(let u=0;u<t.length;u++){let d=t[u];const a=r==null?d.key:String(r)+String(d.key!=null?d.key:u);d.type===we?(d.patchFlag&128&&f++,o=o.concat(En(d.children,i,a))):(i||d.type!==Ce)&&o.push(a!=null?Ke(d,{key:a}):d)}if(f>1)for(let u=0;u<o.length;u++)o[u].patchFlag=-2;return o}const nu=t=>t.__isTeleport,_i=t=>t&&(t.disabled||t.disabled===""),cs=t=>typeof SVGElement<"u"&&t instanceof SVGElement,ds=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Wn=(t,i)=>{const r=t&&t.to;return _e(r)?i?i(r):null:r},ru={name:"Teleport",__isTeleport:!0,process(t,i,r,o,f,u,d,a,p,_){const{mc:g,pc:S,pbc:e,o:{insert:n,querySelector:s,createText:l,createComment:c}}=_,y=_i(i.props);let{shapeFlag:m,children:h,dynamicChildren:v}=i;if(t==null){const E=i.el=l(""),U=i.anchor=l("");n(E,r,o),n(U,r,o);const I=i.target=Wn(i.props,s),L=i.targetAnchor=l("");I&&(n(L,I),d==="svg"||cs(I)?d="svg":(d==="mathml"||ds(I))&&(d="mathml"));const A=(O,P)=>{m&16&&g(h,O,P,f,u,d,a,p)};y?A(r,U):I&&A(I,L)}else{i.el=t.el;const E=i.anchor=t.anchor,U=i.target=t.target,I=i.targetAnchor=t.targetAnchor,L=_i(t.props),A=L?r:U,O=L?E:I;if(d==="svg"||cs(U)?d="svg":(d==="mathml"||ds(U))&&(d="mathml"),v?(e(t.dynamicChildren,v,A,f,u,d,a),Pr(t,i,!0)):p||S(t,i,A,O,f,u,d,a,!1),y)L?i.props&&t.props&&i.props.to!==t.props.to&&(i.props.to=t.props.to):$i(i,r,E,_,1);else if((i.props&&i.props.to)!==(t.props&&t.props.to)){const P=i.target=Wn(i.props,s);P&&$i(i,P,null,_,0)}else L&&$i(i,U,I,_,1)}na(i)},remove(t,i,r,{um:o,o:{remove:f}},u){const{shapeFlag:d,children:a,anchor:p,targetAnchor:_,target:g,props:S}=t;if(g&&f(_),u&&f(p),d&16){const e=u||!_i(S);for(let n=0;n<a.length;n++){const s=a[n];o(s,i,r,e,!!s.dynamicChildren)}}},move:$i,hydrate:su};function $i(t,i,r,{o:{insert:o},m:f},u=2){u===0&&o(t.targetAnchor,i,r);const{el:d,anchor:a,shapeFlag:p,children:_,props:g}=t,S=u===2;if(S&&o(d,i,r),(!S||_i(g))&&p&16)for(let e=0;e<_.length;e++)f(_[e],i,r,2);S&&o(a,i,r)}function su(t,i,r,o,f,u,{o:{nextSibling:d,parentNode:a,querySelector:p}},_){const g=i.target=Wn(i.props,p);if(g){const S=g._lpa||g.firstChild;if(i.shapeFlag&16)if(_i(i.props))i.anchor=_(d(t),i,a(t),r,o,f,u),i.targetAnchor=S;else{i.anchor=d(t);let e=S;for(;e;)if(e=d(e),e&&e.nodeType===8&&e.data==="teleport anchor"){i.targetAnchor=e,g._lpa=i.targetAnchor&&d(i.targetAnchor);break}_(S,i,g,r,o,f,u)}na(i)}return i.anchor&&d(i.anchor)}const ou=ru;function na(t){const i=t.ctx;if(i&&i.ut){let r=t.children[0].el;for(;r&&r!==t.targetAnchor;)r.nodeType===1&&r.setAttribute("data-v-owner",i.uid),r=r.nextSibling;i.ut()}}const we=Symbol.for("v-fgt"),zt=Symbol.for("v-txt"),Ce=Symbol.for("v-cmt"),Ot=Symbol.for("v-stc"),gi=[];let Re=null;function We(t=!1){gi.push(Re=t?null:[])}function ra(){gi.pop(),Re=gi[gi.length-1]||null}let Rt=1;function Xn(t){Rt+=t}function sa(t){return t.dynamicChildren=Rt>0?Re||Gt:null,ra(),Rt>0&&Re&&Re.push(t),t}function kt(t,i,r,o,f,u){return sa(Ie(t,i,r,o,f,u,!0))}function Tn(t,i,r,o,f){return sa(de(t,i,r,o,f,!0))}function Ut(t){return t?t.__v_isVNode===!0:!1}function Xe(t,i){return t.type===i.type&&t.key===i.key}function au(t){}const oa=({key:t})=>t??null,Zi=({ref:t,ref_key:i,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?_e(t)||ke(t)||Q(t)?{i:Te,r:t,k:i,f:!!r}:t:null);function Ie(t,i=null,r=null,o=0,f=null,u=t===we?0:1,d=!1,a=!1){const p={__v_isVNode:!0,__v_skip:!0,type:t,props:i,key:i&&oa(i),ref:i&&Zi(i),scopeId:wn,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:o,dynamicProps:f,dynamicChildren:null,appContext:null,ctx:Te};return a?(zr(p,r),u&128&&t.normalize(p)):r&&(p.shapeFlag|=_e(r)?8:16),Rt>0&&!d&&Re&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&Re.push(p),p}const de=lu;function lu(t,i=null,r=null,o=0,f=null,u=!1){if((!t||t===bo)&&(t=Ce),Ut(t)){const a=Ke(t,i,!0);return r&&zr(a,r),Rt>0&&!u&&Re&&(a.shapeFlag&6?Re[Re.indexOf(t)]=a:Re.push(a)),a.patchFlag=-2,a}if(gu(t)&&(t=t.__vccOpts),i){i=aa(i);let{class:a,style:p}=i;a&&!_e(a)&&(i.class=Ci(a)),ue(p)&&(wr(p)&&!X(p)&&(p=he({},p)),i.style=ri(p))}const d=_e(t)?1:Vn(t)?128:nu(t)?64:ue(t)?4:Q(t)?2:0;return Ie(t,i,r,o,f,d,u,!0)}function aa(t){return t?wr(t)||Oo(t)?he({},t):t:null}function Ke(t,i,r=!1,o=!1){const{props:f,ref:u,patchFlag:d,children:a,transition:p}=t,_=i?fa(f||{},i):f,g={__v_isVNode:!0,__v_skip:!0,type:t.type,props:_,key:_&&oa(_),ref:i&&i.ref?r&&u?X(u)?u.concat(Zi(i)):[u,Zi(i)]:Zi(i):u,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:i&&t.type!==we?d===-1?16:d|16:d,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:p,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Ke(t.ssContent),ssFallback:t.ssFallback&&Ke(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return p&&o&&xt(g,p.clone(g)),g}function Or(t=" ",i=0){return de(zt,null,t,i)}function la(t,i){const r=de(Ot,null,t);return r.staticCount=i,r}function fu(t="",i=!1){return i?(We(),Tn(Ce,null,t)):de(Ce,null,t)}function He(t){return t==null||typeof t=="boolean"?de(Ce):X(t)?de(we,null,t.slice()):typeof t=="object"?gt(t):de(zt,null,String(t))}function gt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Ke(t)}function zr(t,i){let r=0;const{shapeFlag:o}=t;if(i==null)i=null;else if(X(i))r=16;else if(typeof i=="object")if(o&65){const f=i.default;f&&(f._c&&(f._d=!1),zr(t,f()),f._c&&(f._d=!0));return}else{r=32;const f=i._;!f&&!Oo(i)?i._ctx=Te:f===3&&Te&&(Te.slots._===1?i._=1:(i._=2,t.patchFlag|=1024))}else Q(i)?(i={default:i,_ctx:Te},r=32):(i=String(i),o&64?(r=16,i=[Or(i)]):r=8);t.children=i,t.shapeFlag|=r}function fa(...t){const i={};for(let r=0;r<t.length;r++){const o=t[r];for(const f in o)if(f==="class")i.class!==o.class&&(i.class=Ci([i.class,o.class]));else if(f==="style")i.style=ri([i.style,o.style]);else if(Ti(f)){const u=i[f],d=o[f];d&&u!==d&&!(X(u)&&u.includes(d))&&(i[f]=u?[].concat(u,d):d)}else f!==""&&(i[f]=o[f])}return i}function Oe(t,i,r,o=null){Ge(t,i,7,[r,o])}const uu=Po();let cu=0;function ua(t,i,r){const o=t.type,f=(i?i.appContext:t.appContext)||uu,u={uid:cu++,vnode:t,type:o,parent:i,appContext:f,root:null,next:null,subTree:null,effect:null,update:null,scope:new gr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:i?i.provides:Object.create(f.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ro(o,f),emitsOptions:mo(o,f),emit:null,emitted:null,propsDefaults:le,inheritAttrs:o.inheritAttrs,ctx:le,data:le,props:le,attrs:le,slots:le,refs:le,setupState:le,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=i?i.root:u,u.emit=Jl.bind(null,u),t.ce&&t.ce(u),u}let Ee=null;const ut=()=>Ee||Te;let ln,Zn;{const t=Hs(),i=(r,o)=>{let f;return(f=t[r])||(f=t[r]=[]),f.push(o),u=>{f.length>1?f.forEach(d=>d(u)):f[0](u)}};ln=i("__VUE_INSTANCE_SETTERS__",r=>Ee=r),Zn=i("__VUE_SSR_SETTERS__",r=>Fi=r)}const Nt=t=>{const i=Ee;return ln(t),t.scope.on(),()=>{t.scope.off(),ln(i)}},Jn=()=>{Ee&&Ee.scope.off(),ln(null)};function ca(t){return t.vnode.shapeFlag&4}let Fi=!1;function da(t,i=!1){i&&Zn(i);const{props:r,children:o}=t.vnode,f=ca(t);Vf(t,r,f,i),Yf(t,o);const u=f?du(t,i):void 0;return i&&Zn(!1),u}function du(t,i){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Yn);const{setup:o}=r;if(o){const f=t.setupContext=o.length>1?pa(t):null,u=Nt(t);Tt();const d=lt(o,t,0,[t.props,f]);if(At(),u(),hr(d)){if(d.then(Jn,Jn),i)return d.then(a=>{Qn(t,a,i)}).catch(a=>{Mt(a,t,0)});t.asyncDep=d}else Qn(t,d,i)}else ha(t,i)}function Qn(t,i,r){Q(i)?t.type.__ssrInlineRender?t.ssrRender=i:t.render=i:ue(i)&&(t.setupState=Er(i)),ha(t,r)}let fn,er;function hu(t){fn=t,er=i=>{i.render._rc&&(i.withProxy=new Proxy(i.ctx,bf))}}const pu=()=>!fn;function ha(t,i,r){const o=t.type;if(!t.render){if(!i&&fn&&!o.render){const f=o.template||kr(t).template;if(f){const{isCustomElement:u,compilerOptions:d}=t.appContext.config,{delimiters:a,compilerOptions:p}=o,_=he(he({isCustomElement:u,delimiters:a},d),p);o.render=fn(f,_)}}t.render=o.render||ze,er&&er(t)}{const f=Nt(t);Tt();try{Lf(t)}finally{At(),f()}}}const _u={get(t,i){return Ne(t,"get",""),t[i]}};function pa(t){const i=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,_u),slots:t.slots,emit:t.emit,expose:i}}function Li(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(Er(ao(t.exposed)),{get(i,r){if(r in i)return i[r];if(r in pi)return pi[r](t)},has(i,r){return r in i||r in pi}})):t.proxy}function tr(t,i=!0){return Q(t)?t.displayName||t.name:t.name||i&&t.__name}function gu(t){return Q(t)&&"__vccOpts"in t}const yt=(t,i)=>Pl(t,i,Fi);function mu(t,i,r=le){const o=ut(),f=Le(i),u=Ve(i),d=uo((p,_)=>{let g;return Wo(()=>{const S=t[i];Ze(g,S)&&(g=S,_())}),{get(){return p(),r.get?r.get(g):g},set(S){const e=o.vnode.props;!(e&&(i in e||f in e||u in e)&&(`onUpdate:${i}`in e||`onUpdate:${f}`in e||`onUpdate:${u}`in e))&&Ze(S,g)&&(g=S,_()),o.emit(`update:${i}`,r.set?r.set(S):S)}}}),a=i==="modelValue"?"modelModifiers":`${i}Modifiers`;return d[Symbol.iterator]=()=>{let p=0;return{next(){return p<2?{value:p++?t[a]||{}:d,done:!1}:{done:!0}}}},d}function vt(t,i,r){const o=arguments.length;return o===2?ue(i)&&!X(i)?Ut(i)?de(t,null,[i]):de(t,i):de(t,null,i):(o>3?r=Array.prototype.slice.call(arguments,2):o===3&&Ut(r)&&(r=[r]),de(t,i,r))}function yu(){}function vu(t,i,r,o){const f=r[o];if(f&&_a(f,t))return f;const u=i();return u.memo=t.slice(),u.memoIndex=o,r[o]=u}function _a(t,i){const r=t.memo;if(r.length!=i.length)return!1;for(let o=0;o<r.length;o++)if(Ze(r[o],i[o]))return!1;return Rt>0&&Re&&Re.push(t),!0}const ga="3.4.31",bu=ze,wu=Kl,Su=Vt,xu=go,Uu={createComponentInstance:ua,setupComponent:da,renderComponentRoot:qi,setCurrentRenderingInstance:Si,isVNode:Ut,normalizeVNode:He,getComponentPublicInstance:Li},Eu=Uu,Tu=null,Au=null,Cu=null;/**
* @vue/runtime-dom v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Bu="http://www.w3.org/2000/svg",ku="http://www.w3.org/1998/Math/MathML",rt=typeof document<"u"?document:null,hs=rt&&rt.createElement("template"),Iu={insert:(t,i,r)=>{i.insertBefore(t,r||null)},remove:t=>{const i=t.parentNode;i&&i.removeChild(t)},createElement:(t,i,r,o)=>{const f=i==="svg"?rt.createElementNS(Bu,t):i==="mathml"?rt.createElementNS(ku,t):r?rt.createElement(t,{is:r}):rt.createElement(t);return t==="select"&&o&&o.multiple!=null&&f.setAttribute("multiple",o.multiple),f},createText:t=>rt.createTextNode(t),createComment:t=>rt.createComment(t),setText:(t,i)=>{t.nodeValue=i},setElementText:(t,i)=>{t.textContent=i},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>rt.querySelector(t),setScopeId(t,i){t.setAttribute(i,"")},insertStaticContent(t,i,r,o,f,u){const d=r?r.previousSibling:i.lastChild;if(f&&(f===u||f.nextSibling))for(;i.insertBefore(f.cloneNode(!0),r),!(f===u||!(f=f.nextSibling)););else{hs.innerHTML=o==="svg"?`<svg>${t}</svg>`:o==="mathml"?`<math>${t}</math>`:t;const a=hs.content;if(o==="svg"||o==="mathml"){const p=a.firstChild;for(;p.firstChild;)a.appendChild(p.firstChild);a.removeChild(p)}i.insertBefore(a,r)}return[d?d.nextSibling:i.firstChild,r?r.previousSibling:i.lastChild]}},dt="transition",fi="animation",ti=Symbol("_vtc"),Rr=(t,{slots:i})=>vt(ta,ya(t),i);Rr.displayName="Transition";const ma={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Pu=Rr.props=he({},Lr,ma),Bt=(t,i=[])=>{X(t)?t.forEach(r=>r(...i)):t&&t(...i)},ps=t=>t?X(t)?t.some(i=>i.length>1):t.length>1:!1;function ya(t){const i={};for(const w in t)w in ma||(i[w]=t[w]);if(t.css===!1)return i;const{name:r="v",type:o,duration:f,enterFromClass:u=`${r}-enter-from`,enterActiveClass:d=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:p=u,appearActiveClass:_=d,appearToClass:g=a,leaveFromClass:S=`${r}-leave-from`,leaveActiveClass:e=`${r}-leave-active`,leaveToClass:n=`${r}-leave-to`}=t,s=Fu(f),l=s&&s[0],c=s&&s[1],{onBeforeEnter:y,onEnter:m,onEnterCancelled:h,onLeave:v,onLeaveCancelled:E,onBeforeAppear:U=y,onAppear:I=m,onAppearCancelled:L=h}=i,A=(w,T,C)=>{ht(w,T?g:a),ht(w,T?_:d),C&&C()},O=(w,T)=>{w._isLeaving=!1,ht(w,S),ht(w,n),ht(w,e),T&&T()},P=w=>(T,C)=>{const D=w?I:m,k=()=>A(T,w,C);Bt(D,[T,k]),_s(()=>{ht(T,w?p:u),nt(T,w?g:a),ps(D)||gs(T,o,l,k)})};return he(i,{onBeforeEnter(w){Bt(y,[w]),nt(w,u),nt(w,d)},onBeforeAppear(w){Bt(U,[w]),nt(w,p),nt(w,_)},onEnter:P(!1),onAppear:P(!0),onLeave(w,T){w._isLeaving=!0;const C=()=>O(w,T);nt(w,S),nt(w,e),ba(),_s(()=>{w._isLeaving&&(ht(w,S),nt(w,n),ps(v)||gs(w,o,c,C))}),Bt(v,[w,C])},onEnterCancelled(w){A(w,!1),Bt(h,[w])},onAppearCancelled(w){A(w,!0),Bt(L,[w])},onLeaveCancelled(w){O(w),Bt(E,[w])}})}function Fu(t){if(t==null)return null;if(ue(t))return[On(t.enter),On(t.leave)];{const i=On(t);return[i,i]}}function On(t){return en(t)}function nt(t,i){i.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[ti]||(t[ti]=new Set)).add(i)}function ht(t,i){i.split(/\s+/).forEach(o=>o&&t.classList.remove(o));const r=t[ti];r&&(r.delete(i),r.size||(t[ti]=void 0))}function _s(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let Lu=0;function gs(t,i,r,o){const f=t._endId=++Lu,u=()=>{f===t._endId&&o()};if(r)return setTimeout(u,r);const{type:d,timeout:a,propCount:p}=va(t,i);if(!d)return o();const _=d+"end";let g=0;const S=()=>{t.removeEventListener(_,e),u()},e=n=>{n.target===t&&++g>=p&&S()};setTimeout(()=>{g<p&&S()},a+1),t.addEventListener(_,e)}function va(t,i){const r=window.getComputedStyle(t),o=s=>(r[s]||"").split(", "),f=o(`${dt}Delay`),u=o(`${dt}Duration`),d=ms(f,u),a=o(`${fi}Delay`),p=o(`${fi}Duration`),_=ms(a,p);let g=null,S=0,e=0;i===dt?d>0&&(g=dt,S=d,e=u.length):i===fi?_>0&&(g=fi,S=_,e=p.length):(S=Math.max(d,_),g=S>0?d>_?dt:fi:null,e=g?g===dt?u.length:p.length:0);const n=g===dt&&/\b(transform|all)(,|$)/.test(o(`${dt}Property`).toString());return{type:g,timeout:S,propCount:e,hasTransform:n}}function ms(t,i){for(;t.length<i.length;)t=t.concat(t);return Math.max(...i.map((r,o)=>ys(r)+ys(t[o])))}function ys(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ba(){return document.body.offsetHeight}function Ou(t,i,r){const o=t[ti];o&&(i=(i?[i,...o]:[...o]).join(" ")),i==null?t.removeAttribute("class"):r?t.setAttribute("class",i):t.className=i}const un=Symbol("_vod"),wa=Symbol("_vsh"),Sa={beforeMount(t,{value:i},{transition:r}){t[un]=t.style.display==="none"?"":t.style.display,r&&i?r.beforeEnter(t):ui(t,i)},mounted(t,{value:i},{transition:r}){r&&i&&r.enter(t)},updated(t,{value:i,oldValue:r},{transition:o}){!i!=!r&&(o?i?(o.beforeEnter(t),ui(t,!0),o.enter(t)):o.leave(t,()=>{ui(t,!1)}):ui(t,i))},beforeUnmount(t,{value:i}){ui(t,i)}};function ui(t,i){t.style.display=i?t[un]:"none",t[wa]=!i}function zu(){Sa.getSSRProps=({value:t})=>{if(!t)return{style:{display:"none"}}}}const xa=Symbol("");function Ru(t){const i=ut();if(!i)return;const r=i.ut=(f=t(i.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${i.uid}"]`)).forEach(u=>nr(u,f))},o=()=>{const f=t(i.proxy);ir(i.subTree,f),r(f)};si(()=>{qo(o);const f=new MutationObserver(o);f.observe(i.subTree.el.parentNode,{childList:!0}),ki(()=>f.disconnect())})}function ir(t,i){if(t.shapeFlag&128){const r=t.suspense;t=r.activeBranch,r.pendingBranch&&!r.isHydrating&&r.effects.push(()=>{ir(r.activeBranch,i)})}for(;t.component;)t=t.component.subTree;if(t.shapeFlag&1&&t.el)nr(t.el,i);else if(t.type===we)t.children.forEach(r=>ir(r,i));else if(t.type===Ot){let{el:r,anchor:o}=t;for(;r&&(nr(r,i),r!==o);)r=r.nextSibling}}function nr(t,i){if(t.nodeType===1){const r=t.style;let o="";for(const f in i)r.setProperty(`--${f}`,i[f]),o+=`--${f}: ${i[f]};`;r[xa]=o}}const Nu=/(^|;)\s*display\s*:/;function Du(t,i,r){const o=t.style,f=_e(r);let u=!1;if(r&&!f){if(i)if(_e(i))for(const d of i.split(";")){const a=d.slice(0,d.indexOf(":")).trim();r[a]==null&&Ji(o,a,"")}else for(const d in i)r[d]==null&&Ji(o,d,"");for(const d in r)d==="display"&&(u=!0),Ji(o,d,r[d])}else if(f){if(i!==r){const d=o[xa];d&&(r+=";"+d),o.cssText=r,u=Nu.test(r)}}else i&&t.removeAttribute("style");un in t&&(t[un]=u?o.display:"",t[wa]&&(o.display="none"))}const vs=/\s*!important$/;function Ji(t,i,r){if(X(r))r.forEach(o=>Ji(t,i,o));else if(r==null&&(r=""),i.startsWith("--"))t.setProperty(i,r);else{const o=Mu(t,i);vs.test(r)?t.setProperty(Ve(o),r.replace(vs,""),"important"):t[o]=r}}const bs=["Webkit","Moz","ms"],zn={};function Mu(t,i){const r=zn[i];if(r)return r;let o=Le(i);if(o!=="filter"&&o in t)return zn[i]=o;o=Ai(o);for(let f=0;f<bs.length;f++){const u=bs[f]+o;if(u in t)return zn[i]=u}return i}const ws="http://www.w3.org/1999/xlink";function Ss(t,i,r,o,f,u=sl(i)){o&&i.startsWith("xlink:")?r==null?t.removeAttributeNS(ws,i.slice(6,i.length)):t.setAttributeNS(ws,i,r):r==null||u&&!Vs(r)?t.removeAttribute(i):t.setAttribute(i,u?"":tt(r)?String(r):r)}function Hu(t,i,r,o,f,u,d){if(i==="innerHTML"||i==="textContent"){o&&d(o,f,u),t[i]=r??"";return}const a=t.tagName;if(i==="value"&&a!=="PROGRESS"&&!a.includes("-")){const _=a==="OPTION"?t.getAttribute("value")||"":t.value,g=r==null?"":String(r);(_!==g||!("_value"in t))&&(t.value=g),r==null&&t.removeAttribute(i),t._value=r;return}let p=!1;if(r===""||r==null){const _=typeof t[i];_==="boolean"?r=Vs(r):r==null&&_==="string"?(r="",p=!0):_==="number"&&(r=0,p=!0)}try{t[i]=r}catch{}p&&t.removeAttribute(i)}function st(t,i,r,o){t.addEventListener(i,r,o)}function Vu(t,i,r,o){t.removeEventListener(i,r,o)}const xs=Symbol("_vei");function Gu(t,i,r,o,f=null){const u=t[xs]||(t[xs]={}),d=u[i];if(o&&d)d.value=o;else{const[a,p]=ju(i);if(o){const _=u[i]=Ku(o,f);st(t,a,_,p)}else d&&(Vu(t,a,d,p),u[i]=void 0)}}const Us=/(?:Once|Passive|Capture)$/;function ju(t){let i;if(Us.test(t)){i={};let o;for(;o=t.match(Us);)t=t.slice(0,t.length-o[0].length),i[o[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Ve(t.slice(2)),i]}let Rn=0;const Yu=Promise.resolve(),$u=()=>Rn||(Yu.then(()=>Rn=0),Rn=Date.now());function Ku(t,i){const r=o=>{if(!o._vts)o._vts=Date.now();else if(o._vts<=r.attached)return;Ge(qu(o,r.value),i,5,[o])};return r.value=t,r.attached=$u(),r}function qu(t,i){if(X(i)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},i.map(o=>f=>!f._stopped&&o&&o(f))}else return i}const Es=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Wu=(t,i,r,o,f,u,d,a,p)=>{const _=f==="svg";i==="class"?Ou(t,o,_):i==="style"?Du(t,r,o):Ti(i)?cr(i)||Gu(t,i,r,o,d):(i[0]==="."?(i=i.slice(1),!0):i[0]==="^"?(i=i.slice(1),!1):Xu(t,i,o,_))?(Hu(t,i,o,u,d,a,p),!t.tagName.includes("-")&&(i==="value"||i==="checked"||i==="selected")&&Ss(t,i,o,_,d,i!=="value")):(i==="true-value"?t._trueValue=o:i==="false-value"&&(t._falseValue=o),Ss(t,i,o,_))};function Xu(t,i,r,o){if(o)return!!(i==="innerHTML"||i==="textContent"||i in t&&Es(i)&&Q(r));if(i==="spellcheck"||i==="draggable"||i==="translate"||i==="form"||i==="list"&&t.tagName==="INPUT"||i==="type"&&t.tagName==="TEXTAREA")return!1;if(i==="width"||i==="height"){const f=t.tagName;if(f==="IMG"||f==="VIDEO"||f==="CANVAS"||f==="SOURCE")return!1}return Es(i)&&_e(r)?!1:i in t}/*! #__NO_SIDE_EFFECTS__ */function Ua(t,i,r){const o=oi(t,i);class f extends An{constructor(d){super(o,d,r)}}return f.def=o,f}/*! #__NO_SIDE_EFFECTS__ */const Zu=(t,i)=>Ua(t,i,Oa),Ju=typeof HTMLElement<"u"?HTMLElement:class{};class An extends Ju{constructor(i,r={},o){super(),this._def=i,this._props=r,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this._ob=null,this.shadowRoot&&o?o(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,Bi(()=>{this._connected||(this._ob&&(this._ob.disconnect(),this._ob=null),rr(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let o=0;o<this.attributes.length;o++)this._setAttr(this.attributes[o].name);this._ob=new MutationObserver(o=>{for(const f of o)this._setAttr(f.attributeName)}),this._ob.observe(this,{attributes:!0});const i=(o,f=!1)=>{const{props:u,styles:d}=o;let a;if(u&&!X(u))for(const p in u){const _=u[p];(_===Number||_&&_.type===Number)&&(p in this._props&&(this._props[p]=en(this._props[p])),(a||(a=Object.create(null)))[Le(p)]=!0)}this._numberProps=a,f&&this._resolveProps(o),this._applyStyles(d),this._update()},r=this._def.__asyncLoader;r?r().then(o=>i(o,!0)):i(this._def)}_resolveProps(i){const{props:r}=i,o=X(r)?r:Object.keys(r||{});for(const f of Object.keys(this))f[0]!=="_"&&o.includes(f)&&this._setProp(f,this[f],!0,!1);for(const f of o.map(Le))Object.defineProperty(this,f,{get(){return this._getProp(f)},set(u){this._setProp(f,u)}})}_setAttr(i){let r=this.hasAttribute(i)?this.getAttribute(i):void 0;const o=Le(i);this._numberProps&&this._numberProps[o]&&(r=en(r)),this._setProp(o,r,!1)}_getProp(i){return this._props[i]}_setProp(i,r,o=!0,f=!0){r!==this._props[i]&&(this._props[i]=r,f&&this._instance&&this._update(),o&&(r===!0?this.setAttribute(Ve(i),""):typeof r=="string"||typeof r=="number"?this.setAttribute(Ve(i),r+""):r||this.removeAttribute(Ve(i))))}_update(){rr(this._createVNode(),this.shadowRoot)}_createVNode(){const i=de(this._def,he({},this._props));return this._instance||(i.ce=r=>{this._instance=r,r.isCE=!0;const o=(u,d)=>{this.dispatchEvent(new CustomEvent(u,{detail:d}))};r.emit=(u,...d)=>{o(u,d),Ve(u)!==u&&o(Ve(u),d)};let f=this;for(;f=f&&(f.parentNode||f.host);)if(f instanceof An){r.parent=f._instance,r.provides=f._instance.provides;break}}),i}_applyStyles(i){i&&i.forEach(r=>{const o=document.createElement("style");o.textContent=r,this.shadowRoot.appendChild(o)})}}function Qu(t="$style"){{const i=ut();if(!i)return le;const r=i.type.__cssModules;if(!r)return le;const o=r[t];return o||le}}const Ea=new WeakMap,Ta=new WeakMap,cn=Symbol("_moveCb"),Ts=Symbol("_enterCb"),Aa={name:"TransitionGroup",props:he({},Pu,{tag:String,moveClass:String}),setup(t,{slots:i}){const r=ut(),o=Fr();let f,u;return xn(()=>{if(!f.length)return;const d=t.moveClass||`${t.name||"v"}-move`;if(!sc(f[0].el,r.vnode.el,d))return;f.forEach(ic),f.forEach(nc);const a=f.filter(rc);ba(),a.forEach(p=>{const _=p.el,g=_.style;nt(_,d),g.transform=g.webkitTransform=g.transitionDuration="";const S=_[cn]=e=>{e&&e.target!==_||(!e||/transform$/.test(e.propertyName))&&(_.removeEventListener("transitionend",S),_[cn]=null,ht(_,d))};_.addEventListener("transitionend",S)})}),()=>{const d=ne(t),a=ya(d);let p=d.tag||we;if(f=[],u)for(let _=0;_<u.length;_++){const g=u[_];g.el&&g.el instanceof Element&&(f.push(g),xt(g,ei(g,a,o,r)),Ea.set(g,g.el.getBoundingClientRect()))}u=i.default?En(i.default()):[];for(let _=0;_<u.length;_++){const g=u[_];g.key!=null&&xt(g,ei(g,a,o,r))}return de(p,null,u)}}},ec=t=>delete t.mode;Aa.props;const tc=Aa;function ic(t){const i=t.el;i[cn]&&i[cn](),i[Ts]&&i[Ts]()}function nc(t){Ta.set(t,t.el.getBoundingClientRect())}function rc(t){const i=Ea.get(t),r=Ta.get(t),o=i.left-r.left,f=i.top-r.top;if(o||f){const u=t.el.style;return u.transform=u.webkitTransform=`translate(${o}px,${f}px)`,u.transitionDuration="0s",t}}function sc(t,i,r){const o=t.cloneNode(),f=t[ti];f&&f.forEach(a=>{a.split(/\s+/).forEach(p=>p&&o.classList.remove(p))}),r.split(/\s+/).forEach(a=>a&&o.classList.add(a)),o.style.display="none";const u=i.nodeType===1?i:i.parentNode;u.appendChild(o);const{hasTransform:d}=va(o);return u.removeChild(o),d}const Et=t=>{const i=t.props["onUpdate:modelValue"]||!1;return X(i)?r=>$t(i,r):i};function oc(t){t.target.composing=!0}function As(t){const i=t.target;i.composing&&(i.composing=!1,i.dispatchEvent(new Event("input")))}const $e=Symbol("_assign"),dn={created(t,{modifiers:{lazy:i,trim:r,number:o}},f){t[$e]=Et(f);const u=o||f.props&&f.props.type==="number";st(t,i?"change":"input",d=>{if(d.target.composing)return;let a=t.value;r&&(a=a.trim()),u&&(a=Qi(a)),t[$e](a)}),r&&st(t,"change",()=>{t.value=t.value.trim()}),i||(st(t,"compositionstart",oc),st(t,"compositionend",As),st(t,"change",As))},mounted(t,{value:i}){t.value=i??""},beforeUpdate(t,{value:i,oldValue:r,modifiers:{lazy:o,trim:f,number:u}},d){if(t[$e]=Et(d),t.composing)return;const a=(u||t.type==="number")&&!/^0\d/.test(t.value)?Qi(t.value):t.value,p=i??"";a!==p&&(document.activeElement===t&&t.type!=="range"&&(o&&i===r||f&&t.value.trim()===p)||(t.value=p))}},Nr={deep:!0,created(t,i,r){t[$e]=Et(r),st(t,"change",()=>{const o=t._modelValue,f=ii(t),u=t.checked,d=t[$e];if(X(o)){const a=_n(o,f),p=a!==-1;if(u&&!p)d(o.concat(f));else if(!u&&p){const _=[...o];_.splice(a,1),d(_)}}else if(Dt(o)){const a=new Set(o);u?a.add(f):a.delete(f),d(a)}else d(Ba(t,u))})},mounted:Cs,beforeUpdate(t,i,r){t[$e]=Et(r),Cs(t,i,r)}};function Cs(t,{value:i,oldValue:r},o){t._modelValue=i,X(i)?t.checked=_n(i,o.props.value)>-1:Dt(i)?t.checked=i.has(o.props.value):i!==r&&(t.checked=St(i,Ba(t,!0)))}const Dr={created(t,{value:i},r){t.checked=St(i,r.props.value),t[$e]=Et(r),st(t,"change",()=>{t[$e](ii(t))})},beforeUpdate(t,{value:i,oldValue:r},o){t[$e]=Et(o),i!==r&&(t.checked=St(i,o.props.value))}},Ca={deep:!0,created(t,{value:i,modifiers:{number:r}},o){const f=Dt(i);st(t,"change",()=>{const u=Array.prototype.filter.call(t.options,d=>d.selected).map(d=>r?Qi(ii(d)):ii(d));t[$e](t.multiple?f?new Set(u):u:u[0]),t._assigning=!0,Bi(()=>{t._assigning=!1})}),t[$e]=Et(o)},mounted(t,{value:i,modifiers:{number:r}}){Bs(t,i)},beforeUpdate(t,i,r){t[$e]=Et(r)},updated(t,{value:i,modifiers:{number:r}}){t._assigning||Bs(t,i)}};function Bs(t,i,r){const o=t.multiple,f=X(i);if(!(o&&!f&&!Dt(i))){for(let u=0,d=t.options.length;u<d;u++){const a=t.options[u],p=ii(a);if(o)if(f){const _=typeof p;_==="string"||_==="number"?a.selected=i.some(g=>String(g)===String(p)):a.selected=_n(i,p)>-1}else a.selected=i.has(p);else if(St(ii(a),i)){t.selectedIndex!==u&&(t.selectedIndex=u);return}}!o&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ii(t){return"_value"in t?t._value:t.value}function Ba(t,i){const r=i?"_trueValue":"_falseValue";return r in t?t[r]:i}const ka={created(t,i,r){Ki(t,i,r,null,"created")},mounted(t,i,r){Ki(t,i,r,null,"mounted")},beforeUpdate(t,i,r,o){Ki(t,i,r,o,"beforeUpdate")},updated(t,i,r,o){Ki(t,i,r,o,"updated")}};function Ia(t,i){switch(t){case"SELECT":return Ca;case"TEXTAREA":return dn;default:switch(i){case"checkbox":return Nr;case"radio":return Dr;default:return dn}}}function Ki(t,i,r,o,f){const d=Ia(t.tagName,r.props&&r.props.type)[f];d&&d(t,i,r,o)}function ac(){dn.getSSRProps=({value:t})=>({value:t}),Dr.getSSRProps=({value:t},i)=>{if(i.props&&St(i.props.value,t))return{checked:!0}},Nr.getSSRProps=({value:t},i)=>{if(X(t)){if(i.props&&_n(t,i.props.value)>-1)return{checked:!0}}else if(Dt(t)){if(i.props&&t.has(i.props.value))return{checked:!0}}else if(t)return{checked:!0}},ka.getSSRProps=(t,i)=>{if(typeof i.type!="string")return;const r=Ia(i.type.toUpperCase(),i.props&&i.props.type);if(r.getSSRProps)return r.getSSRProps(t,i)}}const lc=["ctrl","shift","alt","meta"],fc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,i)=>lc.some(r=>t[`${r}Key`]&&!i.includes(r))},uc=(t,i)=>{const r=t._withMods||(t._withMods={}),o=i.join(".");return r[o]||(r[o]=(f,...u)=>{for(let d=0;d<i.length;d++){const a=fc[i[d]];if(a&&a(f,i))return}return t(f,...u)})},cc={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},dc=(t,i)=>{const r=t._withKeys||(t._withKeys={}),o=i.join(".");return r[o]||(r[o]=f=>{if(!("key"in f))return;const u=Ve(f.key);if(i.some(d=>d===u||cc[d]===u))return t(f)})},Pa=he({patchProp:Wu},Iu);let mi,ks=!1;function Fa(){return mi||(mi=Ho(Pa))}function La(){return mi=ks?mi:Vo(Pa),ks=!0,mi}const rr=(...t)=>{Fa().render(...t)},Oa=(...t)=>{La().hydrate(...t)},za=(...t)=>{const i=Fa().createApp(...t),{mount:r}=i;return i.mount=o=>{const f=Na(o);if(!f)return;const u=i._component;!Q(u)&&!u.render&&!u.template&&(u.template=f.innerHTML),f.innerHTML="";const d=r(f,!1,Ra(f));return f instanceof Element&&(f.removeAttribute("v-cloak"),f.setAttribute("data-v-app","")),d},i},hc=(...t)=>{const i=La().createApp(...t),{mount:r}=i;return i.mount=o=>{const f=Na(o);if(f)return r(f,!0,Ra(f))},i};function Ra(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Na(t){return _e(t)?document.querySelector(t):t}let Is=!1;const pc=()=>{Is||(Is=!0,ac(),zu())};/**
* vue v3.4.31
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const _c=()=>{},gc=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:ta,BaseTransitionPropsValidators:Lr,Comment:Ce,DeprecationTypes:Cu,EffectScope:gr,ErrorCodes:$l,ErrorTypeStrings:wu,Fragment:we,KeepAlive:eu,ReactiveEffect:Jt,Static:Ot,Suspense:ff,Teleport:ou,Text:zt,TrackOpTypes:Gl,Transition:Rr,TransitionGroup:tc,TriggerOpTypes:jl,VueElement:An,assertNumber:Yl,callWithAsyncErrorHandling:Ge,callWithErrorHandling:lt,camelize:Le,capitalize:Ai,cloneVNode:Ke,compatUtils:Au,compile:_c,computed:yt,createApp:za,createBlock:Tn,createCommentVNode:fu,createElementBlock:kt,createElementVNode:Ie,createHydrationRenderer:Vo,createPropsRestProxy:Pf,createRenderer:Ho,createSSRApp:hc,createSlots:gf,createStaticVNode:la,createTextVNode:Or,createVNode:de,customRef:uo,defineAsyncComponent:mf,defineComponent:oi,defineCustomElement:Ua,defineEmits:Sf,defineExpose:xf,defineModel:Tf,defineOptions:Uf,defineProps:wf,defineSSRCustomElement:Zu,defineSlots:Ef,devtools:Su,effect:ul,effectScope:al,getCurrentInstance:ut,getCurrentScope:$s,getTransitionRawChildren:En,guardReactiveProps:aa,h:vt,handleError:Mt,hasInjectionContext:Hf,hydrate:Oa,initCustomFormatter:yu,initDirectivesForSSR:pc,inject:Ye,isMemoSame:_a,isProxy:wr,isReactive:Kt,isReadonly:Qt,isRef:ke,isRuntimeOnly:pu,isShallow:yi,isVNode:Ut,markRaw:ao,mergeDefaults:kf,mergeModels:If,mergeProps:fa,nextTick:Bi,normalizeClass:Ci,normalizeProps:nl,normalizeStyle:ri,onActivated:Zo,onBeforeMount:xo,onBeforeUnmount:Un,onBeforeUpdate:Uo,onDeactivated:Jo,onErrorCaptured:Co,onMounted:si,onRenderTracked:Ao,onRenderTriggered:To,onScopeDispose:ll,onServerPrefetch:Eo,onUnmounted:ki,onUpdated:xn,openBlock:We,popScopeId:vo,provide:qe,proxyRefs:Er,pushScopeId:yo,queuePostFlushCb:nn,reactive:at,readonly:br,ref:be,registerRuntimeCompiler:hu,render:rr,renderList:Xi,renderSlot:yf,resolveComponent:Wi,resolveDirective:af,resolveDynamicComponent:of,resolveFilter:Tu,resolveTransitionHooks:ei,setBlockTracking:Xn,setDevtoolsHook:xu,setTransitionHooks:xt,shallowReactive:oo,shallowReadonly:Il,shallowRef:Fl,ssrContextKey:$o,ssrUtils:Eu,stop:cl,toDisplayString:_r,toHandlerKey:hi,toHandlers:vf,toRaw:ne,toRef:Vl,toRefs:Dl,toValue:zl,transformVNodeArgs:au,triggerRef:Ol,unref:Ur,useAttrs:Bf,useCssModule:Qu,useCssVars:Ru,useModel:mu,useSSRContext:Ko,useSlots:Cf,useTransitionState:Fr,vModelCheckbox:Nr,vModelDynamic:ka,vModelRadio:Dr,vModelSelect:Ca,vModelText:dn,vShow:Sa,version:ga,warn:bu,watch:wt,watchEffect:Zf,watchPostEffect:qo,watchSyncEffect:Wo,withAsyncContext:Ff,withCtx:xi,withDefaults:Af,withDirectives:_f,withKeys:dc,withMemo:vu,withModifiers:uc,withScopeId:Ql},Symbol.toStringTag,{value:"Module"}));var sr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Da(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mc(t){if(t.__esModule)return t;var i=t.default;if(typeof i=="function"){var r=function o(){return this instanceof o?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};r.prototype=i.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var f=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(r,o,f.get?f:{enumerable:!0,get:function(){return t[o]}})}),r}var Ma={exports:{}};(function(t,i){(function(r,o){t.exports=o()})(sr,function(){return function(r){function o(u){if(f[u])return f[u].exports;var d=f[u]={exports:{},id:u,loaded:!1};return r[u].call(d.exports,d,d.exports,o),d.loaded=!0,d.exports}var f={};return o.m=r,o.c=f,o.p="dist/",o(0)}([function(r,o,f){function u(C){return C&&C.__esModule?C:{default:C}}var d=Object.assign||function(C){for(var D=1;D<arguments.length;D++){var k=arguments[D];for(var j in k)Object.prototype.hasOwnProperty.call(k,j)&&(C[j]=k[j])}return C},a=f(1),p=(u(a),f(6)),_=u(p),g=f(7),S=u(g),e=f(8),n=u(e),s=f(9),l=u(s),c=f(10),y=u(c),m=f(11),h=u(m),v=f(14),E=u(v),U=[],I=!1,L={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},A=function(){var C=arguments.length>0&&arguments[0]!==void 0&&arguments[0];if(C&&(I=!0),I)return U=(0,h.default)(U,L),(0,y.default)(U,L.once),U},O=function(){U=(0,E.default)(),A()},P=function(){U.forEach(function(C,D){C.node.removeAttribute("data-aos"),C.node.removeAttribute("data-aos-easing"),C.node.removeAttribute("data-aos-duration"),C.node.removeAttribute("data-aos-delay")})},w=function(C){return C===!0||C==="mobile"&&l.default.mobile()||C==="phone"&&l.default.phone()||C==="tablet"&&l.default.tablet()||typeof C=="function"&&C()===!0},T=function(C){L=d(L,C),U=(0,E.default)();var D=document.all&&!window.atob;return w(L.disable)||D?P():(L.disableMutationObserver||n.default.isSupported()||(console.info(`
      aos: MutationObserver is not supported on this browser,
      code mutations observing has been disabled.
      You may have to call "refreshHard()" by yourself.
    `),L.disableMutationObserver=!0),document.querySelector("body").setAttribute("data-aos-easing",L.easing),document.querySelector("body").setAttribute("data-aos-duration",L.duration),document.querySelector("body").setAttribute("data-aos-delay",L.delay),L.startEvent==="DOMContentLoaded"&&["complete","interactive"].indexOf(document.readyState)>-1?A(!0):L.startEvent==="load"?window.addEventListener(L.startEvent,function(){A(!0)}):document.addEventListener(L.startEvent,function(){A(!0)}),window.addEventListener("resize",(0,S.default)(A,L.debounceDelay,!0)),window.addEventListener("orientationchange",(0,S.default)(A,L.debounceDelay,!0)),window.addEventListener("scroll",(0,_.default)(function(){(0,y.default)(U,L.once)},L.throttleDelay)),L.disableMutationObserver||n.default.ready("[data-aos]",O),U)};r.exports={init:T,refresh:A,refreshHard:O}},function(r,o){},,,,,function(r,o){(function(f){function u(w,T,C){function D(b){var B=ye,F=Se;return ye=Se=void 0,ge=b,ae=w.apply(F,B)}function k(b){return ge=b,fe=setTimeout(ee,T),Ue?D(b):ae}function j(b){var B=b-xe,F=b-ge,z=T-B;return me?O(z,ce-F):z}function H(b){var B=b-xe,F=b-ge;return xe===void 0||B>=T||B<0||me&&F>=ce}function ee(){var b=P();return H(b)?te(b):void(fe=setTimeout(ee,j(b)))}function te(b){return fe=void 0,x&&ye?D(b):(ye=Se=void 0,ae)}function Z(){fe!==void 0&&clearTimeout(fe),ge=0,ye=xe=Se=fe=void 0}function ie(){return fe===void 0?ae:te(P())}function re(){var b=P(),B=H(b);if(ye=arguments,Se=this,xe=b,B){if(fe===void 0)return k(xe);if(me)return fe=setTimeout(ee,T),D(xe)}return fe===void 0&&(fe=setTimeout(ee,T)),ae}var ye,Se,ce,ae,fe,xe,ge=0,Ue=!1,me=!1,x=!0;if(typeof w!="function")throw new TypeError(e);return T=g(T)||0,a(C)&&(Ue=!!C.leading,me="maxWait"in C,ce=me?A(g(C.maxWait)||0,T):ce,x="trailing"in C?!!C.trailing:x),re.cancel=Z,re.flush=ie,re}function d(w,T,C){var D=!0,k=!0;if(typeof w!="function")throw new TypeError(e);return a(C)&&(D="leading"in C?!!C.leading:D,k="trailing"in C?!!C.trailing:k),u(w,T,{leading:D,maxWait:T,trailing:k})}function a(w){var T=typeof w>"u"?"undefined":S(w);return!!w&&(T=="object"||T=="function")}function p(w){return!!w&&(typeof w>"u"?"undefined":S(w))=="object"}function _(w){return(typeof w>"u"?"undefined":S(w))=="symbol"||p(w)&&L.call(w)==s}function g(w){if(typeof w=="number")return w;if(_(w))return n;if(a(w)){var T=typeof w.valueOf=="function"?w.valueOf():w;w=a(T)?T+"":T}if(typeof w!="string")return w===0?w:+w;w=w.replace(l,"");var C=y.test(w);return C||m.test(w)?h(w.slice(2),C?2:8):c.test(w)?n:+w}var S=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},e="Expected a function",n=NaN,s="[object Symbol]",l=/^\s+|\s+$/g,c=/^[-+]0x[0-9a-f]+$/i,y=/^0b[01]+$/i,m=/^0o[0-7]+$/i,h=parseInt,v=(typeof f>"u"?"undefined":S(f))=="object"&&f&&f.Object===Object&&f,E=(typeof self>"u"?"undefined":S(self))=="object"&&self&&self.Object===Object&&self,U=v||E||Function("return this")(),I=Object.prototype,L=I.toString,A=Math.max,O=Math.min,P=function(){return U.Date.now()};r.exports=d}).call(o,function(){return this}())},function(r,o){(function(f){function u(P,w,T){function C(x){var b=re,B=ye;return re=ye=void 0,xe=x,ce=P.apply(B,b)}function D(x){return xe=x,ae=setTimeout(H,w),ge?C(x):ce}function k(x){var b=x-fe,B=x-xe,F=w-b;return Ue?A(F,Se-B):F}function j(x){var b=x-fe,B=x-xe;return fe===void 0||b>=w||b<0||Ue&&B>=Se}function H(){var x=O();return j(x)?ee(x):void(ae=setTimeout(H,k(x)))}function ee(x){return ae=void 0,me&&re?C(x):(re=ye=void 0,ce)}function te(){ae!==void 0&&clearTimeout(ae),xe=0,re=fe=ye=ae=void 0}function Z(){return ae===void 0?ce:ee(O())}function ie(){var x=O(),b=j(x);if(re=arguments,ye=this,fe=x,b){if(ae===void 0)return D(fe);if(Ue)return ae=setTimeout(H,w),C(fe)}return ae===void 0&&(ae=setTimeout(H,w)),ce}var re,ye,Se,ce,ae,fe,xe=0,ge=!1,Ue=!1,me=!0;if(typeof P!="function")throw new TypeError(S);return w=_(w)||0,d(T)&&(ge=!!T.leading,Ue="maxWait"in T,Se=Ue?L(_(T.maxWait)||0,w):Se,me="trailing"in T?!!T.trailing:me),ie.cancel=te,ie.flush=Z,ie}function d(P){var w=typeof P>"u"?"undefined":g(P);return!!P&&(w=="object"||w=="function")}function a(P){return!!P&&(typeof P>"u"?"undefined":g(P))=="object"}function p(P){return(typeof P>"u"?"undefined":g(P))=="symbol"||a(P)&&I.call(P)==n}function _(P){if(typeof P=="number")return P;if(p(P))return e;if(d(P)){var w=typeof P.valueOf=="function"?P.valueOf():P;P=d(w)?w+"":w}if(typeof P!="string")return P===0?P:+P;P=P.replace(s,"");var T=c.test(P);return T||y.test(P)?m(P.slice(2),T?2:8):l.test(P)?e:+P}var g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},S="Expected a function",e=NaN,n="[object Symbol]",s=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,y=/^0o[0-7]+$/i,m=parseInt,h=(typeof f>"u"?"undefined":g(f))=="object"&&f&&f.Object===Object&&f,v=(typeof self>"u"?"undefined":g(self))=="object"&&self&&self.Object===Object&&self,E=h||v||Function("return this")(),U=Object.prototype,I=U.toString,L=Math.max,A=Math.min,O=function(){return E.Date.now()};r.exports=u}).call(o,function(){return this}())},function(r,o){function f(g){var S=void 0,e=void 0;for(S=0;S<g.length;S+=1)if(e=g[S],e.dataset&&e.dataset.aos||e.children&&f(e.children))return!0;return!1}function u(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function d(){return!!u()}function a(g,S){var e=window.document,n=u(),s=new n(p);_=S,s.observe(e.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function p(g){g&&g.forEach(function(S){var e=Array.prototype.slice.call(S.addedNodes),n=Array.prototype.slice.call(S.removedNodes),s=e.concat(n);if(f(s))return _()})}Object.defineProperty(o,"__esModule",{value:!0});var _=function(){};o.default={isSupported:d,ready:a}},function(r,o){function f(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function u(){return navigator.userAgent||navigator.vendor||window.opera||""}Object.defineProperty(o,"__esModule",{value:!0});var d=function(){function e(n,s){for(var l=0;l<s.length;l++){var c=s[l];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}return function(n,s,l){return s&&e(n.prototype,s),l&&e(n,l),n}}(),a=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,p=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,_=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,g=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,S=function(){function e(){f(this,e)}return d(e,[{key:"phone",value:function(){var n=u();return!(!a.test(n)&&!p.test(n.substr(0,4)))}},{key:"mobile",value:function(){var n=u();return!(!_.test(n)&&!g.test(n.substr(0,4)))}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),e}();o.default=new S},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var f=function(d,a,p){var _=d.node.getAttribute("data-aos-once");a>d.position?d.node.classList.add("aos-animate"):typeof _<"u"&&(_==="false"||!p&&_!=="true")&&d.node.classList.remove("aos-animate")},u=function(d,a){var p=window.pageYOffset,_=window.innerHeight;d.forEach(function(g,S){f(g,_+p,a)})};o.default=u},function(r,o,f){function u(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(o,"__esModule",{value:!0});var d=f(12),a=u(d),p=function(_,g){return _.forEach(function(S,e){S.node.classList.add("aos-init"),S.position=(0,a.default)(S.node,g.offset)}),_};o.default=p},function(r,o,f){function u(_){return _&&_.__esModule?_:{default:_}}Object.defineProperty(o,"__esModule",{value:!0});var d=f(13),a=u(d),p=function(_,g){var S=0,e=0,n=window.innerHeight,s={offset:_.getAttribute("data-aos-offset"),anchor:_.getAttribute("data-aos-anchor"),anchorPlacement:_.getAttribute("data-aos-anchor-placement")};switch(s.offset&&!isNaN(s.offset)&&(e=parseInt(s.offset)),s.anchor&&document.querySelectorAll(s.anchor)&&(_=document.querySelectorAll(s.anchor)[0]),S=(0,a.default)(_).top,s.anchorPlacement){case"top-bottom":break;case"center-bottom":S+=_.offsetHeight/2;break;case"bottom-bottom":S+=_.offsetHeight;break;case"top-center":S+=n/2;break;case"bottom-center":S+=n/2+_.offsetHeight;break;case"center-center":S+=n/2+_.offsetHeight/2;break;case"top-top":S+=n;break;case"bottom-top":S+=_.offsetHeight+n;break;case"center-top":S+=_.offsetHeight/2+n}return s.anchorPlacement||s.offset||isNaN(g)||(e=g),S+e};o.default=p},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var f=function(u){for(var d=0,a=0;u&&!isNaN(u.offsetLeft)&&!isNaN(u.offsetTop);)d+=u.offsetLeft-(u.tagName!="BODY"?u.scrollLeft:0),a+=u.offsetTop-(u.tagName!="BODY"?u.scrollTop:0),u=u.offsetParent;return{top:a,left:d}};o.default=f},function(r,o){Object.defineProperty(o,"__esModule",{value:!0});var f=function(u){return u=u||document.querySelectorAll("[data-aos]"),Array.prototype.map.call(u,function(d){return{node:d}})};o.default=f}])})})(Ma);var yc=Ma.exports;const vc=Da(yc),bc=mc(gc);var Ps=bc;function wc(t,i){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var o,f,u,d,a=[],p=!0,_=!1;try{if(u=(r=r.call(t)).next,i!==0)for(;!(p=(o=u.call(r)).done)&&(a.push(o.value),a.length!==i);p=!0);}catch(g){_=!0,f=g}finally{try{if(!p&&r.return!=null&&(d=r.return(),Object(d)!==d))return}finally{if(_)throw f}}return a}}function or(){or=function(){return t};var t={},i=Object.prototype,r=i.hasOwnProperty,o=Object.defineProperty||function(w,T,C){w[T]=C.value},f=typeof Symbol=="function"?Symbol:{},u=f.iterator||"@@iterator",d=f.asyncIterator||"@@asyncIterator",a=f.toStringTag||"@@toStringTag";function p(w,T,C){return Object.defineProperty(w,T,{value:C,enumerable:!0,configurable:!0,writable:!0}),w[T]}try{p({},"")}catch{p=function(T,C,D){return T[C]=D}}function _(w,T,C,D){var k=T&&T.prototype instanceof e?T:e,j=Object.create(k.prototype),H=new A(D||[]);return o(j,"_invoke",{value:E(w,C,H)}),j}function g(w,T,C){try{return{type:"normal",arg:w.call(T,C)}}catch(D){return{type:"throw",arg:D}}}t.wrap=_;var S={};function e(){}function n(){}function s(){}var l={};p(l,u,function(){return this});var c=Object.getPrototypeOf,y=c&&c(c(O([])));y&&y!==i&&r.call(y,u)&&(l=y);var m=s.prototype=e.prototype=Object.create(l);function h(w){["next","throw","return"].forEach(function(T){p(w,T,function(C){return this._invoke(T,C)})})}function v(w,T){function C(k,j,H,ee){var te=g(w[k],w,j);if(te.type!=="throw"){var Z=te.arg,ie=Z.value;return ie&&typeof ie=="object"&&r.call(ie,"__await")?T.resolve(ie.__await).then(function(re){C("next",re,H,ee)},function(re){C("throw",re,H,ee)}):T.resolve(ie).then(function(re){Z.value=re,H(Z)},function(re){return C("throw",re,H,ee)})}ee(te.arg)}var D;o(this,"_invoke",{value:function(k,j){function H(){return new T(function(ee,te){C(k,j,ee,te)})}return D=D?D.then(H,H):H()}})}function E(w,T,C){var D="suspendedStart";return function(k,j){if(D==="executing")throw new Error("Generator is already running");if(D==="completed"){if(k==="throw")throw j;return P()}for(C.method=k,C.arg=j;;){var H=C.delegate;if(H){var ee=U(H,C);if(ee){if(ee===S)continue;return ee}}if(C.method==="next")C.sent=C._sent=C.arg;else if(C.method==="throw"){if(D==="suspendedStart")throw D="completed",C.arg;C.dispatchException(C.arg)}else C.method==="return"&&C.abrupt("return",C.arg);D="executing";var te=g(w,T,C);if(te.type==="normal"){if(D=C.done?"completed":"suspendedYield",te.arg===S)continue;return{value:te.arg,done:C.done}}te.type==="throw"&&(D="completed",C.method="throw",C.arg=te.arg)}}}function U(w,T){var C=T.method,D=w.iterator[C];if(D===void 0)return T.delegate=null,C==="throw"&&w.iterator.return&&(T.method="return",T.arg=void 0,U(w,T),T.method==="throw")||C!=="return"&&(T.method="throw",T.arg=new TypeError("The iterator does not provide a '"+C+"' method")),S;var k=g(D,w.iterator,T.arg);if(k.type==="throw")return T.method="throw",T.arg=k.arg,T.delegate=null,S;var j=k.arg;return j?j.done?(T[w.resultName]=j.value,T.next=w.nextLoc,T.method!=="return"&&(T.method="next",T.arg=void 0),T.delegate=null,S):j:(T.method="throw",T.arg=new TypeError("iterator result is not an object"),T.delegate=null,S)}function I(w){var T={tryLoc:w[0]};1 in w&&(T.catchLoc=w[1]),2 in w&&(T.finallyLoc=w[2],T.afterLoc=w[3]),this.tryEntries.push(T)}function L(w){var T=w.completion||{};T.type="normal",delete T.arg,w.completion=T}function A(w){this.tryEntries=[{tryLoc:"root"}],w.forEach(I,this),this.reset(!0)}function O(w){if(w){var T=w[u];if(T)return T.call(w);if(typeof w.next=="function")return w;if(!isNaN(w.length)){var C=-1,D=function k(){for(;++C<w.length;)if(r.call(w,C))return k.value=w[C],k.done=!1,k;return k.value=void 0,k.done=!0,k};return D.next=D}}return{next:P}}function P(){return{value:void 0,done:!0}}return n.prototype=s,o(m,"constructor",{value:s,configurable:!0}),o(s,"constructor",{value:n,configurable:!0}),n.displayName=p(s,a,"GeneratorFunction"),t.isGeneratorFunction=function(w){var T=typeof w=="function"&&w.constructor;return!!T&&(T===n||(T.displayName||T.name)==="GeneratorFunction")},t.mark=function(w){return Object.setPrototypeOf?Object.setPrototypeOf(w,s):(w.__proto__=s,p(w,a,"GeneratorFunction")),w.prototype=Object.create(m),w},t.awrap=function(w){return{__await:w}},h(v.prototype),p(v.prototype,d,function(){return this}),t.AsyncIterator=v,t.async=function(w,T,C,D,k){k===void 0&&(k=Promise);var j=new v(_(w,T,C,D),k);return t.isGeneratorFunction(T)?j:j.next().then(function(H){return H.done?H.value:j.next()})},h(m),p(m,a,"Generator"),p(m,u,function(){return this}),p(m,"toString",function(){return"[object Generator]"}),t.keys=function(w){var T=Object(w),C=[];for(var D in T)C.push(D);return C.reverse(),function k(){for(;C.length;){var j=C.pop();if(j in T)return k.value=j,k.done=!1,k}return k.done=!0,k}},t.values=O,A.prototype={constructor:A,reset:function(w){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(L),!w)for(var T in this)T.charAt(0)==="t"&&r.call(this,T)&&!isNaN(+T.slice(1))&&(this[T]=void 0)},stop:function(){this.done=!0;var w=this.tryEntries[0].completion;if(w.type==="throw")throw w.arg;return this.rval},dispatchException:function(w){if(this.done)throw w;var T=this;function C(te,Z){return j.type="throw",j.arg=w,T.next=te,Z&&(T.method="next",T.arg=void 0),!!Z}for(var D=this.tryEntries.length-1;D>=0;--D){var k=this.tryEntries[D],j=k.completion;if(k.tryLoc==="root")return C("end");if(k.tryLoc<=this.prev){var H=r.call(k,"catchLoc"),ee=r.call(k,"finallyLoc");if(H&&ee){if(this.prev<k.catchLoc)return C(k.catchLoc,!0);if(this.prev<k.finallyLoc)return C(k.finallyLoc)}else if(H){if(this.prev<k.catchLoc)return C(k.catchLoc,!0)}else{if(!ee)throw new Error("try statement without catch or finally");if(this.prev<k.finallyLoc)return C(k.finallyLoc)}}}},abrupt:function(w,T){for(var C=this.tryEntries.length-1;C>=0;--C){var D=this.tryEntries[C];if(D.tryLoc<=this.prev&&r.call(D,"finallyLoc")&&this.prev<D.finallyLoc){var k=D;break}}k&&(w==="break"||w==="continue")&&k.tryLoc<=T&&T<=k.finallyLoc&&(k=null);var j=k?k.completion:{};return j.type=w,j.arg=T,k?(this.method="next",this.next=k.finallyLoc,S):this.complete(j)},complete:function(w,T){if(w.type==="throw")throw w.arg;return w.type==="break"||w.type==="continue"?this.next=w.arg:w.type==="return"?(this.rval=this.arg=w.arg,this.method="return",this.next="end"):w.type==="normal"&&T&&(this.next=T),S},finish:function(w){for(var T=this.tryEntries.length-1;T>=0;--T){var C=this.tryEntries[T];if(C.finallyLoc===w)return this.complete(C.completion,C.afterLoc),L(C),S}},catch:function(w){for(var T=this.tryEntries.length-1;T>=0;--T){var C=this.tryEntries[T];if(C.tryLoc===w){var D=C.completion;if(D.type==="throw"){var k=D.arg;L(C)}return k}}throw new Error("illegal catch attempt")},delegateYield:function(w,T,C){return this.delegate={iterator:O(w),resultName:T,nextLoc:C},this.method==="next"&&(this.arg=void 0),S}},t}function ar(t){"@babel/helpers - typeof";return ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},ar(t)}function Fs(t,i,r,o,f,u,d){try{var a=t[u](d),p=a.value}catch(_){r(_);return}a.done?i(p):Promise.resolve(p).then(o,f)}function Sc(t){return function(){var i=this,r=arguments;return new Promise(function(o,f){var u=t.apply(i,r);function d(p){Fs(u,o,f,d,a,"next",p)}function a(p){Fs(u,o,f,d,a,"throw",p)}d(void 0)})}}function Ha(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function xc(t,i){for(var r=0;r<i.length;r++){var o=i[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Bc(o.key),o)}}function Va(t,i,r){return i&&xc(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function Uc(t,i){return Ec(t)||wc(t,i)||Tc(t,i)||Ac()}function Ec(t){if(Array.isArray(t))return t}function Tc(t,i){if(t){if(typeof t=="string")return Ls(t,i);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ls(t,i)}}function Ls(t,i){(i==null||i>t.length)&&(i=t.length);for(var r=0,o=new Array(i);r<i;r++)o[r]=t[r];return o}function Ac(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cc(t,i){if(typeof t!="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var o=r.call(t,i);if(typeof o!="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bc(t){var i=Cc(t,"string");return typeof i=="symbol"?i:String(i)}var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof sr<"u"?sr:typeof self<"u"?self:{},lr={exports:{}};(function(t,i){(function(r,o){var f="1.0.33",u="",d="?",a="function",p="undefined",_="object",g="string",S="major",e="model",n="name",s="type",l="vendor",c="version",y="architecture",m="console",h="mobile",v="tablet",E="smarttv",U="wearable",I="embedded",L=350,A="Amazon",O="Apple",P="ASUS",w="BlackBerry",T="Browser",C="Chrome",D="Edge",k="Firefox",j="Google",H="Huawei",ee="LG",te="Microsoft",Z="Motorola",ie="Opera",re="Samsung",ye="Sharp",Se="Sony",ce="Xiaomi",ae="Zebra",fe="Facebook",xe=function(N,$){var G={};for(var W in N)$[W]&&$[W].length%2===0?G[W]=$[W].concat(N[W]):G[W]=N[W];return G},ge=function(N){for(var $={},G=0;G<N.length;G++)$[N[G].toUpperCase()]=N[G];return $},Ue=function(N,$){return typeof N===g?me($).indexOf(me(N))!==-1:!1},me=function(N){return N.toLowerCase()},x=function(N){return typeof N===g?N.replace(/[^\d\.]/g,u).split(".")[0]:o},b=function(N,$){if(typeof N===g)return N=N.replace(/^\s\s*/,u),typeof $===p?N:N.substring(0,L)},B=function(N,$){for(var G=0,W,q,oe,J,pe,ve;G<$.length&&!pe;){var it=$[G],ai=$[G+1];for(W=q=0;W<it.length&&!pe;)if(pe=it[W++].exec(N),pe)for(oe=0;oe<ai.length;oe++)ve=pe[++q],J=ai[oe],typeof J===_&&J.length>0?J.length===2?typeof J[1]==a?this[J[0]]=J[1].call(this,ve):this[J[0]]=J[1]:J.length===3?typeof J[1]===a&&!(J[1].exec&&J[1].test)?this[J[0]]=ve?J[1].call(this,ve,J[2]):o:this[J[0]]=ve?ve.replace(J[1],J[2]):o:J.length===4&&(this[J[0]]=ve?J[3].call(this,ve.replace(J[1],J[2])):o):this[J]=ve||o;G+=2}},F=function(N,$){for(var G in $)if(typeof $[G]===_&&$[G].length>0){for(var W=0;W<$[G].length;W++)if(Ue($[G][W],N))return G===d?o:G}else if(Ue($[G],N))return G===d?o:G;return N},z={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Y={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},K={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[c,[n,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[c,[n,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[n,c],[/opios[\/ ]+([\w\.]+)/i],[c,[n,ie+" Mini"]],[/\bopr\/([\w\.]+)/i],[c,[n,ie]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[n,c],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[c,[n,"UC"+T]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[c,[n,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[c,[n,"WeChat"]],[/konqueror\/([\w\.]+)/i],[c,[n,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[c,[n,"IE"]],[/yabrowser\/([\w\.]+)/i],[c,[n,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[n,/(.+)/,"$1 Secure "+T],c],[/\bfocus\/([\w\.]+)/i],[c,[n,k+" Focus"]],[/\bopt\/([\w\.]+)/i],[c,[n,ie+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[c,[n,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[c,[n,"Dolphin"]],[/coast\/([\w\.]+)/i],[c,[n,ie+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[c,[n,"MIUI "+T]],[/fxios\/([-\w\.]+)/i],[c,[n,k]],[/\bqihu|(qi?ho?o?|360)browser/i],[[n,"360 "+T]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[n,/(.+)/,"$1 "+T],c],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],c],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[n,c],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[n],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[n,fe],c],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[n,c],[/\bgsa\/([\w\.]+) .*safari\//i],[c,[n,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[c,[n,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[n,C+" WebView"],c],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[c,[n,"Android "+T]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[n,c],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[c,[n,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[c,n],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[n,[c,F,z]],[/(webkit|khtml)\/([\w\.]+)/i],[n,c],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[n,"Netscape"],c],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[c,[n,k+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[n,c],[/(cobalt)\/([\w\.]+)/i],[n,[c,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[y,"amd64"]],[/(ia32(?=;))/i],[[y,me]],[/((?:i[346]|x)86)[;\)]/i],[[y,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[y,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[y,"armhf"]],[/windows (ce|mobile); ppc;/i],[[y,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[y,/ower/,u,me]],[/(sun4\w)[;\)]/i],[[y,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[y,me]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[e,[l,re],[s,v]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[e,[l,re],[s,h]],[/\((ip(?:hone|od)[\w ]*);/i],[e,[l,O],[s,h]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[e,[l,O],[s,v]],[/(macintosh);/i],[e,[l,O]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[e,[l,H],[s,v]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[e,[l,H],[s,h]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[e,/_/g," "],[l,ce],[s,h]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[e,/_/g," "],[l,ce],[s,v]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[e,[l,"OPPO"],[s,h]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[e,[l,"Vivo"],[s,h]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[e,[l,"Realme"],[s,h]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[e,[l,Z],[s,h]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[e,[l,Z],[s,v]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[e,[l,ee],[s,v]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[e,[l,ee],[s,h]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[e,[l,"Lenovo"],[s,v]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[e,/_/g," "],[l,"Nokia"],[s,h]],[/(pixel c)\b/i],[e,[l,j],[s,v]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[e,[l,j],[s,h]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[e,[l,Se],[s,h]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[e,"Xperia Tablet"],[l,Se],[s,v]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[e,[l,"OnePlus"],[s,h]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[e,[l,A],[s,v]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[e,/(.+)/g,"Fire Phone $1"],[l,A],[s,h]],[/(playbook);[-\w\),; ]+(rim)/i],[e,l,[s,v]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[e,[l,w],[s,h]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[e,[l,P],[s,v]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[e,[l,P],[s,h]],[/(nexus 9)/i],[e,[l,"HTC"],[s,v]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[l,[e,/_/g," "],[s,h]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[e,[l,"Acer"],[s,v]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[e,[l,"Meizu"],[s,h]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[e,[l,ye],[s,h]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[l,e,[s,h]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[l,e,[s,v]],[/(surface duo)/i],[e,[l,te],[s,v]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[e,[l,"Fairphone"],[s,h]],[/(u304aa)/i],[e,[l,"AT&T"],[s,h]],[/\bsie-(\w*)/i],[e,[l,"Siemens"],[s,h]],[/\b(rct\w+) b/i],[e,[l,"RCA"],[s,v]],[/\b(venue[\d ]{2,7}) b/i],[e,[l,"Dell"],[s,v]],[/\b(q(?:mv|ta)\w+) b/i],[e,[l,"Verizon"],[s,v]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[e,[l,"Barnes & Noble"],[s,v]],[/\b(tm\d{3}\w+) b/i],[e,[l,"NuVision"],[s,v]],[/\b(k88) b/i],[e,[l,"ZTE"],[s,v]],[/\b(nx\d{3}j) b/i],[e,[l,"ZTE"],[s,h]],[/\b(gen\d{3}) b.+49h/i],[e,[l,"Swiss"],[s,h]],[/\b(zur\d{3}) b/i],[e,[l,"Swiss"],[s,v]],[/\b((zeki)?tb.*\b) b/i],[e,[l,"Zeki"],[s,v]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[l,"Dragon Touch"],e,[s,v]],[/\b(ns-?\w{0,9}) b/i],[e,[l,"Insignia"],[s,v]],[/\b((nxa|next)-?\w{0,9}) b/i],[e,[l,"NextBook"],[s,v]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[l,"Voice"],e,[s,h]],[/\b(lvtel\-)?(v1[12]) b/i],[[l,"LvTel"],e,[s,h]],[/\b(ph-1) /i],[e,[l,"Essential"],[s,h]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[e,[l,"Envizen"],[s,v]],[/\b(trio[-\w\. ]+) b/i],[e,[l,"MachSpeed"],[s,v]],[/\btu_(1491) b/i],[e,[l,"Rotor"],[s,v]],[/(shield[\w ]+) b/i],[e,[l,"Nvidia"],[s,v]],[/(sprint) (\w+)/i],[l,e,[s,h]],[/(kin\.[onetw]{3})/i],[[e,/\./g," "],[l,te],[s,h]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[e,[l,ae],[s,v]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[e,[l,ae],[s,h]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[l,e,[s,m]],[/droid.+; (shield) bui/i],[e,[l,"Nvidia"],[s,m]],[/(playstation [345portablevi]+)/i],[e,[l,Se],[s,m]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[e,[l,te],[s,m]],[/smart-tv.+(samsung)/i],[l,[s,E]],[/hbbtv.+maple;(\d+)/i],[[e,/^/,"SmartTV"],[l,re],[s,E]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[l,ee],[s,E]],[/(apple) ?tv/i],[l,[e,O+" TV"],[s,E]],[/crkey/i],[[e,C+"cast"],[l,j],[s,E]],[/droid.+aft(\w)( bui|\))/i],[e,[l,A],[s,E]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[e,[l,ye],[s,E]],[/(bravia[\w ]+)( bui|\))/i],[e,[l,Se],[s,E]],[/(mitv-\w{5}) bui/i],[e,[l,ce],[s,E]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[l,b],[e,b],[s,E]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[s,E]],[/((pebble))app/i],[l,e,[s,U]],[/droid.+; (glass) \d/i],[e,[l,j],[s,U]],[/droid.+; (wt63?0{2,3})\)/i],[e,[l,ae],[s,U]],[/(quest( 2)?)/i],[e,[l,fe],[s,U]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[l,[s,I]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[e,[s,h]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[e,[s,v]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[s,v]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[s,h]],[/(android[-\w\. ]{0,9});.+buil/i],[e,[l,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[c,[n,D+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[n,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[n,c],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[c,n]],os:[[/microsoft (windows) (vista|xp)/i],[n,c],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[n,[c,F,Y]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[n,"Windows"],[c,F,Y]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[c,/_/g,"."],[n,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[n,"Mac OS"],[c,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[c,n],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[n,c],[/\(bb(10);/i],[c,[n,w]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[c,[n,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[c,[n,k+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[c,[n,"webOS"]],[/crkey\/([\d\.]+)/i],[c,[n,C+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[n,"Chromium OS"],c],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[n,c],[/(sunos) ?([\w\.\d]*)/i],[[n,"Solaris"],c],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[n,c]]},M=function(N,$){if(typeof N===_&&($=N,N=o),!(this instanceof M))return new M(N,$).getResult();var G=N||(typeof r!==p&&r.navigator&&r.navigator.userAgent?r.navigator.userAgent:u),W=$?xe(K,$):K;return this.getBrowser=function(){var q={};return q[n]=o,q[c]=o,B.call(q,G,W.browser),q.major=x(q.version),q},this.getCPU=function(){var q={};return q[y]=o,B.call(q,G,W.cpu),q},this.getDevice=function(){var q={};return q[l]=o,q[e]=o,q[s]=o,B.call(q,G,W.device),q},this.getEngine=function(){var q={};return q[n]=o,q[c]=o,B.call(q,G,W.engine),q},this.getOS=function(){var q={};return q[n]=o,q[c]=o,B.call(q,G,W.os),q},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return G},this.setUA=function(q){return G=typeof q===g&&q.length>L?b(q,L):q,this},this.setUA(G),this};M.VERSION=f,M.BROWSER=ge([n,c,S]),M.CPU=ge([y]),M.DEVICE=ge([e,l,s,m,h,E,v,U,I]),M.ENGINE=M.OS=ge([n,c]),t.exports&&(i=t.exports=M),i.UAParser=M;var V=typeof r!==p&&(r.jQuery||r.Zepto);if(V&&!V.ua){var R=new M;V.ua=R.getResult(),V.ua.get=function(){return R.getUA()},V.ua.set=function(N){R.setUA(N);var $=R.getResult();for(var G in $)V.ua[G]=$[G]}}})(typeof window=="object"?window:kc)})(lr,lr.exports);var Ic=lr.exports,Ga={};(function(t){var i=function(){var e=new Date,n=4,s=3,l=2,c=1,y=n,m={setLogLevel:function(h){h==this.debug?y=c:h==this.info?y=l:h==this.warn?y=s:(h==this.error,y=n)},debug:function(h,v){console.debug===void 0&&(console.debug=console.log),c>=y&&console.debug("["+i.getDurationString(new Date-e,1e3)+"]","["+h+"]",v)},log:function(h,v){this.debug(h.msg)},info:function(h,v){l>=y&&console.info("["+i.getDurationString(new Date-e,1e3)+"]","["+h+"]",v)},warn:function(h,v){s>=y&&console.warn("["+i.getDurationString(new Date-e,1e3)+"]","["+h+"]",v)},error:function(h,v){n>=y&&console.error("["+i.getDurationString(new Date-e,1e3)+"]","["+h+"]",v)}};return m}();i.getDurationString=function(e,n){var s;function l(E,U){for(var I=""+E,L=I.split(".");L[0].length<U;)L[0]="0"+L[0];return L.join(".")}e<0?(s=!0,e=-e):s=!1;var c=n||1,y=e/c,m=Math.floor(y/3600);y-=m*3600;var h=Math.floor(y/60);y-=h*60;var v=y*1e3;return y=Math.floor(y),v-=y*1e3,v=Math.floor(v),(s?"-":"")+m+":"+l(h,2)+":"+l(y,2)+"."+l(v,3)},i.printRanges=function(e){var n=e.length;if(n>0){for(var s="",l=0;l<n;l++)l>0&&(s+=","),s+="["+i.getDurationString(e.start(l))+","+i.getDurationString(e.end(l))+"]";return s}else return"(empty)"},t.Log=i;var r=function(e){if(e instanceof ArrayBuffer)this.buffer=e,this.dataview=new DataView(e);else throw"Needs an array buffer";this.position=0};r.prototype.getPosition=function(){return this.position},r.prototype.getEndPosition=function(){return this.buffer.byteLength},r.prototype.getLength=function(){return this.buffer.byteLength},r.prototype.seek=function(e){var n=Math.max(0,Math.min(this.buffer.byteLength,e));return this.position=isNaN(n)||!isFinite(n)?0:n,!0},r.prototype.isEos=function(){return this.getPosition()>=this.getEndPosition()},r.prototype.readAnyInt=function(e,n){var s=0;if(this.position+e<=this.buffer.byteLength){switch(e){case 1:n?s=this.dataview.getInt8(this.position):s=this.dataview.getUint8(this.position);break;case 2:n?s=this.dataview.getInt16(this.position):s=this.dataview.getUint16(this.position);break;case 3:if(n)throw"No method for reading signed 24 bits values";s=this.dataview.getUint8(this.position)<<16,s|=this.dataview.getUint8(this.position+1)<<8,s|=this.dataview.getUint8(this.position+2);break;case 4:n?s=this.dataview.getInt32(this.position):s=this.dataview.getUint32(this.position);break;case 8:if(n)throw"No method for reading signed 64 bits values";s=this.dataview.getUint32(this.position)<<32,s|=this.dataview.getUint32(this.position+4);break;default:throw"readInt method not implemented for size: "+e}return this.position+=e,s}else throw"Not enough bytes in buffer"},r.prototype.readUint8=function(){return this.readAnyInt(1,!1)},r.prototype.readUint16=function(){return this.readAnyInt(2,!1)},r.prototype.readUint24=function(){return this.readAnyInt(3,!1)},r.prototype.readUint32=function(){return this.readAnyInt(4,!1)},r.prototype.readUint64=function(){return this.readAnyInt(8,!1)},r.prototype.readString=function(e){if(this.position+e<=this.buffer.byteLength){for(var n="",s=0;s<e;s++)n+=String.fromCharCode(this.readUint8());return n}else throw"Not enough bytes in buffer"},r.prototype.readCString=function(){for(var e=[];;){var n=this.readUint8();if(n!==0)e.push(n);else break}return String.fromCharCode.apply(null,e)},r.prototype.readInt8=function(){return this.readAnyInt(1,!0)},r.prototype.readInt16=function(){return this.readAnyInt(2,!0)},r.prototype.readInt32=function(){return this.readAnyInt(4,!0)},r.prototype.readInt64=function(){return this.readAnyInt(8,!1)},r.prototype.readUint8Array=function(e){for(var n=new Uint8Array(e),s=0;s<e;s++)n[s]=this.readUint8();return n},r.prototype.readInt16Array=function(e){for(var n=new Int16Array(e),s=0;s<e;s++)n[s]=this.readInt16();return n},r.prototype.readUint16Array=function(e){for(var n=new Int16Array(e),s=0;s<e;s++)n[s]=this.readUint16();return n},r.prototype.readUint32Array=function(e){for(var n=new Uint32Array(e),s=0;s<e;s++)n[s]=this.readUint32();return n},r.prototype.readInt32Array=function(e){for(var n=new Int32Array(e),s=0;s<e;s++)n[s]=this.readInt32();return n},t.MP4BoxStream=r;var o=function(e,n,s){this._byteOffset=n||0,e instanceof ArrayBuffer?this.buffer=e:typeof e=="object"?(this.dataView=e,n&&(this._byteOffset+=n)):this.buffer=new ArrayBuffer(e||0),this.position=0,this.endianness=s??o.LITTLE_ENDIAN};o.prototype={},o.prototype.getPosition=function(){return this.position},o.prototype._realloc=function(e){if(this._dynamicSize){var n=this._byteOffset+this.position+e,s=this._buffer.byteLength;if(n<=s){n>this._byteLength&&(this._byteLength=n);return}for(s<1&&(s=1);n>s;)s*=2;var l=new ArrayBuffer(s),c=new Uint8Array(this._buffer),y=new Uint8Array(l,0,c.length);y.set(c),this.buffer=l,this._byteLength=n}},o.prototype._trimAlloc=function(){if(this._byteLength!=this._buffer.byteLength){var e=new ArrayBuffer(this._byteLength),n=new Uint8Array(e),s=new Uint8Array(this._buffer,0,n.length);n.set(s),this.buffer=e}},o.BIG_ENDIAN=!1,o.LITTLE_ENDIAN=!0,o.prototype._byteLength=0,Object.defineProperty(o.prototype,"byteLength",{get:function(){return this._byteLength-this._byteOffset}}),Object.defineProperty(o.prototype,"buffer",{get:function(){return this._trimAlloc(),this._buffer},set:function(e){this._buffer=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(o.prototype,"byteOffset",{get:function(){return this._byteOffset},set:function(e){this._byteOffset=e,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._buffer.byteLength}}),Object.defineProperty(o.prototype,"dataView",{get:function(){return this._dataView},set:function(e){this._byteOffset=e.byteOffset,this._buffer=e.buffer,this._dataView=new DataView(this._buffer,this._byteOffset),this._byteLength=this._byteOffset+e.byteLength}}),o.prototype.seek=function(e){var n=Math.max(0,Math.min(this.byteLength,e));this.position=isNaN(n)||!isFinite(n)?0:n},o.prototype.isEof=function(){return this.position>=this._byteLength},o.prototype.mapUint8Array=function(e){this._realloc(e*1);var n=new Uint8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,n},o.prototype.readInt32Array=function(e,n){e=e??this.byteLength-this.position/4;var s=new Int32Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readInt16Array=function(e,n){e=e??this.byteLength-this.position/2;var s=new Int16Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readInt8Array=function(e){e=e??this.byteLength-this.position;var n=new Int8Array(e);return o.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n},o.prototype.readUint32Array=function(e,n){e=e??this.byteLength-this.position/4;var s=new Uint32Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readUint16Array=function(e,n){e=e??this.byteLength-this.position/2;var s=new Uint16Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readUint8Array=function(e){e=e??this.byteLength-this.position;var n=new Uint8Array(e);return o.memcpy(n.buffer,0,this.buffer,this.byteOffset+this.position,e*n.BYTES_PER_ELEMENT),this.position+=n.byteLength,n},o.prototype.readFloat64Array=function(e,n){e=e??this.byteLength-this.position/8;var s=new Float64Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readFloat32Array=function(e,n){e=e??this.byteLength-this.position/4;var s=new Float32Array(e);return o.memcpy(s.buffer,0,this.buffer,this.byteOffset+this.position,e*s.BYTES_PER_ELEMENT),o.arrayToNative(s,n??this.endianness),this.position+=s.byteLength,s},o.prototype.readInt32=function(e){var n=this._dataView.getInt32(this.position,e??this.endianness);return this.position+=4,n},o.prototype.readInt16=function(e){var n=this._dataView.getInt16(this.position,e??this.endianness);return this.position+=2,n},o.prototype.readInt8=function(){var e=this._dataView.getInt8(this.position);return this.position+=1,e},o.prototype.readUint32=function(e){var n=this._dataView.getUint32(this.position,e??this.endianness);return this.position+=4,n},o.prototype.readUint16=function(e){var n=this._dataView.getUint16(this.position,e??this.endianness);return this.position+=2,n},o.prototype.readUint8=function(){var e=this._dataView.getUint8(this.position);return this.position+=1,e},o.prototype.readFloat32=function(e){var n=this._dataView.getFloat32(this.position,e??this.endianness);return this.position+=4,n},o.prototype.readFloat64=function(e){var n=this._dataView.getFloat64(this.position,e??this.endianness);return this.position+=8,n},o.endianness=new Int8Array(new Int16Array([1]).buffer)[0]>0,o.memcpy=function(e,n,s,l,c){var y=new Uint8Array(e,n,c),m=new Uint8Array(s,l,c);y.set(m)},o.arrayToNative=function(e,n){return n==this.endianness?e:this.flipArrayEndianness(e)},o.nativeToEndian=function(e,n){return this.endianness==n?e:this.flipArrayEndianness(e)},o.flipArrayEndianness=function(e){for(var n=new Uint8Array(e.buffer,e.byteOffset,e.byteLength),s=0;s<e.byteLength;s+=e.BYTES_PER_ELEMENT)for(var l=s+e.BYTES_PER_ELEMENT-1,c=s;l>c;l--,c++){var y=n[c];n[c]=n[l],n[l]=y}return e},o.prototype.failurePosition=0,String.fromCharCodeUint8=function(e){for(var n=[],s=0;s<e.length;s++)n[s]=e[s];return String.fromCharCode.apply(null,n)},o.prototype.readString=function(e,n){return n==null||n=="ASCII"?String.fromCharCodeUint8.apply(null,[this.mapUint8Array(e??this.byteLength-this.position)]):new TextDecoder(n).decode(this.mapUint8Array(e))},o.prototype.readCString=function(e){var n=this.byteLength-this.position,s=new Uint8Array(this._buffer,this._byteOffset+this.position),l=n;e!=null&&(l=Math.min(e,n));for(var c=0;c<l&&s[c]!==0;c++);var y=String.fromCharCodeUint8.apply(null,[this.mapUint8Array(c)]);return e!=null?this.position+=l-c:c!=n&&(this.position+=1),y};var f=Math.pow(2,32);o.prototype.readInt64=function(){return this.readInt32()*f+this.readUint32()},o.prototype.readUint64=function(){return this.readUint32()*f+this.readUint32()},o.prototype.readInt64=function(){return this.readUint32()*f+this.readUint32()},o.prototype.readUint24=function(){return(this.readUint8()<<16)+(this.readUint8()<<8)+this.readUint8()},t.DataStream=o,o.prototype.save=function(e){var n=new Blob([this.buffer]);if(window.URL&&URL.createObjectURL){var s=window.URL.createObjectURL(n),l=document.createElement("a");document.body.appendChild(l),l.setAttribute("href",s),l.setAttribute("download",e),l.setAttribute("target","_self"),l.click(),window.URL.revokeObjectURL(s)}else throw"DataStream.save: Can't create object URL."},o.prototype._dynamicSize=!0,Object.defineProperty(o.prototype,"dynamicSize",{get:function(){return this._dynamicSize},set:function(e){e||this._trimAlloc(),this._dynamicSize=e}}),o.prototype.shift=function(e){var n=new ArrayBuffer(this._byteLength-e),s=new Uint8Array(n),l=new Uint8Array(this._buffer,e,s.length);s.set(l),this.buffer=n,this.position-=e},o.prototype.writeInt32Array=function(e,n){if(this._realloc(e.length*4),e instanceof Int32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt32Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeInt32(e[s],n)},o.prototype.writeInt16Array=function(e,n){if(this._realloc(e.length*2),e instanceof Int16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt16Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeInt16(e[s],n)},o.prototype.writeInt8Array=function(e){if(this._realloc(e.length*1),e instanceof Int8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapInt8Array(e.length);else for(var n=0;n<e.length;n++)this.writeInt8(e[n])},o.prototype.writeUint32Array=function(e,n){if(this._realloc(e.length*4),e instanceof Uint32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint32Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeUint32(e[s],n)},o.prototype.writeUint16Array=function(e,n){if(this._realloc(e.length*2),e instanceof Uint16Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint16Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeUint16(e[s],n)},o.prototype.writeUint8Array=function(e){if(this._realloc(e.length*1),e instanceof Uint8Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapUint8Array(e.length);else for(var n=0;n<e.length;n++)this.writeUint8(e[n])},o.prototype.writeFloat64Array=function(e,n){if(this._realloc(e.length*8),e instanceof Float64Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat64Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeFloat64(e[s],n)},o.prototype.writeFloat32Array=function(e,n){if(this._realloc(e.length*4),e instanceof Float32Array&&this.byteOffset+this.position%e.BYTES_PER_ELEMENT===0)o.memcpy(this._buffer,this.byteOffset+this.position,e.buffer,0,e.byteLength),this.mapFloat32Array(e.length,n);else for(var s=0;s<e.length;s++)this.writeFloat32(e[s],n)},o.prototype.writeInt32=function(e,n){this._realloc(4),this._dataView.setInt32(this.position,e,n??this.endianness),this.position+=4},o.prototype.writeInt16=function(e,n){this._realloc(2),this._dataView.setInt16(this.position,e,n??this.endianness),this.position+=2},o.prototype.writeInt8=function(e){this._realloc(1),this._dataView.setInt8(this.position,e),this.position+=1},o.prototype.writeUint32=function(e,n){this._realloc(4),this._dataView.setUint32(this.position,e,n??this.endianness),this.position+=4},o.prototype.writeUint16=function(e,n){this._realloc(2),this._dataView.setUint16(this.position,e,n??this.endianness),this.position+=2},o.prototype.writeUint8=function(e){this._realloc(1),this._dataView.setUint8(this.position,e),this.position+=1},o.prototype.writeFloat32=function(e,n){this._realloc(4),this._dataView.setFloat32(this.position,e,n??this.endianness),this.position+=4},o.prototype.writeFloat64=function(e,n){this._realloc(8),this._dataView.setFloat64(this.position,e,n??this.endianness),this.position+=8},o.prototype.writeUCS2String=function(e,n,s){s==null&&(s=e.length);for(var l=0;l<e.length&&l<s;l++)this.writeUint16(e.charCodeAt(l),n);for(;l<s;l++)this.writeUint16(0)},o.prototype.writeString=function(e,n,s){var l=0;if(n==null||n=="ASCII")if(s!=null){var c=Math.min(e.length,s);for(l=0;l<c;l++)this.writeUint8(e.charCodeAt(l));for(;l<s;l++)this.writeUint8(0)}else for(l=0;l<e.length;l++)this.writeUint8(e.charCodeAt(l));else this.writeUint8Array(new TextEncoder(n).encode(e.substring(0,s)))},o.prototype.writeCString=function(e,n){var s=0;if(n!=null){var l=Math.min(e.length,n);for(s=0;s<l;s++)this.writeUint8(e.charCodeAt(s));for(;s<n;s++)this.writeUint8(0)}else{for(s=0;s<e.length;s++)this.writeUint8(e.charCodeAt(s));this.writeUint8(0)}},o.prototype.writeStruct=function(e,n){for(var s=0;s<e.length;s+=2){var l=e[s+1];this.writeType(l,n[e[s]],n)}},o.prototype.writeType=function(e,n,s){var l;if(typeof e=="function")return e(this,n);if(typeof e=="object"&&!(e instanceof Array))return e.set(this,n,s);var c=null,y="ASCII",m=this.position;switch(typeof e=="string"&&/:/.test(e)&&(l=e.split(":"),e=l[0],c=parseInt(l[1])),typeof e=="string"&&/,/.test(e)&&(l=e.split(","),e=l[0],y=parseInt(l[1])),e){case"uint8":this.writeUint8(n);break;case"int8":this.writeInt8(n);break;case"uint16":this.writeUint16(n,this.endianness);break;case"int16":this.writeInt16(n,this.endianness);break;case"uint32":this.writeUint32(n,this.endianness);break;case"int32":this.writeInt32(n,this.endianness);break;case"float32":this.writeFloat32(n,this.endianness);break;case"float64":this.writeFloat64(n,this.endianness);break;case"uint16be":this.writeUint16(n,o.BIG_ENDIAN);break;case"int16be":this.writeInt16(n,o.BIG_ENDIAN);break;case"uint32be":this.writeUint32(n,o.BIG_ENDIAN);break;case"int32be":this.writeInt32(n,o.BIG_ENDIAN);break;case"float32be":this.writeFloat32(n,o.BIG_ENDIAN);break;case"float64be":this.writeFloat64(n,o.BIG_ENDIAN);break;case"uint16le":this.writeUint16(n,o.LITTLE_ENDIAN);break;case"int16le":this.writeInt16(n,o.LITTLE_ENDIAN);break;case"uint32le":this.writeUint32(n,o.LITTLE_ENDIAN);break;case"int32le":this.writeInt32(n,o.LITTLE_ENDIAN);break;case"float32le":this.writeFloat32(n,o.LITTLE_ENDIAN);break;case"float64le":this.writeFloat64(n,o.LITTLE_ENDIAN);break;case"cstring":this.writeCString(n,c);break;case"string":this.writeString(n,y,c);break;case"u16string":this.writeUCS2String(n,this.endianness,c);break;case"u16stringle":this.writeUCS2String(n,o.LITTLE_ENDIAN,c);break;case"u16stringbe":this.writeUCS2String(n,o.BIG_ENDIAN,c);break;default:if(e.length==3){for(var h=e[1],v=0;v<n.length;v++)this.writeType(h,n[v]);break}else{this.writeStruct(e,n);break}}c!=null&&(this.position=m,this._realloc(c),this.position=m+c)},o.prototype.writeUint64=function(e){var n=Math.floor(e/f);this.writeUint32(n),this.writeUint32(e&4294967295)},o.prototype.writeUint24=function(e){this.writeUint8((e&16711680)>>16),this.writeUint8((e&65280)>>8),this.writeUint8(e&255)},o.prototype.adjustUint32=function(e,n){var s=this.position;this.seek(e),this.writeUint32(n),this.seek(s)},o.prototype.mapInt32Array=function(e,n){this._realloc(e*4);var s=new Int32Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*4,s},o.prototype.mapInt16Array=function(e,n){this._realloc(e*2);var s=new Int16Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*2,s},o.prototype.mapInt8Array=function(e){this._realloc(e*1);var n=new Int8Array(this._buffer,this.byteOffset+this.position,e);return this.position+=e*1,n},o.prototype.mapUint32Array=function(e,n){this._realloc(e*4);var s=new Uint32Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*4,s},o.prototype.mapUint16Array=function(e,n){this._realloc(e*2);var s=new Uint16Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*2,s},o.prototype.mapFloat64Array=function(e,n){this._realloc(e*8);var s=new Float64Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*8,s},o.prototype.mapFloat32Array=function(e,n){this._realloc(e*4);var s=new Float32Array(this._buffer,this.byteOffset+this.position,e);return o.arrayToNative(s,n??this.endianness),this.position+=e*4,s};var u=function(e){this.buffers=[],this.bufferIndex=-1,e&&(this.insertBuffer(e),this.bufferIndex=0)};u.prototype=new o(new ArrayBuffer,0,o.BIG_ENDIAN),u.prototype.initialized=function(){var e;return this.bufferIndex>-1?!0:this.buffers.length>0?(e=this.buffers[0],e.fileStart===0?(this.buffer=e,this.bufferIndex=0,i.debug("MultiBufferStream","Stream ready for parsing"),!0):(i.warn("MultiBufferStream","The first buffer should have a fileStart of 0"),this.logBufferLevel(),!1)):(i.warn("MultiBufferStream","No buffer to start parsing from"),this.logBufferLevel(),!1)},ArrayBuffer.concat=function(e,n){i.debug("ArrayBuffer","Trying to create a new buffer of size: "+(e.byteLength+n.byteLength));var s=new Uint8Array(e.byteLength+n.byteLength);return s.set(new Uint8Array(e),0),s.set(new Uint8Array(n),e.byteLength),s.buffer},u.prototype.reduceBuffer=function(e,n,s){var l;return l=new Uint8Array(s),l.set(new Uint8Array(e,n,s)),l.buffer.fileStart=e.fileStart+n,l.buffer.usedBytes=0,l.buffer},u.prototype.insertBuffer=function(e){for(var n=!0,s=0;s<this.buffers.length;s++){var l=this.buffers[s];if(e.fileStart<=l.fileStart){if(e.fileStart===l.fileStart)if(e.byteLength>l.byteLength){this.buffers.splice(s,1),s--;continue}else i.warn("MultiBufferStream","Buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+") already appended, ignoring");else e.fileStart+e.byteLength<=l.fileStart||(e=this.reduceBuffer(e,0,l.fileStart-e.fileStart)),i.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.splice(s,0,e),s===0&&(this.buffer=e);n=!1;break}else if(e.fileStart<l.fileStart+l.byteLength){var c=l.fileStart+l.byteLength-e.fileStart,y=e.byteLength-c;if(y>0)e=this.reduceBuffer(e,c,y);else{n=!1;break}}}n&&(i.debug("MultiBufferStream","Appending new buffer (fileStart: "+e.fileStart+" - Length: "+e.byteLength+")"),this.buffers.push(e),s===0&&(this.buffer=e))},u.prototype.logBufferLevel=function(e){var n,s,l,c,y=[],m,h="";for(l=0,c=0,n=0;n<this.buffers.length;n++)s=this.buffers[n],n===0?(m={},y.push(m),m.start=s.fileStart,m.end=s.fileStart+s.byteLength,h+="["+m.start+"-"):m.end===s.fileStart?m.end=s.fileStart+s.byteLength:(m={},m.start=s.fileStart,h+=y[y.length-1].end-1+"], ["+m.start+"-",m.end=s.fileStart+s.byteLength,y.push(m)),l+=s.usedBytes,c+=s.byteLength;y.length>0&&(h+=m.end-1+"]");var v=e?i.info:i.debug;this.buffers.length===0?v("MultiBufferStream","No more buffer in memory"):v("MultiBufferStream",""+this.buffers.length+" stored buffer(s) ("+l+"/"+c+" bytes), continuous ranges: "+h)},u.prototype.cleanBuffers=function(){var e,n;for(e=0;e<this.buffers.length;e++)n=this.buffers[e],n.usedBytes===n.byteLength&&(i.debug("MultiBufferStream","Removing buffer #"+e),this.buffers.splice(e,1),e--)},u.prototype.mergeNextBuffer=function(){var e;if(this.bufferIndex+1<this.buffers.length)if(e=this.buffers[this.bufferIndex+1],e.fileStart===this.buffer.fileStart+this.buffer.byteLength){var n=this.buffer.byteLength,s=this.buffer.usedBytes,l=this.buffer.fileStart;return this.buffers[this.bufferIndex]=ArrayBuffer.concat(this.buffer,e),this.buffer=this.buffers[this.bufferIndex],this.buffers.splice(this.bufferIndex+1,1),this.buffer.usedBytes=s,this.buffer.fileStart=l,i.debug("ISOFile","Concatenating buffer for box parsing (length: "+n+"->"+this.buffer.byteLength+")"),!0}else return!1;else return!1},u.prototype.findPosition=function(e,n,s){var l,c=null,y=-1;for(e===!0?l=0:l=this.bufferIndex;l<this.buffers.length&&(c=this.buffers[l],c.fileStart<=n);){y=l,s&&(c.fileStart+c.byteLength<=n?c.usedBytes=c.byteLength:c.usedBytes=n-c.fileStart,this.logBufferLevel());l++}return y!==-1?(c=this.buffers[y],c.fileStart+c.byteLength>=n?(i.debug("MultiBufferStream","Found position in existing buffer #"+y),y):-1):-1},u.prototype.findEndContiguousBuf=function(e){var n,s,l,c=e!==void 0?e:this.bufferIndex;if(s=this.buffers[c],this.buffers.length>c+1)for(n=c+1;n<this.buffers.length&&(l=this.buffers[n],l.fileStart===s.fileStart+s.byteLength);n++)s=l;return s.fileStart+s.byteLength},u.prototype.getEndFilePositionAfter=function(e){var n=this.findPosition(!0,e,!1);return n!==-1?this.findEndContiguousBuf(n):e},u.prototype.addUsedBytes=function(e){this.buffer.usedBytes+=e,this.logBufferLevel()},u.prototype.setAllUsedBytes=function(){this.buffer.usedBytes=this.buffer.byteLength,this.logBufferLevel()},u.prototype.seek=function(e,n,s){var l;return l=this.findPosition(n,e,s),l!==-1?(this.buffer=this.buffers[l],this.bufferIndex=l,this.position=e-this.buffer.fileStart,i.debug("MultiBufferStream","Repositioning parser at buffer position: "+this.position),!0):(i.debug("MultiBufferStream","Position "+e+" not found in buffered data"),!1)},u.prototype.getPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.position},u.prototype.getLength=function(){return this.byteLength},u.prototype.getEndPosition=function(){if(this.bufferIndex===-1||this.buffers[this.bufferIndex]===null)throw"Error accessing position in the MultiBufferStream";return this.buffers[this.bufferIndex].fileStart+this.byteLength},t.MultiBufferStream=u;var d=function(){var e=3,n=4,s=5,l=6,c=[];c[e]="ES_Descriptor",c[n]="DecoderConfigDescriptor",c[s]="DecoderSpecificInfo",c[l]="SLConfigDescriptor",this.getDescriptorName=function(h){return c[h]};var y=this,m={};return this.parseOneDescriptor=function(h){var v=0,E,U,I;for(E=h.readUint8(),I=h.readUint8();I&128;)v=(I&127)<<7,I=h.readUint8();return v+=I&127,i.debug("MPEG4DescriptorParser","Found "+(c[E]||"Descriptor "+E)+", size "+v+" at position "+h.getPosition()),c[E]?U=new m[c[E]](v):U=new m.Descriptor(v),U.parse(h),U},m.Descriptor=function(h,v){this.tag=h,this.size=v,this.descs=[]},m.Descriptor.prototype.parse=function(h){this.data=h.readUint8Array(this.size)},m.Descriptor.prototype.findDescriptor=function(h){for(var v=0;v<this.descs.length;v++)if(this.descs[v].tag==h)return this.descs[v];return null},m.Descriptor.prototype.parseRemainingDescriptors=function(h){for(var v=h.position;h.position<v+this.size;){var E=y.parseOneDescriptor(h);this.descs.push(E)}},m.ES_Descriptor=function(h){m.Descriptor.call(this,e,h)},m.ES_Descriptor.prototype=new m.Descriptor,m.ES_Descriptor.prototype.parse=function(h){if(this.ES_ID=h.readUint16(),this.flags=h.readUint8(),this.size-=3,this.flags&128?(this.dependsOn_ES_ID=h.readUint16(),this.size-=2):this.dependsOn_ES_ID=0,this.flags&64){var v=h.readUint8();this.URL=h.readString(v),this.size-=v+1}else this.URL="";this.flags&32?(this.OCR_ES_ID=h.readUint16(),this.size-=2):this.OCR_ES_ID=0,this.parseRemainingDescriptors(h)},m.ES_Descriptor.prototype.getOTI=function(h){var v=this.findDescriptor(n);return v?v.oti:0},m.ES_Descriptor.prototype.getAudioConfig=function(h){var v=this.findDescriptor(n);if(!v)return null;var E=v.findDescriptor(s);if(E&&E.data){var U=(E.data[0]&248)>>3;return U===31&&E.data.length>=2&&(U=32+((E.data[0]&7)<<3)+((E.data[1]&224)>>5)),U}else return null},m.DecoderConfigDescriptor=function(h){m.Descriptor.call(this,n,h)},m.DecoderConfigDescriptor.prototype=new m.Descriptor,m.DecoderConfigDescriptor.prototype.parse=function(h){this.oti=h.readUint8(),this.streamType=h.readUint8(),this.bufferSize=h.readUint24(),this.maxBitrate=h.readUint32(),this.avgBitrate=h.readUint32(),this.size-=13,this.parseRemainingDescriptors(h)},m.DecoderSpecificInfo=function(h){m.Descriptor.call(this,s,h)},m.DecoderSpecificInfo.prototype=new m.Descriptor,m.SLConfigDescriptor=function(h){m.Descriptor.call(this,l,h)},m.SLConfigDescriptor.prototype=new m.Descriptor,this};t.MPEG4DescriptorParser=d;var a={ERR_INVALID_DATA:-1,ERR_NOT_ENOUGH_DATA:0,OK:1,BASIC_BOXES:["mdat","idat","free","skip","meco","strk"],FULL_BOXES:["hmhd","nmhd","iods","xml ","bxml","ipro","mere"],CONTAINER_BOXES:[["moov",["trak","pssh"]],["trak"],["edts"],["mdia"],["minf"],["dinf"],["stbl",["sgpd","sbgp"]],["mvex",["trex"]],["moof",["traf"]],["traf",["trun","sgpd","sbgp"]],["vttc"],["tref"],["iref"],["mfra",["tfra"]],["meco"],["hnti"],["hinf"],["strk"],["strd"],["sinf"],["rinf"],["schi"],["trgr"],["udta",["kind"]],["iprp",["ipma"]],["ipco"]],boxCodes:[],fullBoxCodes:[],containerBoxCodes:[],sampleEntryCodes:{},sampleGroupEntryCodes:[],trackGroupTypes:[],UUIDBoxes:{},UUIDs:[],initialize:function(){a.FullBox.prototype=new a.Box,a.ContainerBox.prototype=new a.Box,a.SampleEntry.prototype=new a.Box,a.TrackGroupTypeBox.prototype=new a.FullBox,a.BASIC_BOXES.forEach(function(e){a.createBoxCtor(e)}),a.FULL_BOXES.forEach(function(e){a.createFullBoxCtor(e)}),a.CONTAINER_BOXES.forEach(function(e){a.createContainerBoxCtor(e[0],null,e[1])})},Box:function(e,n,s){this.type=e,this.size=n,this.uuid=s},FullBox:function(e,n,s){a.Box.call(this,e,n,s),this.flags=0,this.version=0},ContainerBox:function(e,n,s){a.Box.call(this,e,n,s),this.boxes=[]},SampleEntry:function(e,n,s,l){a.ContainerBox.call(this,e,n),this.hdr_size=s,this.start=l},SampleGroupEntry:function(e){this.grouping_type=e},TrackGroupTypeBox:function(e,n){a.FullBox.call(this,e,n)},createBoxCtor:function(e,n){a.boxCodes.push(e),a[e+"Box"]=function(s){a.Box.call(this,e,s)},a[e+"Box"].prototype=new a.Box,n&&(a[e+"Box"].prototype.parse=n)},createFullBoxCtor:function(e,n){a[e+"Box"]=function(s){a.FullBox.call(this,e,s)},a[e+"Box"].prototype=new a.FullBox,a[e+"Box"].prototype.parse=function(s){this.parseFullHeader(s),n&&n.call(this,s)}},addSubBoxArrays:function(e){if(e){this.subBoxNames=e;for(var n=e.length,s=0;s<n;s++)this[e[s]+"s"]=[]}},createContainerBoxCtor:function(e,n,s){a[e+"Box"]=function(l){a.ContainerBox.call(this,e,l),a.addSubBoxArrays.call(this,s)},a[e+"Box"].prototype=new a.ContainerBox,n&&(a[e+"Box"].prototype.parse=n)},createMediaSampleEntryCtor:function(e,n,s){a.sampleEntryCodes[e]=[],a[e+"SampleEntry"]=function(l,c){a.SampleEntry.call(this,l,c),a.addSubBoxArrays.call(this,s)},a[e+"SampleEntry"].prototype=new a.SampleEntry,n&&(a[e+"SampleEntry"].prototype.parse=n)},createSampleEntryCtor:function(e,n,s,l){a.sampleEntryCodes[e].push(n),a[n+"SampleEntry"]=function(c){a[e+"SampleEntry"].call(this,n,c),a.addSubBoxArrays.call(this,l)},a[n+"SampleEntry"].prototype=new a[e+"SampleEntry"],s&&(a[n+"SampleEntry"].prototype.parse=s)},createEncryptedSampleEntryCtor:function(e,n,s){a.createSampleEntryCtor.call(this,e,n,s,["sinf"])},createSampleGroupCtor:function(e,n){a[e+"SampleGroupEntry"]=function(s){a.SampleGroupEntry.call(this,e,s)},a[e+"SampleGroupEntry"].prototype=new a.SampleGroupEntry,n&&(a[e+"SampleGroupEntry"].prototype.parse=n)},createTrackGroupCtor:function(e,n){a[e+"TrackGroupTypeBox"]=function(s){a.TrackGroupTypeBox.call(this,e,s)},a[e+"TrackGroupTypeBox"].prototype=new a.TrackGroupTypeBox,n&&(a[e+"TrackGroupTypeBox"].prototype.parse=n)},createUUIDBox:function(e,n,s,l){a.UUIDs.push(e),a.UUIDBoxes[e]=function(c){n?a.FullBox.call(this,"uuid",c,e):s?a.ContainerBox.call(this,"uuid",c,e):a.Box.call(this,"uuid",c,e)},a.UUIDBoxes[e].prototype=n?new a.FullBox:s?new a.ContainerBox:new a.Box,l&&(n?a.UUIDBoxes[e].prototype.parse=function(c){this.parseFullHeader(c),l&&l.call(this,c)}:a.UUIDBoxes[e].prototype.parse=l)}};a.initialize(),a.TKHD_FLAG_ENABLED=1,a.TKHD_FLAG_IN_MOVIE=2,a.TKHD_FLAG_IN_PREVIEW=4,a.TFHD_FLAG_BASE_DATA_OFFSET=1,a.TFHD_FLAG_SAMPLE_DESC=2,a.TFHD_FLAG_SAMPLE_DUR=8,a.TFHD_FLAG_SAMPLE_SIZE=16,a.TFHD_FLAG_SAMPLE_FLAGS=32,a.TFHD_FLAG_DUR_EMPTY=65536,a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF=131072,a.TRUN_FLAGS_DATA_OFFSET=1,a.TRUN_FLAGS_FIRST_FLAG=4,a.TRUN_FLAGS_DURATION=256,a.TRUN_FLAGS_SIZE=512,a.TRUN_FLAGS_FLAGS=1024,a.TRUN_FLAGS_CTS_OFFSET=2048,a.Box.prototype.add=function(e){return this.addBox(new a[e+"Box"])},a.Box.prototype.addBox=function(e){return this.boxes.push(e),this[e.type+"s"]?this[e.type+"s"].push(e):this[e.type]=e,e},a.Box.prototype.set=function(e,n){return this[e]=n,this},a.Box.prototype.addEntry=function(e,n){var s=n||"entries";return this[s]||(this[s]=[]),this[s].push(e),this},t.BoxParser=a,a.parseUUID=function(e){return a.parseHex16(e)},a.parseHex16=function(e){for(var n="",s=0;s<16;s++){var l=e.readUint8().toString(16);n+=l.length===1?"0"+l:l}return n},a.parseOneBox=function(e,n,s){var l,c=e.getPosition(),y=0,m,h;if(e.getEndPosition()-c<8)return i.debug("BoxParser","Not enough data in stream to parse the type and size of the box"),{code:a.ERR_NOT_ENOUGH_DATA};if(s&&s<8)return i.debug("BoxParser","Not enough bytes left in the parent box to parse a new box"),{code:a.ERR_NOT_ENOUGH_DATA};var v=e.readUint32(),E=e.readString(4),U=E;if(i.debug("BoxParser","Found box of type '"+E+"' and size "+v+" at position "+c),y=8,E=="uuid"){if(e.getEndPosition()-e.getPosition()<16||s-y<16)return e.seek(c),i.debug("BoxParser","Not enough bytes left in the parent box to parse a UUID box"),{code:a.ERR_NOT_ENOUGH_DATA};h=a.parseUUID(e),y+=16,U=h}if(v==1){if(e.getEndPosition()-e.getPosition()<8||s&&s-y<8)return e.seek(c),i.warn("BoxParser",'Not enough data in stream to parse the extended size of the "'+E+'" box'),{code:a.ERR_NOT_ENOUGH_DATA};v=e.readUint64(),y+=8}else if(v===0){if(s)v=s;else if(E!=="mdat")return i.error("BoxParser","Unlimited box size not supported for type: '"+E+"'"),l=new a.Box(E,v),{code:a.OK,box:l,size:l.size}}return v<y?(i.error("BoxParser","Box of type "+E+" has an invalid size "+v+" (too small to be a box)"),{code:a.ERR_NOT_ENOUGH_DATA,type:E,size:v,hdr_size:y,start:c}):s&&v>s?(i.error("BoxParser","Box of type '"+E+"' has a size "+v+" greater than its container size "+s),{code:a.ERR_NOT_ENOUGH_DATA,type:E,size:v,hdr_size:y,start:c}):c+v>e.getEndPosition()?(e.seek(c),i.info("BoxParser","Not enough data in stream to parse the entire '"+E+"' box"),{code:a.ERR_NOT_ENOUGH_DATA,type:E,size:v,hdr_size:y,start:c}):n?{code:a.OK,type:E,size:v,hdr_size:y,start:c}:(a[E+"Box"]?l=new a[E+"Box"](v):E!=="uuid"?(i.warn("BoxParser","Unknown box type: '"+E+"'"),l=new a.Box(E,v),l.has_unparsed_data=!0):a.UUIDBoxes[h]?l=new a.UUIDBoxes[h](v):(i.warn("BoxParser","Unknown uuid type: '"+h+"'"),l=new a.Box(E,v),l.uuid=h,l.has_unparsed_data=!0),l.hdr_size=y,l.start=c,l.write===a.Box.prototype.write&&l.type!=="mdat"&&(i.info("BoxParser","'"+U+"' box writing not yet implemented, keeping unparsed data in memory for later write"),l.parseDataAndRewind(e)),l.parse(e),m=e.getPosition()-(l.start+l.size),m<0?(i.warn("BoxParser","Parsing of box '"+U+"' did not read the entire indicated box data size (missing "+-m+" bytes), seeking forward"),e.seek(l.start+l.size)):m>0&&(i.error("BoxParser","Parsing of box '"+U+"' read "+m+" more bytes than the indicated box data size, seeking backwards"),e.seek(l.start+l.size)),{code:a.OK,box:l,size:l.size})},a.Box.prototype.parse=function(e){this.type!="mdat"?this.data=e.readUint8Array(this.size-this.hdr_size):this.size===0?e.seek(e.getEndPosition()):e.seek(this.start+this.size)},a.Box.prototype.parseDataAndRewind=function(e){this.data=e.readUint8Array(this.size-this.hdr_size),e.position-=this.size-this.hdr_size},a.FullBox.prototype.parseDataAndRewind=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=4,e.position-=this.size-this.hdr_size},a.FullBox.prototype.parseFullHeader=function(e){this.version=e.readUint8(),this.flags=e.readUint24(),this.hdr_size+=4},a.FullBox.prototype.parse=function(e){this.parseFullHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},a.ContainerBox.prototype.parse=function(e){for(var n,s;e.getPosition()<this.start+this.size;)if(n=a.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),n.code===a.OK)if(s=n.box,this.boxes.push(s),this.subBoxNames&&this.subBoxNames.indexOf(s.type)!=-1)this[this.subBoxNames[this.subBoxNames.indexOf(s.type)]+"s"].push(s);else{var l=s.type!=="uuid"?s.type:s.uuid;this[l]?i.warn("Box of type "+l+" already stored in field of this type"):this[l]=s}else return},a.Box.prototype.parseLanguage=function(e){this.language=e.readUint16();var n=[];n[0]=this.language>>10&31,n[1]=this.language>>5&31,n[2]=this.language&31,this.languageString=String.fromCharCode(n[0]+96,n[1]+96,n[2]+96)},a.SAMPLE_ENTRY_TYPE_VISUAL="Visual",a.SAMPLE_ENTRY_TYPE_AUDIO="Audio",a.SAMPLE_ENTRY_TYPE_HINT="Hint",a.SAMPLE_ENTRY_TYPE_METADATA="Metadata",a.SAMPLE_ENTRY_TYPE_SUBTITLE="Subtitle",a.SAMPLE_ENTRY_TYPE_SYSTEM="System",a.SAMPLE_ENTRY_TYPE_TEXT="Text",a.SampleEntry.prototype.parseHeader=function(e){e.readUint8Array(6),this.data_reference_index=e.readUint16(),this.hdr_size+=8},a.SampleEntry.prototype.parse=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size)},a.SampleEntry.prototype.parseDataAndRewind=function(e){this.parseHeader(e),this.data=e.readUint8Array(this.size-this.hdr_size),this.hdr_size-=8,e.position-=this.size-this.hdr_size},a.SampleEntry.prototype.parseFooter=function(e){a.ContainerBox.prototype.parse.call(this,e)},a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_HINT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,function(e){var n;this.parseHeader(e),e.readUint16(),e.readUint16(),e.readUint32Array(3),this.width=e.readUint16(),this.height=e.readUint16(),this.horizresolution=e.readUint32(),this.vertresolution=e.readUint32(),e.readUint32(),this.frame_count=e.readUint16(),n=Math.min(31,e.readUint8()),this.compressorname=e.readString(n),n<31&&e.readString(31-n),this.depth=e.readUint16(),e.readUint16(),this.parseFooter(e)}),a.createMediaSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,function(e){this.parseHeader(e),e.readUint32Array(2),this.channel_count=e.readUint16(),this.samplesize=e.readUint16(),e.readUint16(),e.readUint16(),this.samplerate=e.readUint32()/65536,this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc2"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"avc4"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"av01"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hvc1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"hev1"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"mp4a"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ac-3"),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"ec-3"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_VISUAL,"encv"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_AUDIO,"enca"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"encu"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SYSTEM,"encs"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_TEXT,"enct"),a.createEncryptedSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"encm"),a.createBoxCtor("a1lx",function(e){var n=e.readUint8()&1,s=((n&1)+1)*16;this.layer_size=[];for(var l=0;l<3;l++)s==16?this.layer_size[l]=e.readUint16():this.layer_size[l]=e.readUint32()}),a.createBoxCtor("a1op",function(e){this.op_index=e.readUint8()}),a.createFullBoxCtor("auxC",function(e){this.aux_type=e.readCString();var n=this.size-this.hdr_size-(this.aux_type.length+1);this.aux_subtype=e.readUint8Array(n)}),a.createBoxCtor("av1C",function(e){var n=e.readUint8();if(n>>7&!1){i.error("av1C marker problem");return}if(this.version=n&127,this.version!==1){i.error("av1C version "+this.version+" not supported");return}if(n=e.readUint8(),this.seq_profile=n>>5&7,this.seq_level_idx_0=n&31,n=e.readUint8(),this.seq_tier_0=n>>7&1,this.high_bitdepth=n>>6&1,this.twelve_bit=n>>5&1,this.monochrome=n>>4&1,this.chroma_subsampling_x=n>>3&1,this.chroma_subsampling_y=n>>2&1,this.chroma_sample_position=n&3,n=e.readUint8(),this.reserved_1=n>>5&7,this.reserved_1!==0){i.error("av1C reserved_1 parsing problem");return}if(this.initial_presentation_delay_present=n>>4&1,this.initial_presentation_delay_present===1)this.initial_presentation_delay_minus_one=n&15;else if(this.reserved_2=n&15,this.reserved_2!==0){i.error("av1C reserved_2 parsing problem");return}var s=this.size-this.hdr_size-4;this.configOBUs=e.readUint8Array(s)}),a.createBoxCtor("avcC",function(e){var n,s;for(this.configurationVersion=e.readUint8(),this.AVCProfileIndication=e.readUint8(),this.profile_compatibility=e.readUint8(),this.AVCLevelIndication=e.readUint8(),this.lengthSizeMinusOne=e.readUint8()&3,this.nb_SPS_nalus=e.readUint8()&31,s=this.size-this.hdr_size-6,this.SPS=[],n=0;n<this.nb_SPS_nalus;n++)this.SPS[n]={},this.SPS[n].length=e.readUint16(),this.SPS[n].nalu=e.readUint8Array(this.SPS[n].length),s-=2+this.SPS[n].length;for(this.nb_PPS_nalus=e.readUint8(),s--,this.PPS=[],n=0;n<this.nb_PPS_nalus;n++)this.PPS[n]={},this.PPS[n].length=e.readUint16(),this.PPS[n].nalu=e.readUint8Array(this.PPS[n].length),s-=2+this.PPS[n].length;s>0&&(this.ext=e.readUint8Array(s))}),a.createBoxCtor("btrt",function(e){this.bufferSizeDB=e.readUint32(),this.maxBitrate=e.readUint32(),this.avgBitrate=e.readUint32()}),a.createBoxCtor("clap",function(e){this.cleanApertureWidthN=e.readUint32(),this.cleanApertureWidthD=e.readUint32(),this.cleanApertureHeightN=e.readUint32(),this.cleanApertureHeightD=e.readUint32(),this.horizOffN=e.readUint32(),this.horizOffD=e.readUint32(),this.vertOffN=e.readUint32(),this.vertOffD=e.readUint32()}),a.createBoxCtor("clli",function(e){this.max_content_light_level=e.readUint16(),this.max_pic_average_light_level=e.readUint16()}),a.createFullBoxCtor("co64",function(e){var n,s;if(n=e.readUint32(),this.chunk_offsets=[],this.version===0)for(s=0;s<n;s++)this.chunk_offsets.push(e.readUint64())}),a.createFullBoxCtor("CoLL",function(e){this.maxCLL=e.readUint16(),this.maxFALL=e.readUint16()}),a.createBoxCtor("colr",function(e){if(this.colour_type=e.readString(4),this.colour_type==="nclx"){this.colour_primaries=e.readUint16(),this.transfer_characteristics=e.readUint16(),this.matrix_coefficients=e.readUint16();var n=e.readUint8();this.full_range_flag=n>>7}else this.colour_type==="rICC"?this.ICC_profile=e.readUint8Array(this.size-4):this.colour_type==="prof"&&(this.ICC_profile=e.readUint8Array(this.size-4))}),a.createFullBoxCtor("cprt",function(e){this.parseLanguage(e),this.notice=e.readCString()}),a.createFullBoxCtor("cslg",function(e){this.version===0&&(this.compositionToDTSShift=e.readInt32(),this.leastDecodeToDisplayDelta=e.readInt32(),this.greatestDecodeToDisplayDelta=e.readInt32(),this.compositionStartTime=e.readInt32(),this.compositionEndTime=e.readInt32())}),a.createFullBoxCtor("ctts",function(e){var n,s;if(n=e.readUint32(),this.sample_counts=[],this.sample_offsets=[],this.version===0)for(s=0;s<n;s++){this.sample_counts.push(e.readUint32());var l=e.readInt32();l<0&&i.warn("BoxParser","ctts box uses negative values without using version 1"),this.sample_offsets.push(l)}else if(this.version==1)for(s=0;s<n;s++)this.sample_counts.push(e.readUint32()),this.sample_offsets.push(e.readInt32())}),a.createBoxCtor("dac3",function(e){var n=e.readUint8(),s=e.readUint8(),l=e.readUint8();this.fscod=n>>6,this.bsid=n>>1&31,this.bsmod=(n&1)<<2|s>>6&3,this.acmod=s>>3&7,this.lfeon=s>>2&1,this.bit_rate_code=s&3|l>>5&7}),a.createBoxCtor("dec3",function(e){var n=e.readUint16();this.data_rate=n>>3,this.num_ind_sub=n&7,this.ind_subs=[];for(var s=0;s<this.num_ind_sub+1;s++){var l={};this.ind_subs.push(l);var c=e.readUint8(),y=e.readUint8(),m=e.readUint8();l.fscod=c>>6,l.bsid=c>>1&31,l.bsmod=(c&1)<<4|y>>4&15,l.acmod=y>>1&7,l.lfeon=y&1,l.num_dep_sub=m>>1&15,l.num_dep_sub>0&&(l.chan_loc=(m&1)<<8|e.readUint8())}}),a.createFullBoxCtor("dfLa",function(e){var n=127,s=128,l=[],c=["STREAMINFO","PADDING","APPLICATION","SEEKTABLE","VORBIS_COMMENT","CUESHEET","PICTURE","RESERVED"];this.parseFullHeader(e);do{var y=e.readUint8(),m=Math.min(y&n,c.length-1);if(m?e.readUint8Array(e.readUint24()):(e.readUint8Array(13),this.samplerate=e.readUint32()>>12,e.readUint8Array(20)),l.push(c[m]),y&s)break}while(!0);this.numMetadataBlocks=l.length+" ("+l.join(", ")+")"}),a.createBoxCtor("dimm",function(e){this.bytessent=e.readUint64()}),a.createBoxCtor("dmax",function(e){this.time=e.readUint32()}),a.createBoxCtor("dmed",function(e){this.bytessent=e.readUint64()}),a.createFullBoxCtor("dref",function(e){var n,s;this.entries=[];for(var l=e.readUint32(),c=0;c<l;c++)if(n=a.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),n.code===a.OK)s=n.box,this.entries.push(s);else return}),a.createBoxCtor("drep",function(e){this.bytessent=e.readUint64()}),a.createFullBoxCtor("elng",function(e){this.extended_language=e.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("elst",function(e){this.entries=[];for(var n=e.readUint32(),s=0;s<n;s++){var l={};this.entries.push(l),this.version===1?(l.segment_duration=e.readUint64(),l.media_time=e.readInt64()):(l.segment_duration=e.readUint32(),l.media_time=e.readInt32()),l.media_rate_integer=e.readInt16(),l.media_rate_fraction=e.readInt16()}}),a.createFullBoxCtor("emsg",function(e){this.version==1?(this.timescale=e.readUint32(),this.presentation_time=e.readUint64(),this.event_duration=e.readUint32(),this.id=e.readUint32(),this.scheme_id_uri=e.readCString(),this.value=e.readCString()):(this.scheme_id_uri=e.readCString(),this.value=e.readCString(),this.timescale=e.readUint32(),this.presentation_time_delta=e.readUint32(),this.event_duration=e.readUint32(),this.id=e.readUint32());var n=this.size-this.hdr_size-(4*4+(this.scheme_id_uri.length+1)+(this.value.length+1));this.version==1&&(n-=4),this.message_data=e.readUint8Array(n)}),a.createFullBoxCtor("esds",function(e){var n=e.readUint8Array(this.size-this.hdr_size);if(typeof d<"u"){var s=new d;this.esd=s.parseOneDescriptor(new o(n.buffer,0,o.BIG_ENDIAN))}}),a.createBoxCtor("fiel",function(e){this.fieldCount=e.readUint8(),this.fieldOrdering=e.readUint8()}),a.createBoxCtor("frma",function(e){this.data_format=e.readString(4)}),a.createBoxCtor("ftyp",function(e){var n=this.size-this.hdr_size;this.major_brand=e.readString(4),this.minor_version=e.readUint32(),n-=8,this.compatible_brands=[];for(var s=0;n>=4;)this.compatible_brands[s]=e.readString(4),n-=4,s++}),a.createFullBoxCtor("hdlr",function(e){this.version===0&&(e.readUint32(),this.handler=e.readString(4),e.readUint32Array(3),this.name=e.readString(this.size-this.hdr_size-20),this.name[this.name.length-1]==="\0"&&(this.name=this.name.slice(0,-1)))}),a.createBoxCtor("hvcC",function(e){var n,s,l,c;this.configurationVersion=e.readUint8(),c=e.readUint8(),this.general_profile_space=c>>6,this.general_tier_flag=(c&32)>>5,this.general_profile_idc=c&31,this.general_profile_compatibility=e.readUint32(),this.general_constraint_indicator=e.readUint8Array(6),this.general_level_idc=e.readUint8(),this.min_spatial_segmentation_idc=e.readUint16()&4095,this.parallelismType=e.readUint8()&3,this.chroma_format_idc=e.readUint8()&3,this.bit_depth_luma_minus8=e.readUint8()&7,this.bit_depth_chroma_minus8=e.readUint8()&7,this.avgFrameRate=e.readUint16(),c=e.readUint8(),this.constantFrameRate=c>>6,this.numTemporalLayers=(c&13)>>3,this.temporalIdNested=(c&4)>>2,this.lengthSizeMinusOne=c&3,this.nalu_arrays=[];var y=e.readUint8();for(n=0;n<y;n++){var m=[];this.nalu_arrays.push(m),c=e.readUint8(),m.completeness=(c&128)>>7,m.nalu_type=c&63;var h=e.readUint16();for(s=0;s<h;s++){var v={};m.push(v),l=e.readUint16(),v.data=e.readUint8Array(l)}}}),a.createFullBoxCtor("iinf",function(e){var n;this.version===0?this.entry_count=e.readUint16():this.entry_count=e.readUint32(),this.item_infos=[];for(var s=0;s<this.entry_count;s++)if(n=a.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),n.code===a.OK)n.box.type!=="infe"&&i.error("BoxParser","Expected 'infe' box, got "+n.box.type),this.item_infos[s]=n.box;else return}),a.createFullBoxCtor("iloc",function(e){var n;n=e.readUint8(),this.offset_size=n>>4&15,this.length_size=n&15,n=e.readUint8(),this.base_offset_size=n>>4&15,this.version===1||this.version===2?this.index_size=n&15:this.index_size=0,this.items=[];var s=0;if(this.version<2)s=e.readUint16();else if(this.version===2)s=e.readUint32();else throw"version of iloc box not supported";for(var l=0;l<s;l++){var c={};if(this.items.push(c),this.version<2)c.item_ID=e.readUint16();else if(this.version===2)c.item_ID=e.readUint16();else throw"version of iloc box not supported";switch(this.version===1||this.version===2?c.construction_method=e.readUint16()&15:c.construction_method=0,c.data_reference_index=e.readUint16(),this.base_offset_size){case 0:c.base_offset=0;break;case 4:c.base_offset=e.readUint32();break;case 8:c.base_offset=e.readUint64();break;default:throw"Error reading base offset size"}var y=e.readUint16();c.extents=[];for(var m=0;m<y;m++){var h={};if(c.extents.push(h),this.version===1||this.version===2)switch(this.index_size){case 0:h.extent_index=0;break;case 4:h.extent_index=e.readUint32();break;case 8:h.extent_index=e.readUint64();break;default:throw"Error reading extent index"}switch(this.offset_size){case 0:h.extent_offset=0;break;case 4:h.extent_offset=e.readUint32();break;case 8:h.extent_offset=e.readUint64();break;default:throw"Error reading extent index"}switch(this.length_size){case 0:h.extent_length=0;break;case 4:h.extent_length=e.readUint32();break;case 8:h.extent_length=e.readUint64();break;default:throw"Error reading extent index"}}}}),a.createBoxCtor("imir",function(e){var n=e.readUint8();this.reserved=n>>7,this.axis=n&1}),a.createFullBoxCtor("infe",function(e){if((this.version===0||this.version===1)&&(this.item_ID=e.readUint16(),this.item_protection_index=e.readUint16(),this.item_name=e.readCString(),this.content_type=e.readCString(),this.content_encoding=e.readCString()),this.version===1){this.extension_type=e.readString(4),i.warn("BoxParser","Cannot parse extension type"),e.seek(this.start+this.size);return}this.version>=2&&(this.version===2?this.item_ID=e.readUint16():this.version===3&&(this.item_ID=e.readUint32()),this.item_protection_index=e.readUint16(),this.item_type=e.readString(4),this.item_name=e.readCString(),this.item_type==="mime"?(this.content_type=e.readCString(),this.content_encoding=e.readCString()):this.item_type==="uri "&&(this.item_uri_type=e.readCString()))}),a.createFullBoxCtor("ipma",function(e){var n,s;for(entry_count=e.readUint32(),this.associations=[],n=0;n<entry_count;n++){var l={};this.associations.push(l),this.version<1?l.id=e.readUint16():l.id=e.readUint32();var c=e.readUint8();for(l.props=[],s=0;s<c;s++){var y=e.readUint8(),m={};l.props.push(m),m.essential=(y&128)>>7===1,this.flags&1?m.property_index=(y&127)<<8|e.readUint8():m.property_index=y&127}}}),a.createFullBoxCtor("iref",function(e){var n,s;for(this.references=[];e.getPosition()<this.start+this.size;)if(n=a.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),n.code===a.OK)this.version===0?s=new a.SingleItemTypeReferenceBox(n.type,n.size,n.hdr_size,n.start):s=new a.SingleItemTypeReferenceBoxLarge(n.type,n.size,n.hdr_size,n.start),s.write===a.Box.prototype.write&&s.type!=="mdat"&&(i.warn("BoxParser",s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(e)),s.parse(e),this.references.push(s);else return}),a.createBoxCtor("irot",function(e){this.angle=e.readUint8()&3}),a.createFullBoxCtor("ispe",function(e){this.image_width=e.readUint32(),this.image_height=e.readUint32()}),a.createFullBoxCtor("kind",function(e){this.schemeURI=e.readCString(),this.value=e.readCString()}),a.createFullBoxCtor("leva",function(e){var n=e.readUint8();this.levels=[];for(var s=0;s<n;s++){var l={};this.levels[s]=l,l.track_ID=e.readUint32();var c=e.readUint8();switch(l.padding_flag=c>>7,l.assignment_type=c&127,l.assignment_type){case 0:l.grouping_type=e.readString(4);break;case 1:l.grouping_type=e.readString(4),l.grouping_type_parameter=e.readUint32();break;case 2:break;case 3:break;case 4:l.sub_track_id=e.readUint32();break;default:i.warn("BoxParser","Unknown leva assignement type")}}}),a.createBoxCtor("lsel",function(e){this.layer_id=e.readUint16()}),a.createBoxCtor("maxr",function(e){this.period=e.readUint32(),this.bytes=e.readUint32()}),a.createBoxCtor("mdcv",function(e){this.display_primaries=[],this.display_primaries[0]={},this.display_primaries[0].x=e.readUint16(),this.display_primaries[0].y=e.readUint16(),this.display_primaries[1]={},this.display_primaries[1].x=e.readUint16(),this.display_primaries[1].y=e.readUint16(),this.display_primaries[2]={},this.display_primaries[2].x=e.readUint16(),this.display_primaries[2].y=e.readUint16(),this.white_point={},this.white_point.x=e.readUint16(),this.white_point.y=e.readUint16(),this.max_display_mastering_luminance=e.readUint32(),this.min_display_mastering_luminance=e.readUint32()}),a.createFullBoxCtor("mdhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.parseLanguage(e),e.readUint16()}),a.createFullBoxCtor("mehd",function(e){this.flags&1&&(i.warn("BoxParser","mehd box incorrectly uses flags set to 1, converting version to 1"),this.version=1),this.version==1?this.fragment_duration=e.readUint64():this.fragment_duration=e.readUint32()}),a.createFullBoxCtor("meta",function(e){this.boxes=[],a.ContainerBox.prototype.parse.call(this,e)}),a.createFullBoxCtor("mfhd",function(e){this.sequence_number=e.readUint32()}),a.createFullBoxCtor("mfro",function(e){this._size=e.readUint32()}),a.createFullBoxCtor("mvhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.timescale=e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.timescale=e.readUint32(),this.duration=e.readUint32()),this.rate=e.readUint32(),this.volume=e.readUint16()>>8,e.readUint16(),e.readUint32Array(2),this.matrix=e.readUint32Array(9),e.readUint32Array(6),this.next_track_id=e.readUint32()}),a.createBoxCtor("npck",function(e){this.packetssent=e.readUint32()}),a.createBoxCtor("nump",function(e){this.packetssent=e.readUint64()}),a.createFullBoxCtor("padb",function(e){var n=e.readUint32();this.padbits=[];for(var s=0;s<Math.floor((n+1)/2);s++)this.padbits=e.readUint8()}),a.createBoxCtor("pasp",function(e){this.hSpacing=e.readUint32(),this.vSpacing=e.readUint32()}),a.createBoxCtor("payl",function(e){this.text=e.readString(this.size-this.hdr_size)}),a.createBoxCtor("payt",function(e){this.payloadID=e.readUint32();var n=e.readUint8();this.rtpmap_string=e.readString(n)}),a.createFullBoxCtor("pdin",function(e){var n=(this.size-this.hdr_size)/8;this.rate=[],this.initial_delay=[];for(var s=0;s<n;s++)this.rate[s]=e.readUint32(),this.initial_delay[s]=e.readUint32()}),a.createFullBoxCtor("pitm",function(e){this.version===0?this.item_id=e.readUint16():this.item_id=e.readUint32()}),a.createFullBoxCtor("pixi",function(e){var n;for(this.num_channels=e.readUint8(),this.bits_per_channels=[],n=0;n<this.num_channels;n++)this.bits_per_channels[n]=e.readUint8()}),a.createBoxCtor("pmax",function(e){this.bytes=e.readUint32()}),a.createFullBoxCtor("prft",function(e){this.ref_track_id=e.readUint32(),this.ntp_timestamp=e.readUint64(),this.version===0?this.media_time=e.readUint32():this.media_time=e.readUint64()}),a.createFullBoxCtor("pssh",function(e){if(this.system_id=a.parseHex16(e),this.version>0){var n=e.readUint32();this.kid=[];for(var s=0;s<n;s++)this.kid[s]=a.parseHex16(e)}var l=e.readUint32();l>0&&(this.data=e.readUint8Array(l))}),a.createFullBoxCtor("clef",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),a.createFullBoxCtor("enof",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),a.createFullBoxCtor("prof",function(e){this.width=e.readUint32(),this.height=e.readUint32()}),a.createContainerBoxCtor("tapt",null,["clef","prof","enof"]),a.createBoxCtor("rtp ",function(e){this.descriptionformat=e.readString(4),this.sdptext=e.readString(this.size-this.hdr_size-4)}),a.createFullBoxCtor("saio",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32());var n=e.readUint32();this.offset=[];for(var s=0;s<n;s++)this.version===0?this.offset[s]=e.readUint32():this.offset[s]=e.readUint64()}),a.createFullBoxCtor("saiz",function(e){this.flags&1&&(this.aux_info_type=e.readUint32(),this.aux_info_type_parameter=e.readUint32()),this.default_sample_info_size=e.readUint8();var n=e.readUint32();if(this.sample_info_size=[],this.default_sample_info_size===0)for(var s=0;s<n;s++)this.sample_info_size[s]=e.readUint8()}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"mett",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"metx",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"sbtt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stpp",function(e){this.parseHeader(e),this.namespace=e.readCString(),this.schema_location=e.readCString(),this.auxiliary_mime_types=e.readCString(),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"stxt",function(e){this.parseHeader(e),this.content_encoding=e.readCString(),this.mime_format=e.readCString(),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_SUBTITLE,"tx3g",function(e){this.parseHeader(e),this.displayFlags=e.readUint32(),this.horizontal_justification=e.readInt8(),this.vertical_justification=e.readInt8(),this.bg_color_rgba=e.readUint8Array(4),this.box_record=e.readInt16Array(4),this.style_record=e.readUint8Array(12),this.parseFooter(e)}),a.createSampleEntryCtor(a.SAMPLE_ENTRY_TYPE_METADATA,"wvtt",function(e){this.parseHeader(e),this.parseFooter(e)}),a.createSampleGroupCtor("alst",function(e){var n,s=e.readUint16();for(this.first_output_sample=e.readUint16(),this.sample_offset=[],n=0;n<s;n++)this.sample_offset[n]=e.readUint32();var l=this.description_length-4-4*s;for(this.num_output_samples=[],this.num_total_samples=[],n=0;n<l/4;n++)this.num_output_samples[n]=e.readUint16(),this.num_total_samples[n]=e.readUint16()}),a.createSampleGroupCtor("avll",function(e){this.layerNumber=e.readUint8(),this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()}),a.createSampleGroupCtor("avss",function(e){this.subSequenceIdentifier=e.readUint16(),this.layerNumber=e.readUint8();var n=e.readUint8();this.durationFlag=n>>7,this.avgRateFlag=n>>6&1,this.durationFlag&&(this.duration=e.readUint32()),this.avgRateFlag&&(this.accurateStatisticsFlag=e.readUint8(),this.avgBitRate=e.readUint16(),this.avgFrameRate=e.readUint16()),this.dependency=[];for(var s=e.readUint8(),l=0;l<s;l++){var c={};this.dependency.push(c),c.subSeqDirectionFlag=e.readUint8(),c.layerNumber=e.readUint8(),c.subSequenceIdentifier=e.readUint16()}}),a.createSampleGroupCtor("dtrt",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("mvif",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("prol",function(e){this.roll_distance=e.readInt16()}),a.createSampleGroupCtor("rap ",function(e){var n=e.readUint8();this.num_leading_samples_known=n>>7,this.num_leading_samples=n&127}),a.createSampleGroupCtor("rash",function(e){if(this.operation_point_count=e.readUint16(),this.description_length!==2+(this.operation_point_count===1?2:this.operation_point_count*6)+9)i.warn("BoxParser","Mismatch in "+this.grouping_type+" sample group length"),this.data=e.readUint8Array(this.description_length-2);else{if(this.operation_point_count===1)this.target_rate_share=e.readUint16();else{this.target_rate_share=[],this.available_bitrate=[];for(var n=0;n<this.operation_point_count;n++)this.available_bitrate[n]=e.readUint32(),this.target_rate_share[n]=e.readUint16()}this.maximum_bitrate=e.readUint32(),this.minimum_bitrate=e.readUint32(),this.discard_priority=e.readUint8()}}),a.createSampleGroupCtor("roll",function(e){this.roll_distance=e.readInt16()}),a.SampleGroupEntry.prototype.parse=function(e){i.warn("BoxParser","Unknown Sample Group type: "+this.grouping_type),this.data=e.readUint8Array(this.description_length)},a.createSampleGroupCtor("scif",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("scnm",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("seig",function(e){this.reserved=e.readUint8();var n=e.readUint8();this.crypt_byte_block=n>>4,this.skip_byte_block=n&15,this.isProtected=e.readUint8(),this.Per_Sample_IV_Size=e.readUint8(),this.KID=a.parseHex16(e),this.constant_IV_size=0,this.constant_IV=0,this.isProtected===1&&this.Per_Sample_IV_Size===0&&(this.constant_IV_size=e.readUint8(),this.constant_IV=e.readUint8Array(this.constant_IV_size))}),a.createSampleGroupCtor("stsa",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("sync",function(e){var n=e.readUint8();this.NAL_unit_type=n&63}),a.createSampleGroupCtor("tele",function(e){var n=e.readUint8();this.level_independently_decodable=n>>7}),a.createSampleGroupCtor("tsas",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("tscl",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createSampleGroupCtor("vipr",function(e){i.warn("BoxParser","Sample Group type: "+this.grouping_type+" not fully parsed")}),a.createFullBoxCtor("sbgp",function(e){this.grouping_type=e.readString(4),this.version===1?this.grouping_type_parameter=e.readUint32():this.grouping_type_parameter=0,this.entries=[];for(var n=e.readUint32(),s=0;s<n;s++){var l={};this.entries.push(l),l.sample_count=e.readInt32(),l.group_description_index=e.readInt32()}}),a.createFullBoxCtor("schm",function(e){this.scheme_type=e.readString(4),this.scheme_version=e.readUint32(),this.flags&1&&(this.scheme_uri=e.readString(this.size-this.hdr_size-8))}),a.createBoxCtor("sdp ",function(e){this.sdptext=e.readString(this.size-this.hdr_size)}),a.createFullBoxCtor("sdtp",function(e){var n,s=this.size-this.hdr_size;this.is_leading=[],this.sample_depends_on=[],this.sample_is_depended_on=[],this.sample_has_redundancy=[];for(var l=0;l<s;l++)n=e.readUint8(),this.is_leading[l]=n>>6,this.sample_depends_on[l]=n>>4&3,this.sample_is_depended_on[l]=n>>2&3,this.sample_has_redundancy[l]=n&3}),a.createFullBoxCtor("senc"),a.createFullBoxCtor("sgpd",function(e){this.grouping_type=e.readString(4),i.debug("BoxParser","Found Sample Groups of type "+this.grouping_type),this.version===1?this.default_length=e.readUint32():this.default_length=0,this.version>=2&&(this.default_group_description_index=e.readUint32()),this.entries=[];for(var n=e.readUint32(),s=0;s<n;s++){var l;a[this.grouping_type+"SampleGroupEntry"]?l=new a[this.grouping_type+"SampleGroupEntry"](this.grouping_type):l=new a.SampleGroupEntry(this.grouping_type),this.entries.push(l),this.version===1?this.default_length===0?l.description_length=e.readUint32():l.description_length=this.default_length:l.description_length=this.default_length,l.write===a.SampleGroupEntry.prototype.write&&(i.info("BoxParser","SampleGroup for type "+this.grouping_type+" writing not yet implemented, keeping unparsed data in memory for later write"),l.data=e.readUint8Array(l.description_length),e.position-=l.description_length),l.parse(e)}}),a.createFullBoxCtor("sidx",function(e){this.reference_ID=e.readUint32(),this.timescale=e.readUint32(),this.version===0?(this.earliest_presentation_time=e.readUint32(),this.first_offset=e.readUint32()):(this.earliest_presentation_time=e.readUint64(),this.first_offset=e.readUint64()),e.readUint16(),this.references=[];for(var n=e.readUint16(),s=0;s<n;s++){var l={};this.references.push(l);var c=e.readUint32();l.reference_type=c>>31&1,l.referenced_size=c&2147483647,l.subsegment_duration=e.readUint32(),c=e.readUint32(),l.starts_with_SAP=c>>31&1,l.SAP_type=c>>28&7,l.SAP_delta_time=c&268435455}}),a.SingleItemTypeReferenceBox=function(e,n,s,l){a.Box.call(this,e,n),this.hdr_size=s,this.start=l},a.SingleItemTypeReferenceBox.prototype=new a.Box,a.SingleItemTypeReferenceBox.prototype.parse=function(e){this.from_item_ID=e.readUint16();var n=e.readUint16();this.references=[];for(var s=0;s<n;s++)this.references[s]=e.readUint16()},a.SingleItemTypeReferenceBoxLarge=function(e,n,s,l){a.Box.call(this,e,n),this.hdr_size=s,this.start=l},a.SingleItemTypeReferenceBoxLarge.prototype=new a.Box,a.SingleItemTypeReferenceBoxLarge.prototype.parse=function(e){this.from_item_ID=e.readUint32();var n=e.readUint16();this.references=[];for(var s=0;s<n;s++)this.references[s]=e.readUint32()},a.createFullBoxCtor("SmDm",function(e){this.primaryRChromaticity_x=e.readUint16(),this.primaryRChromaticity_y=e.readUint16(),this.primaryGChromaticity_x=e.readUint16(),this.primaryGChromaticity_y=e.readUint16(),this.primaryBChromaticity_x=e.readUint16(),this.primaryBChromaticity_y=e.readUint16(),this.whitePointChromaticity_x=e.readUint16(),this.whitePointChromaticity_y=e.readUint16(),this.luminanceMax=e.readUint32(),this.luminanceMin=e.readUint32()}),a.createFullBoxCtor("smhd",function(e){this.balance=e.readUint16(),e.readUint16()}),a.createFullBoxCtor("ssix",function(e){this.subsegments=[];for(var n=e.readUint32(),s=0;s<n;s++){var l={};this.subsegments.push(l),l.ranges=[];for(var c=e.readUint32(),y=0;y<c;y++){var m={};l.ranges.push(m),m.level=e.readUint8(),m.range_size=e.readUint24()}}}),a.createFullBoxCtor("stco",function(e){var n;if(n=e.readUint32(),this.chunk_offsets=[],this.version===0)for(var s=0;s<n;s++)this.chunk_offsets.push(e.readUint32())}),a.createFullBoxCtor("stdp",function(e){var n=(this.size-this.hdr_size)/2;this.priority=[];for(var s=0;s<n;s++)this.priority[s]=e.readUint16()}),a.createFullBoxCtor("sthd"),a.createFullBoxCtor("stri",function(e){this.switch_group=e.readUint16(),this.alternate_group=e.readUint16(),this.sub_track_id=e.readUint32();var n=(this.size-this.hdr_size-8)/4;this.attribute_list=[];for(var s=0;s<n;s++)this.attribute_list[s]=e.readUint32()}),a.createFullBoxCtor("stsc",function(e){var n,s;if(n=e.readUint32(),this.first_chunk=[],this.samples_per_chunk=[],this.sample_description_index=[],this.version===0)for(s=0;s<n;s++)this.first_chunk.push(e.readUint32()),this.samples_per_chunk.push(e.readUint32()),this.sample_description_index.push(e.readUint32())}),a.createFullBoxCtor("stsd",function(e){var n,s,l,c;for(this.entries=[],l=e.readUint32(),n=1;n<=l;n++)if(s=a.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),s.code===a.OK)a[s.type+"SampleEntry"]?(c=new a[s.type+"SampleEntry"](s.size),c.hdr_size=s.hdr_size,c.start=s.start):(i.warn("BoxParser","Unknown sample entry type: "+s.type),c=new a.SampleEntry(s.type,s.size,s.hdr_size,s.start)),c.write===a.SampleEntry.prototype.write&&(i.info("BoxParser","SampleEntry "+c.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),c.parseDataAndRewind(e)),c.parse(e),this.entries.push(c);else return}),a.createFullBoxCtor("stsg",function(e){this.grouping_type=e.readUint32();var n=e.readUint16();this.group_description_index=[];for(var s=0;s<n;s++)this.group_description_index[s]=e.readUint32()}),a.createFullBoxCtor("stsh",function(e){var n,s;if(n=e.readUint32(),this.shadowed_sample_numbers=[],this.sync_sample_numbers=[],this.version===0)for(s=0;s<n;s++)this.shadowed_sample_numbers.push(e.readUint32()),this.sync_sample_numbers.push(e.readUint32())}),a.createFullBoxCtor("stss",function(e){var n,s;if(s=e.readUint32(),this.version===0)for(this.sample_numbers=[],n=0;n<s;n++)this.sample_numbers.push(e.readUint32())}),a.createFullBoxCtor("stsz",function(e){var n;if(this.sample_sizes=[],this.version===0)for(this.sample_size=e.readUint32(),this.sample_count=e.readUint32(),n=0;n<this.sample_count;n++)this.sample_size===0?this.sample_sizes.push(e.readUint32()):this.sample_sizes[n]=this.sample_size}),a.createFullBoxCtor("stts",function(e){var n,s,l;if(n=e.readUint32(),this.sample_counts=[],this.sample_deltas=[],this.version===0)for(s=0;s<n;s++)this.sample_counts.push(e.readUint32()),l=e.readInt32(),l<0&&(i.warn("BoxParser","File uses negative stts sample delta, using value 1 instead, sync may be lost!"),l=1),this.sample_deltas.push(l)}),a.createFullBoxCtor("stvi",function(e){var n=e.readUint32();this.single_view_allowed=n&3,this.stereo_scheme=e.readUint32();var s=e.readUint32();this.stereo_indication_type=e.readString(s);var l,c;for(this.boxes=[];e.getPosition()<this.start+this.size;)if(l=a.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),l.code===a.OK)c=l.box,this.boxes.push(c),this[c.type]=c;else return}),a.createBoxCtor("styp",function(e){a.ftypBox.prototype.parse.call(this,e)}),a.createFullBoxCtor("stz2",function(e){var n,s;if(this.sample_sizes=[],this.version===0)if(this.reserved=e.readUint24(),this.field_size=e.readUint8(),s=e.readUint32(),this.field_size===4)for(n=0;n<s;n+=2){var l=e.readUint8();this.sample_sizes[n]=l>>4&15,this.sample_sizes[n+1]=l&15}else if(this.field_size===8)for(n=0;n<s;n++)this.sample_sizes[n]=e.readUint8();else if(this.field_size===16)for(n=0;n<s;n++)this.sample_sizes[n]=e.readUint16();else i.error("BoxParser","Error in length field in stz2 box")}),a.createFullBoxCtor("subs",function(e){var n,s,l,c;for(l=e.readUint32(),this.entries=[],n=0;n<l;n++){var y={};if(this.entries[n]=y,y.sample_delta=e.readUint32(),y.subsamples=[],c=e.readUint16(),c>0)for(s=0;s<c;s++){var m={};y.subsamples.push(m),this.version==1?m.size=e.readUint32():m.size=e.readUint16(),m.priority=e.readUint8(),m.discardable=e.readUint8(),m.codec_specific_parameters=e.readUint32()}}}),a.createFullBoxCtor("tenc",function(e){if(e.readUint8(),this.version===0)e.readUint8();else{var n=e.readUint8();this.default_crypt_byte_block=n>>4&15,this.default_skip_byte_block=n&15}this.default_isProtected=e.readUint8(),this.default_Per_Sample_IV_Size=e.readUint8(),this.default_KID=a.parseHex16(e),this.default_isProtected===1&&this.default_Per_Sample_IV_Size===0&&(this.default_constant_IV_size=e.readUint8(),this.default_constant_IV=e.readUint8Array(this.default_constant_IV_size))}),a.createFullBoxCtor("tfdt",function(e){this.version==1?this.baseMediaDecodeTime=e.readUint64():this.baseMediaDecodeTime=e.readUint32()}),a.createFullBoxCtor("tfhd",function(e){var n=0;this.track_id=e.readUint32(),this.size-this.hdr_size>n&&this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET?(this.base_data_offset=e.readUint64(),n+=8):this.base_data_offset=0,this.size-this.hdr_size>n&&this.flags&a.TFHD_FLAG_SAMPLE_DESC?(this.default_sample_description_index=e.readUint32(),n+=4):this.default_sample_description_index=0,this.size-this.hdr_size>n&&this.flags&a.TFHD_FLAG_SAMPLE_DUR?(this.default_sample_duration=e.readUint32(),n+=4):this.default_sample_duration=0,this.size-this.hdr_size>n&&this.flags&a.TFHD_FLAG_SAMPLE_SIZE?(this.default_sample_size=e.readUint32(),n+=4):this.default_sample_size=0,this.size-this.hdr_size>n&&this.flags&a.TFHD_FLAG_SAMPLE_FLAGS?(this.default_sample_flags=e.readUint32(),n+=4):this.default_sample_flags=0}),a.createFullBoxCtor("tfra",function(e){this.track_ID=e.readUint32(),e.readUint24();var n=e.readUint8();this.length_size_of_traf_num=n>>4&3,this.length_size_of_trun_num=n>>2&3,this.length_size_of_sample_num=n&3,this.entries=[];for(var s=e.readUint32(),l=0;l<s;l++)this.version===1?(this.time=e.readUint64(),this.moof_offset=e.readUint64()):(this.time=e.readUint32(),this.moof_offset=e.readUint32()),this.traf_number=e["readUint"+8*(this.length_size_of_traf_num+1)](),this.trun_number=e["readUint"+8*(this.length_size_of_trun_num+1)](),this.sample_number=e["readUint"+8*(this.length_size_of_sample_num+1)]()}),a.createFullBoxCtor("tkhd",function(e){this.version==1?(this.creation_time=e.readUint64(),this.modification_time=e.readUint64(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint64()):(this.creation_time=e.readUint32(),this.modification_time=e.readUint32(),this.track_id=e.readUint32(),e.readUint32(),this.duration=e.readUint32()),e.readUint32Array(2),this.layer=e.readInt16(),this.alternate_group=e.readInt16(),this.volume=e.readInt16()>>8,e.readUint16(),this.matrix=e.readInt32Array(9),this.width=e.readUint32(),this.height=e.readUint32()}),a.createBoxCtor("tmax",function(e){this.time=e.readUint32()}),a.createBoxCtor("tmin",function(e){this.time=e.readUint32()}),a.createBoxCtor("totl",function(e){this.bytessent=e.readUint32()}),a.createBoxCtor("tpay",function(e){this.bytessent=e.readUint32()}),a.createBoxCtor("tpyl",function(e){this.bytessent=e.readUint64()}),a.TrackGroupTypeBox.prototype.parse=function(e){this.parseFullHeader(e),this.track_group_id=e.readUint32()},a.createTrackGroupCtor("msrc"),a.TrackReferenceTypeBox=function(e,n,s,l){a.Box.call(this,e,n),this.hdr_size=s,this.start=l},a.TrackReferenceTypeBox.prototype=new a.Box,a.TrackReferenceTypeBox.prototype.parse=function(e){this.track_ids=e.readUint32Array((this.size-this.hdr_size)/4)},a.trefBox.prototype.parse=function(e){for(var n,s;e.getPosition()<this.start+this.size;)if(n=a.parseOneBox(e,!0,this.size-(e.getPosition()-this.start)),n.code===a.OK)s=new a.TrackReferenceTypeBox(n.type,n.size,n.hdr_size,n.start),s.write===a.Box.prototype.write&&s.type!=="mdat"&&(i.info("BoxParser","TrackReference "+s.type+" box writing not yet implemented, keeping unparsed data in memory for later write"),s.parseDataAndRewind(e)),s.parse(e),this.boxes.push(s);else return},a.createFullBoxCtor("trep",function(e){for(this.track_ID=e.readUint32(),this.boxes=[];e.getPosition()<this.start+this.size;)if(ret=a.parseOneBox(e,!1,this.size-(e.getPosition()-this.start)),ret.code===a.OK)box=ret.box,this.boxes.push(box);else return}),a.createFullBoxCtor("trex",function(e){this.track_id=e.readUint32(),this.default_sample_description_index=e.readUint32(),this.default_sample_duration=e.readUint32(),this.default_sample_size=e.readUint32(),this.default_sample_flags=e.readUint32()}),a.createBoxCtor("trpy",function(e){this.bytessent=e.readUint64()}),a.createFullBoxCtor("trun",function(e){var n=0;if(this.sample_count=e.readUint32(),n+=4,this.size-this.hdr_size>n&&this.flags&a.TRUN_FLAGS_DATA_OFFSET?(this.data_offset=e.readInt32(),n+=4):this.data_offset=0,this.size-this.hdr_size>n&&this.flags&a.TRUN_FLAGS_FIRST_FLAG?(this.first_sample_flags=e.readUint32(),n+=4):this.first_sample_flags=0,this.sample_duration=[],this.sample_size=[],this.sample_flags=[],this.sample_composition_time_offset=[],this.size-this.hdr_size>n)for(var s=0;s<this.sample_count;s++)this.flags&a.TRUN_FLAGS_DURATION&&(this.sample_duration[s]=e.readUint32()),this.flags&a.TRUN_FLAGS_SIZE&&(this.sample_size[s]=e.readUint32()),this.flags&a.TRUN_FLAGS_FLAGS&&(this.sample_flags[s]=e.readUint32()),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?this.sample_composition_time_offset[s]=e.readUint32():this.sample_composition_time_offset[s]=e.readInt32())}),a.createFullBoxCtor("tsel",function(e){this.switch_group=e.readUint32();var n=(this.size-this.hdr_size-4)/4;this.attribute_list=[];for(var s=0;s<n;s++)this.attribute_list[s]=e.readUint32()}),a.createFullBoxCtor("txtC",function(e){this.config=e.readCString()}),a.createFullBoxCtor("url ",function(e){this.flags!==1&&(this.location=e.readCString())}),a.createFullBoxCtor("urn ",function(e){this.name=e.readCString(),this.size-this.hdr_size-this.name.length-1>0&&(this.location=e.readCString())}),a.createUUIDBox("a5d40b30e81411ddba2f0800200c9a66",!0,!1,function(e){this.LiveServerManifest=e.readString(this.size-this.hdr_size).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}),a.createUUIDBox("d08a4f1810f34a82b6c832d8aba183d3",!0,!1,function(e){this.system_id=a.parseHex16(e);var n=e.readUint32();n>0&&(this.data=e.readUint8Array(n))}),a.createUUIDBox("a2394f525a9b4f14a2446c427c648df4",!0,!1),a.createUUIDBox("8974dbce7be74c5184f97148f9882554",!0,!1,function(e){this.default_AlgorithmID=e.readUint24(),this.default_IV_size=e.readUint8(),this.default_KID=a.parseHex16(e)}),a.createUUIDBox("d4807ef2ca3946958e5426cb9e46a79f",!0,!1,function(e){this.fragment_count=e.readUint8(),this.entries=[];for(var n=0;n<this.fragment_count;n++){var s={},l=0,c=0;this.version===1?(l=e.readUint64(),c=e.readUint64()):(l=e.readUint32(),c=e.readUint32()),s.absolute_time=l,s.absolute_duration=c,this.entries.push(s)}}),a.createUUIDBox("6d1d9b0542d544e680e2141daff757b2",!0,!1,function(e){this.version===1?(this.absolute_time=e.readUint64(),this.duration=e.readUint64()):(this.absolute_time=e.readUint32(),this.duration=e.readUint32())}),a.createFullBoxCtor("vmhd",function(e){this.graphicsmode=e.readUint16(),this.opcolor=e.readUint16Array(3)}),a.createFullBoxCtor("vpcC",function(e){var n;this.version===1?(this.profile=e.readUint8(),this.level=e.readUint8(),n=e.readUint8(),this.bitDepth=n>>4,this.chromaSubsampling=n>>1&7,this.videoFullRangeFlag=n&1,this.colourPrimaries=e.readUint8(),this.transferCharacteristics=e.readUint8(),this.matrixCoefficients=e.readUint8(),this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize)):(this.profile=e.readUint8(),this.level=e.readUint8(),n=e.readUint8(),this.bitDepth=n>>4&15,this.colorSpace=n&15,n=e.readUint8(),this.chromaSubsampling=n>>4&15,this.transferFunction=n>>1&7,this.videoFullRangeFlag=n&1,this.codecIntializationDataSize=e.readUint16(),this.codecIntializationData=e.readUint8Array(this.codecIntializationDataSize))}),a.createBoxCtor("vttC",function(e){this.text=e.readString(this.size-this.hdr_size)}),a.SampleEntry.prototype.isVideo=function(){return!1},a.SampleEntry.prototype.isAudio=function(){return!1},a.SampleEntry.prototype.isSubtitle=function(){return!1},a.SampleEntry.prototype.isMetadata=function(){return!1},a.SampleEntry.prototype.isHint=function(){return!1},a.SampleEntry.prototype.getCodec=function(){return this.type.replace(".","")},a.SampleEntry.prototype.getWidth=function(){return""},a.SampleEntry.prototype.getHeight=function(){return""},a.SampleEntry.prototype.getChannelCount=function(){return""},a.SampleEntry.prototype.getSampleRate=function(){return""},a.SampleEntry.prototype.getSampleSize=function(){return""},a.VisualSampleEntry.prototype.isVideo=function(){return!0},a.VisualSampleEntry.prototype.getWidth=function(){return this.width},a.VisualSampleEntry.prototype.getHeight=function(){return this.height},a.AudioSampleEntry.prototype.isAudio=function(){return!0},a.AudioSampleEntry.prototype.getChannelCount=function(){return this.channel_count},a.AudioSampleEntry.prototype.getSampleRate=function(){return this.samplerate},a.AudioSampleEntry.prototype.getSampleSize=function(){return this.samplesize},a.SubtitleSampleEntry.prototype.isSubtitle=function(){return!0},a.MetadataSampleEntry.prototype.isMetadata=function(){return!0},a.decimalToHex=function(e,n){var s=Number(e).toString(16);for(n=typeof n>"u"||n===null?n=2:n;s.length<n;)s="0"+s;return s},a.avc1SampleEntry.prototype.getCodec=a.avc2SampleEntry.prototype.getCodec=a.avc3SampleEntry.prototype.getCodec=a.avc4SampleEntry.prototype.getCodec=function(){var e=a.SampleEntry.prototype.getCodec.call(this);return this.avcC?e+"."+a.decimalToHex(this.avcC.AVCProfileIndication)+a.decimalToHex(this.avcC.profile_compatibility)+a.decimalToHex(this.avcC.AVCLevelIndication):e},a.hev1SampleEntry.prototype.getCodec=a.hvc1SampleEntry.prototype.getCodec=function(){var e,n=a.SampleEntry.prototype.getCodec.call(this);if(this.hvcC){switch(n+=".",this.hvcC.general_profile_space){case 0:n+="";break;case 1:n+="A";break;case 2:n+="B";break;case 3:n+="C";break}n+=this.hvcC.general_profile_idc,n+=".";var s=this.hvcC.general_profile_compatibility,l=0;for(e=0;e<32&&(l|=s&1,e!=31);e++)l<<=1,s>>=1;n+=a.decimalToHex(l,0),n+=".",this.hvcC.general_tier_flag===0?n+="L":n+="H",n+=this.hvcC.general_level_idc;var c=!1,y="";for(e=5;e>=0;e--)(this.hvcC.general_constraint_indicator[e]||c)&&(y="."+a.decimalToHex(this.hvcC.general_constraint_indicator[e],0)+y,c=!0);n+=y}return n},a.mp4aSampleEntry.prototype.getCodec=function(){var e=a.SampleEntry.prototype.getCodec.call(this);if(this.esds&&this.esds.esd){var n=this.esds.esd.getOTI(),s=this.esds.esd.getAudioConfig();return e+"."+a.decimalToHex(n)+(s?"."+s:"")}else return e},a.stxtSampleEntry.prototype.getCodec=function(){var e=a.SampleEntry.prototype.getCodec.call(this);return this.mime_format?e+"."+this.mime_format:e},a.av01SampleEntry.prototype.getCodec=function(){var e=a.SampleEntry.prototype.getCodec.call(this),n;return this.av1C.seq_profile===2&&this.av1C.high_bitdepth===1?n=this.av1C.twelve_bit===1?"12":"10":this.av1C.seq_profile<=2&&(n=this.av1C.high_bitdepth===1?"10":"08"),e+"."+this.av1C.seq_profile+"."+this.av1C.seq_level_idx_0+(this.av1C.seq_tier_0?"H":"M")+"."+n},a.Box.prototype.writeHeader=function(e,n){this.size+=8,this.size>f&&(this.size+=8),this.type==="uuid"&&(this.size+=16),i.debug("BoxWriter","Writing box "+this.type+" of size: "+this.size+" at position "+e.getPosition()+(n||"")),this.size>f?e.writeUint32(1):(this.sizePosition=e.getPosition(),e.writeUint32(this.size)),e.writeString(this.type,null,4),this.type==="uuid"&&e.writeUint8Array(this.uuid),this.size>f&&e.writeUint64(this.size)},a.FullBox.prototype.writeHeader=function(e){this.size+=4,a.Box.prototype.writeHeader.call(this,e," v="+this.version+" f="+this.flags),e.writeUint8(this.version),e.writeUint24(this.flags)},a.Box.prototype.write=function(e){this.type==="mdat"?this.data&&(this.size=this.data.length,this.writeHeader(e),e.writeUint8Array(this.data)):(this.size=this.data?this.data.length:0,this.writeHeader(e),this.data&&e.writeUint8Array(this.data))},a.ContainerBox.prototype.write=function(e){this.size=0,this.writeHeader(e);for(var n=0;n<this.boxes.length;n++)this.boxes[n]&&(this.boxes[n].write(e),this.size+=this.boxes[n].size);i.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},a.TrackReferenceTypeBox.prototype.write=function(e){this.size=this.track_ids.length*4,this.writeHeader(e),e.writeUint32Array(this.track_ids)},a.avcCBox.prototype.write=function(e){var n;for(this.size=7,n=0;n<this.SPS.length;n++)this.size+=2+this.SPS[n].length;for(n=0;n<this.PPS.length;n++)this.size+=2+this.PPS[n].length;for(this.ext&&(this.size+=this.ext.length),this.writeHeader(e),e.writeUint8(this.configurationVersion),e.writeUint8(this.AVCProfileIndication),e.writeUint8(this.profile_compatibility),e.writeUint8(this.AVCLevelIndication),e.writeUint8(this.lengthSizeMinusOne+252),e.writeUint8(this.SPS.length+224),n=0;n<this.SPS.length;n++)e.writeUint16(this.SPS[n].length),e.writeUint8Array(this.SPS[n].nalu);for(e.writeUint8(this.PPS.length),n=0;n<this.PPS.length;n++)e.writeUint16(this.PPS[n].length),e.writeUint8Array(this.PPS[n].nalu);this.ext&&e.writeUint8Array(this.ext)},a.co64Box.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=4+8*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),n=0;n<this.chunk_offsets.length;n++)e.writeUint64(this.chunk_offsets[n])},a.cslgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeInt32(this.compositionToDTSShift),e.writeInt32(this.leastDecodeToDisplayDelta),e.writeInt32(this.greatestDecodeToDisplayDelta),e.writeInt32(this.compositionStartTime),e.writeInt32(this.compositionEndTime)},a.cttsBox.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),this.version===1?e.writeInt32(this.sample_offsets[n]):e.writeUint32(this.sample_offsets[n])},a.drefBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.entries.length);for(var n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;i.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},a.elngBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.extended_language.length,this.writeHeader(e),e.writeString(this.extended_language)},a.elstBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+12*this.entries.length,this.writeHeader(e),e.writeUint32(this.entries.length);for(var n=0;n<this.entries.length;n++){var s=this.entries[n];e.writeUint32(s.segment_duration),e.writeInt32(s.media_time),e.writeInt16(s.media_rate_integer),e.writeInt16(s.media_rate_fraction)}},a.emsgBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+this.message_data.length+(this.scheme_id_uri.length+1)+(this.value.length+1),this.writeHeader(e),e.writeCString(this.scheme_id_uri),e.writeCString(this.value),e.writeUint32(this.timescale),e.writeUint32(this.presentation_time_delta),e.writeUint32(this.event_duration),e.writeUint32(this.id),e.writeUint8Array(this.message_data)},a.ftypBox.prototype.write=function(e){this.size=8+4*this.compatible_brands.length,this.writeHeader(e),e.writeString(this.major_brand,null,4),e.writeUint32(this.minor_version);for(var n=0;n<this.compatible_brands.length;n++)e.writeString(this.compatible_brands[n],null,4)},a.hdlrBox.prototype.write=function(e){this.size=5*4+this.name.length+1,this.version=0,this.flags=0,this.writeHeader(e),e.writeUint32(0),e.writeString(this.handler,null,4),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeCString(this.name)},a.kindBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=this.schemeURI.length+1+(this.value.length+1),this.writeHeader(e),e.writeCString(this.schemeURI),e.writeCString(this.value)},a.mdhdBox.prototype.write=function(e){this.size=4*4+2*2,this.flags=0,this.version=0,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint16(this.language),e.writeUint16(0)},a.mehdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.fragment_duration)},a.mfhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4,this.writeHeader(e),e.writeUint32(this.sequence_number)},a.mvhdBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=23*4+2*2,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.timescale),e.writeUint32(this.duration),e.writeUint32(this.rate),e.writeUint16(this.volume<<8),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32Array(this.matrix),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(this.next_track_id)},a.SampleEntry.prototype.writeHeader=function(e){this.size=8,a.Box.prototype.writeHeader.call(this,e),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint8(0),e.writeUint16(this.data_reference_index)},a.SampleEntry.prototype.writeFooter=function(e){for(var n=0;n<this.boxes.length;n++)this.boxes[n].write(e),this.size+=this.boxes[n].size;i.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},a.SampleEntry.prototype.write=function(e){this.writeHeader(e),e.writeUint8Array(this.data),this.size+=this.data.length,i.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},a.VisualSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*7+6*4+32,e.writeUint16(0),e.writeUint16(0),e.writeUint32(0),e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.width),e.writeUint16(this.height),e.writeUint32(this.horizresolution),e.writeUint32(this.vertresolution),e.writeUint32(0),e.writeUint16(this.frame_count),e.writeUint8(Math.min(31,this.compressorname.length)),e.writeString(this.compressorname,null,31),e.writeUint16(this.depth),e.writeInt16(-1),this.writeFooter(e)},a.AudioSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=2*4+3*4,e.writeUint32(0),e.writeUint32(0),e.writeUint16(this.channel_count),e.writeUint16(this.samplesize),e.writeUint16(0),e.writeUint16(0),e.writeUint32(this.samplerate<<16),this.writeFooter(e)},a.stppSampleEntry.prototype.write=function(e){this.writeHeader(e),this.size+=this.namespace.length+1+this.schema_location.length+1+this.auxiliary_mime_types.length+1,e.writeCString(this.namespace),e.writeCString(this.schema_location),e.writeCString(this.auxiliary_mime_types),this.writeFooter(e)},a.SampleGroupEntry.prototype.write=function(e){e.writeUint8Array(this.data)},a.sbgpBox.prototype.write=function(e){this.version=1,this.flags=0,this.size=12+8*this.entries.length,this.writeHeader(e),e.writeString(this.grouping_type,null,4),e.writeUint32(this.grouping_type_parameter),e.writeUint32(this.entries.length);for(var n=0;n<this.entries.length;n++){var s=this.entries[n];e.writeInt32(s.sample_count),e.writeInt32(s.group_description_index)}},a.sgpdBox.prototype.write=function(e){var n,s;for(this.flags=0,this.size=12,n=0;n<this.entries.length;n++)s=this.entries[n],this.version===1&&(this.default_length===0&&(this.size+=4),this.size+=s.data.length);for(this.writeHeader(e),e.writeString(this.grouping_type,null,4),this.version===1&&e.writeUint32(this.default_length),this.version>=2&&e.writeUint32(this.default_sample_description_index),e.writeUint32(this.entries.length),n=0;n<this.entries.length;n++)s=this.entries[n],this.version===1&&this.default_length===0&&e.writeUint32(s.description_length),s.write(e)},a.sidxBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*4+2+2+12*this.references.length,this.writeHeader(e),e.writeUint32(this.reference_ID),e.writeUint32(this.timescale),e.writeUint32(this.earliest_presentation_time),e.writeUint32(this.first_offset),e.writeUint16(0),e.writeUint16(this.references.length);for(var n=0;n<this.references.length;n++){var s=this.references[n];e.writeUint32(s.reference_type<<31|s.referenced_size),e.writeUint32(s.subsegment_duration),e.writeUint32(s.starts_with_SAP<<31|s.SAP_type<<28|s.SAP_delta_time)}},a.stcoBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.chunk_offsets.length,this.writeHeader(e),e.writeUint32(this.chunk_offsets.length),e.writeUint32Array(this.chunk_offsets)},a.stscBox.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=4+12*this.first_chunk.length,this.writeHeader(e),e.writeUint32(this.first_chunk.length),n=0;n<this.first_chunk.length;n++)e.writeUint32(this.first_chunk[n]),e.writeUint32(this.samples_per_chunk[n]),e.writeUint32(this.sample_description_index[n])},a.stsdBox.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=0,this.writeHeader(e),e.writeUint32(this.entries.length),this.size+=4,n=0;n<this.entries.length;n++)this.entries[n].write(e),this.size+=this.entries[n].size;i.debug("BoxWriter","Adjusting box "+this.type+" with new size "+this.size),e.adjustUint32(this.sizePosition,this.size)},a.stshBox.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=4+8*this.shadowed_sample_numbers.length,this.writeHeader(e),e.writeUint32(this.shadowed_sample_numbers.length),n=0;n<this.shadowed_sample_numbers.length;n++)e.writeUint32(this.shadowed_sample_numbers[n]),e.writeUint32(this.sync_sample_numbers[n])},a.stssBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4+4*this.sample_numbers.length,this.writeHeader(e),e.writeUint32(this.sample_numbers.length),e.writeUint32Array(this.sample_numbers)},a.stszBox.prototype.write=function(e){var n,s=!0;if(this.version=0,this.flags=0,this.sample_sizes.length>0)for(n=0;n+1<this.sample_sizes.length;)if(this.sample_sizes[n+1]!==this.sample_sizes[0]){s=!1;break}else n++;else s=!1;this.size=8,s||(this.size+=4*this.sample_sizes.length),this.writeHeader(e),s?e.writeUint32(this.sample_sizes[0]):e.writeUint32(0),e.writeUint32(this.sample_sizes.length),s||e.writeUint32Array(this.sample_sizes)},a.sttsBox.prototype.write=function(e){var n;for(this.version=0,this.flags=0,this.size=4+8*this.sample_counts.length,this.writeHeader(e),e.writeUint32(this.sample_counts.length),n=0;n<this.sample_counts.length;n++)e.writeUint32(this.sample_counts[n]),e.writeUint32(this.sample_deltas[n])},a.tfdtBox.prototype.write=function(e){var n=Math.pow(2,32)-1;this.version=this.baseMediaDecodeTime>n?1:0,this.flags=0,this.size=4,this.version===1&&(this.size+=4),this.writeHeader(e),this.version===1?e.writeUint64(this.baseMediaDecodeTime):e.writeUint32(this.baseMediaDecodeTime)},a.tfhdBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&(this.size+=8),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&(this.size+=4),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&(this.size+=4),this.writeHeader(e),e.writeUint32(this.track_id),this.flags&a.TFHD_FLAG_BASE_DATA_OFFSET&&e.writeUint64(this.base_data_offset),this.flags&a.TFHD_FLAG_SAMPLE_DESC&&e.writeUint32(this.default_sample_description_index),this.flags&a.TFHD_FLAG_SAMPLE_DUR&&e.writeUint32(this.default_sample_duration),this.flags&a.TFHD_FLAG_SAMPLE_SIZE&&e.writeUint32(this.default_sample_size),this.flags&a.TFHD_FLAG_SAMPLE_FLAGS&&e.writeUint32(this.default_sample_flags)},a.tkhdBox.prototype.write=function(e){this.version=0,this.size=4*18+2*4,this.writeHeader(e),e.writeUint32(this.creation_time),e.writeUint32(this.modification_time),e.writeUint32(this.track_id),e.writeUint32(0),e.writeUint32(this.duration),e.writeUint32(0),e.writeUint32(0),e.writeInt16(this.layer),e.writeInt16(this.alternate_group),e.writeInt16(this.volume<<8),e.writeUint16(0),e.writeInt32Array(this.matrix),e.writeUint32(this.width),e.writeUint32(this.height)},a.trexBox.prototype.write=function(e){this.version=0,this.flags=0,this.size=4*5,this.writeHeader(e),e.writeUint32(this.track_id),e.writeUint32(this.default_sample_description_index),e.writeUint32(this.default_sample_duration),e.writeUint32(this.default_sample_size),e.writeUint32(this.default_sample_flags)},a.trunBox.prototype.write=function(e){this.version=0,this.size=4,this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.size+=4),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&(this.size+=4),this.flags&a.TRUN_FLAGS_DURATION&&(this.size+=4*this.sample_duration.length),this.flags&a.TRUN_FLAGS_SIZE&&(this.size+=4*this.sample_size.length),this.flags&a.TRUN_FLAGS_FLAGS&&(this.size+=4*this.sample_flags.length),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.size+=4*this.sample_composition_time_offset.length),this.writeHeader(e),e.writeUint32(this.sample_count),this.flags&a.TRUN_FLAGS_DATA_OFFSET&&(this.data_offset_position=e.getPosition(),e.writeInt32(this.data_offset)),this.flags&a.TRUN_FLAGS_FIRST_FLAG&&e.writeUint32(this.first_sample_flags);for(var n=0;n<this.sample_count;n++)this.flags&a.TRUN_FLAGS_DURATION&&e.writeUint32(this.sample_duration[n]),this.flags&a.TRUN_FLAGS_SIZE&&e.writeUint32(this.sample_size[n]),this.flags&a.TRUN_FLAGS_FLAGS&&e.writeUint32(this.sample_flags[n]),this.flags&a.TRUN_FLAGS_CTS_OFFSET&&(this.version===0?e.writeUint32(this.sample_composition_time_offset[n]):e.writeInt32(this.sample_composition_time_offset[n]))},a["url Box"].prototype.write=function(e){this.version=0,this.location?(this.flags=0,this.size=this.location.length+1):(this.flags=1,this.size=0),this.writeHeader(e),this.location&&e.writeCString(this.location)},a["urn Box"].prototype.write=function(e){this.version=0,this.flags=0,this.size=this.name.length+1+(this.location?this.location.length+1:0),this.writeHeader(e),e.writeCString(this.name),this.location&&e.writeCString(this.location)},a.vmhdBox.prototype.write=function(e){this.version=0,this.flags=1,this.size=8,this.writeHeader(e),e.writeUint16(this.graphicsmode),e.writeUint16Array(this.opcolor)},a.cttsBox.prototype.unpack=function(e){var n,s,l;for(l=0,n=0;n<this.sample_counts.length;n++)for(s=0;s<this.sample_counts[n];s++)e[l].pts=e[l].dts+this.sample_offsets[n],l++},a.sttsBox.prototype.unpack=function(e){var n,s,l;for(l=0,n=0;n<this.sample_counts.length;n++)for(s=0;s<this.sample_counts[n];s++)l===0?e[l].dts=0:e[l].dts=e[l-1].dts+this.sample_deltas[n],l++},a.stcoBox.prototype.unpack=function(e){var n;for(n=0;n<this.chunk_offsets.length;n++)e[n].offset=this.chunk_offsets[n]},a.stscBox.prototype.unpack=function(e){var n,s,l,c,y;for(c=0,y=0,n=0;n<this.first_chunk.length;n++)for(s=0;s<(n+1<this.first_chunk.length?this.first_chunk[n+1]:1/0);s++)for(y++,l=0;l<this.samples_per_chunk[n];l++){if(e[c])e[c].description_index=this.sample_description_index[n],e[c].chunk_index=y;else return;c++}},a.stszBox.prototype.unpack=function(e){var n;for(n=0;n<this.sample_sizes.length;n++)e[n].size=this.sample_sizes[n]},a.DIFF_BOXES_PROP_NAMES=["boxes","entries","references","subsamples","items","item_infos","extents","associations","subsegments","ranges","seekLists","seekPoints","esd","levels"],a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES=["compatible_brands","matrix","opcolor","sample_counts","sample_counts","sample_deltas","first_chunk","samples_per_chunk","sample_sizes","chunk_offsets","sample_offsets","sample_description_index","sample_duration"],a.boxEqualFields=function(e,n){if(e&&!n)return!1;var s;for(s in e)if(!(a.DIFF_BOXES_PROP_NAMES.indexOf(s)>-1)){if(e[s]instanceof a.Box||n[s]instanceof a.Box)continue;if(typeof e[s]>"u"||typeof n[s]>"u")continue;if(typeof e[s]=="function"||typeof n[s]=="function")continue;if(e.subBoxNames&&e.subBoxNames.indexOf(s.slice(0,4))>-1||n.subBoxNames&&n.subBoxNames.indexOf(s.slice(0,4))>-1)continue;if(s==="data"||s==="start"||s==="size"||s==="creation_time"||s==="modification_time")continue;if(a.DIFF_PRIMITIVE_ARRAY_PROP_NAMES.indexOf(s)>-1)continue;if(e[s]!==n[s])return!1}return!0},a.boxEqual=function(e,n){if(!a.boxEqualFields(e,n))return!1;for(var s=0;s<a.DIFF_BOXES_PROP_NAMES.length;s++){var l=a.DIFF_BOXES_PROP_NAMES[s];if(e[l]&&n[l]&&!a.boxEqual(e[l],n[l]))return!1}return!0};var p=function(){};p.prototype.parseSample=function(e){var n={},s;n.resources=[];var l=new r(e.data.buffer);if(!e.subsamples||e.subsamples.length===0)n.documentString=l.readString(e.data.length);else if(n.documentString=l.readString(e.subsamples[0].size),e.subsamples.length>1)for(s=1;s<e.subsamples.length;s++)n.resources[s]=l.readUint8Array(e.subsamples[s].size);return typeof DOMParser<"u"&&(n.document=new DOMParser().parseFromString(n.documentString,"application/xml")),n};var _=function(){};_.prototype.parseSample=function(e){var n,s=new r(e.data.buffer);return n=s.readString(e.data.length),n},_.prototype.parseConfig=function(e){var n,s=new r(e.buffer);return s.readUint32(),n=s.readCString(),n},t.XMLSubtitlein4Parser=p,t.Textin4Parser=_;var g=function(e){this.stream=e||new u,this.boxes=[],this.mdats=[],this.moofs=[],this.isProgressive=!1,this.moovStartFound=!1,this.onMoovStart=null,this.moovStartSent=!1,this.onReady=null,this.readySent=!1,this.onSegment=null,this.onSamples=null,this.onError=null,this.sampleListBuilt=!1,this.fragmentedTracks=[],this.extractedTracks=[],this.isFragmentationInitialized=!1,this.sampleProcessingStarted=!1,this.nextMoofNumber=0,this.itemListBuilt=!1,this.onSidx=null,this.sidxSent=!1};g.prototype.setSegmentOptions=function(e,n,s){var l=this.getTrackById(e);if(l){var c={};this.fragmentedTracks.push(c),c.id=e,c.user=n,c.trak=l,l.nextSample=0,c.segmentStream=null,c.nb_samples=1e3,c.rapAlignement=!0,s&&(s.nbSamples&&(c.nb_samples=s.nbSamples),s.rapAlignement&&(c.rapAlignement=s.rapAlignement))}},g.prototype.unsetSegmentOptions=function(e){for(var n=-1,s=0;s<this.fragmentedTracks.length;s++){var l=this.fragmentedTracks[s];l.id==e&&(n=s)}n>-1&&this.fragmentedTracks.splice(n,1)},g.prototype.setExtractionOptions=function(e,n,s){var l=this.getTrackById(e);if(l){var c={};this.extractedTracks.push(c),c.id=e,c.user=n,c.trak=l,l.nextSample=0,c.nb_samples=1e3,c.samples=[],s&&s.nbSamples&&(c.nb_samples=s.nbSamples)}},g.prototype.unsetExtractionOptions=function(e){for(var n=-1,s=0;s<this.extractedTracks.length;s++){var l=this.extractedTracks[s];l.id==e&&(n=s)}n>-1&&this.extractedTracks.splice(n,1)},g.prototype.parse=function(){var e,n,s=!1;if(!(this.restoreParsePosition&&!this.restoreParsePosition()))for(;;)if(this.hasIncompleteMdat&&this.hasIncompleteMdat()){if(this.processIncompleteMdat())continue;return}else if(this.saveParsePosition&&this.saveParsePosition(),e=a.parseOneBox(this.stream,s),e.code===a.ERR_NOT_ENOUGH_DATA)if(this.processIncompleteBox){if(this.processIncompleteBox(e))continue;return}else return;else{var l;switch(n=e.box,l=n.type!=="uuid"?n.type:n.uuid,this.boxes.push(n),l){case"mdat":this.mdats.push(n);break;case"moof":this.moofs.push(n);break;case"moov":this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0);default:this[l]!==void 0&&i.warn("ISOFile","Duplicate Box of type: "+l+", overriding previous occurrence"),this[l]=n;break}this.updateUsedBytes&&this.updateUsedBytes(n,e)}},g.prototype.checkBuffer=function(e){if(e==null)throw"Buffer must be defined and non empty";if(e.fileStart===void 0)throw"Buffer must have a fileStart property";return e.byteLength===0?(i.warn("ISOFile","Ignoring empty buffer (fileStart: "+e.fileStart+")"),this.stream.logBufferLevel(),!1):(i.info("ISOFile","Processing buffer (fileStart: "+e.fileStart+")"),e.usedBytes=0,this.stream.insertBuffer(e),this.stream.logBufferLevel(),this.stream.initialized()?!0:(i.warn("ISOFile","Not ready to start parsing"),!1))},g.prototype.appendBuffer=function(e,n){var s;if(this.checkBuffer(e))return this.parse(),this.moovStartFound&&!this.moovStartSent&&(this.moovStartSent=!0,this.onMoovStart&&this.onMoovStart()),this.moov?(this.sampleListBuilt||(this.buildSampleLists(),this.sampleListBuilt=!0),this.updateSampleLists(),this.onReady&&!this.readySent&&(this.readySent=!0,this.onReady(this.getInfo())),this.processSamples(n),this.nextSeekPosition?(s=this.nextSeekPosition,this.nextSeekPosition=void 0):s=this.nextParsePosition,this.stream.getEndFilePositionAfter&&(s=this.stream.getEndFilePositionAfter(s))):this.nextParsePosition?s=this.nextParsePosition:s=0,this.sidx&&this.onSidx&&!this.sidxSent&&(this.onSidx(this.sidx),this.sidxSent=!0),this.meta&&(this.flattenItemInfo&&!this.itemListBuilt&&(this.flattenItemInfo(),this.itemListBuilt=!0),this.processItems&&this.processItems(this.onItem)),this.stream.cleanBuffers&&(i.info("ISOFile","Done processing buffer (fileStart: "+e.fileStart+") - next buffer to fetch should have a fileStart position of "+s),this.stream.logBufferLevel(),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0),i.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize())),s},g.prototype.getInfo=function(){var e,n,s={},l,c,y,m=new Date("1904-01-01T00:00:00Z").getTime();if(this.moov)for(s.hasMoov=!0,s.duration=this.moov.mvhd.duration,s.timescale=this.moov.mvhd.timescale,s.isFragmented=this.moov.mvex!=null,s.isFragmented&&this.moov.mvex.mehd&&(s.fragment_duration=this.moov.mvex.mehd.fragment_duration),s.isProgressive=this.isProgressive,s.hasIOD=this.moov.iods!=null,s.brands=[],s.brands.push(this.ftyp.major_brand),s.brands=s.brands.concat(this.ftyp.compatible_brands),s.created=new Date(m+this.moov.mvhd.creation_time*1e3),s.modified=new Date(m+this.moov.mvhd.modification_time*1e3),s.tracks=[],s.audioTracks=[],s.videoTracks=[],s.subtitleTracks=[],s.metadataTracks=[],s.hintTracks=[],s.otherTracks=[],e=0;e<this.moov.traks.length;e++){if(l=this.moov.traks[e],y=l.mdia.minf.stbl.stsd.entries[0],c={},s.tracks.push(c),c.id=l.tkhd.track_id,c.name=l.mdia.hdlr.name,c.references=[],l.tref)for(n=0;n<l.tref.boxes.length;n++)ref={},c.references.push(ref),ref.type=l.tref.boxes[n].type,ref.track_ids=l.tref.boxes[n].track_ids;l.edts&&(c.edits=l.edts.elst.entries),c.created=new Date(m+l.tkhd.creation_time*1e3),c.modified=new Date(m+l.tkhd.modification_time*1e3),c.movie_duration=l.tkhd.duration,c.movie_timescale=s.timescale,c.layer=l.tkhd.layer,c.alternate_group=l.tkhd.alternate_group,c.volume=l.tkhd.volume,c.matrix=l.tkhd.matrix,c.track_width=l.tkhd.width/65536,c.track_height=l.tkhd.height/65536,c.timescale=l.mdia.mdhd.timescale,c.cts_shift=l.mdia.minf.stbl.cslg,c.duration=l.mdia.mdhd.duration,c.samples_duration=l.samples_duration,c.codec=y.getCodec(),c.kind=l.udta&&l.udta.kinds.length?l.udta.kinds[0]:{schemeURI:"",value:""},c.language=l.mdia.elng?l.mdia.elng.extended_language:l.mdia.mdhd.languageString,c.nb_samples=l.samples.length,c.size=l.samples_size,c.bitrate=c.size*8*c.timescale/c.samples_duration,y.isAudio()?(c.type="audio",s.audioTracks.push(c),c.audio={},c.audio.sample_rate=y.getSampleRate(),c.audio.channel_count=y.getChannelCount(),c.audio.sample_size=y.getSampleSize()):y.isVideo()?(c.type="video",s.videoTracks.push(c),c.video={},c.video.width=y.getWidth(),c.video.height=y.getHeight()):y.isSubtitle()?(c.type="subtitles",s.subtitleTracks.push(c)):y.isHint()?(c.type="metadata",s.hintTracks.push(c)):y.isMetadata()?(c.type="metadata",s.metadataTracks.push(c)):(c.type="metadata",s.otherTracks.push(c))}else s.hasMoov=!1;if(s.mime="",s.hasMoov&&s.tracks){for(s.videoTracks&&s.videoTracks.length>0?s.mime+='video/mp4; codecs="':s.audioTracks&&s.audioTracks.length>0?s.mime+='audio/mp4; codecs="':s.mime+='application/mp4; codecs="',e=0;e<s.tracks.length;e++)e!==0&&(s.mime+=","),s.mime+=s.tracks[e].codec;s.mime+='"; profiles="',s.mime+=this.ftyp.compatible_brands.join(),s.mime+='"'}return s},g.prototype.processSamples=function(e){var n,s;if(this.sampleProcessingStarted){if(this.isFragmentationInitialized&&this.onSegment!==null)for(n=0;n<this.fragmentedTracks.length;n++){var l=this.fragmentedTracks[n];for(s=l.trak;s.nextSample<s.samples.length&&this.sampleProcessingStarted;){i.debug("ISOFile","Creating media fragment on track #"+l.id+" for sample "+s.nextSample);var c=this.createFragment(l.id,s.nextSample,l.segmentStream);if(c)l.segmentStream=c,s.nextSample++;else break;if((s.nextSample%l.nb_samples===0||e||s.nextSample>=s.samples.length)&&(i.info("ISOFile","Sending fragmented data on track #"+l.id+" for samples ["+Math.max(0,s.nextSample-l.nb_samples)+","+(s.nextSample-1)+"]"),i.info("ISOFile","Sample data size in memory: "+this.getAllocatedSampleDataSize()),this.onSegment&&this.onSegment(l.id,l.user,l.segmentStream.buffer,s.nextSample,e||s.nextSample>=s.samples.length),l.segmentStream=null,l!==this.fragmentedTracks[n]))break}}if(this.onSamples!==null)for(n=0;n<this.extractedTracks.length;n++){var y=this.extractedTracks[n];for(s=y.trak;s.nextSample<s.samples.length&&this.sampleProcessingStarted;){i.debug("ISOFile","Exporting on track #"+y.id+" sample #"+s.nextSample);var m=this.getSample(s,s.nextSample);if(m)s.nextSample++,y.samples.push(m);else break;if((s.nextSample%y.nb_samples===0||s.nextSample>=s.samples.length)&&(i.debug("ISOFile","Sending samples on track #"+y.id+" for sample "+s.nextSample),this.onSamples&&this.onSamples(y.id,y.user,y.samples),y.samples=[],y!==this.extractedTracks[n]))break}}}},g.prototype.getBox=function(e){var n=this.getBoxes(e,!0);return n.length?n[0]:null},g.prototype.getBoxes=function(e,n){var s=[];return g._sweep.call(this,e,s,n),s},g._sweep=function(e,n,s){this.type&&this.type==e&&n.push(this);for(var l in this.boxes){if(n.length&&s)return;g._sweep.call(this.boxes[l],e,n,s)}},g.prototype.getTrackSamplesInfo=function(e){var n=this.getTrackById(e);if(n)return n.samples},g.prototype.getTrackSample=function(e,n){var s=this.getTrackById(e),l=this.getSample(s,n);return l},g.prototype.releaseUsedSamples=function(e,n){var s=0,l=this.getTrackById(e);l.lastValidSample||(l.lastValidSample=0);for(var c=l.lastValidSample;c<n;c++)s+=this.releaseSample(l,c);i.info("ISOFile","Track #"+e+" released samples up to "+n+" (released size: "+s+", remaining: "+this.samplesDataSize+")"),l.lastValidSample=n},g.prototype.start=function(){this.sampleProcessingStarted=!0,this.processSamples(!1)},g.prototype.stop=function(){this.sampleProcessingStarted=!1},g.prototype.flush=function(){i.info("ISOFile","Flushing remaining samples"),this.updateSampleLists(),this.processSamples(!0),this.stream.cleanBuffers(),this.stream.logBufferLevel(!0)},g.prototype.seekTrack=function(e,n,s){var l,c,y=1/0,m=0,h=0,v;if(s.samples.length===0)return i.info("ISOFile","No sample in track, cannot seek! Using time "+i.getDurationString(0,1)+" and offset: 0"),{offset:0,time:0};for(l=0;l<s.samples.length;l++){if(c=s.samples[l],l===0)h=0,v=c.timescale;else if(c.cts>e*c.timescale){h=l-1;break}n&&c.is_sync&&(m=l)}for(n&&(h=m),e=s.samples[h].cts,s.nextSample=h;s.samples[h].alreadyRead===s.samples[h].size&&s.samples[h+1];)h++;return y=s.samples[h].offset+s.samples[h].alreadyRead,i.info("ISOFile","Seeking to "+(n?"RAP":"")+" sample #"+s.nextSample+" on track "+s.tkhd.track_id+", time "+i.getDurationString(e,v)+" and offset: "+y),{offset:y,time:e/v}},g.prototype.seek=function(e,n){var s=this.moov,l,c,y,m={offset:1/0,time:1/0};if(this.moov){for(y=0;y<s.traks.length;y++)l=s.traks[y],c=this.seekTrack(e,n,l),c.offset<m.offset&&(m.offset=c.offset),c.time<m.time&&(m.time=c.time);return i.info("ISOFile","Seeking at time "+i.getDurationString(m.time,1)+" needs a buffer with a fileStart position of "+m.offset),m.offset===1/0?m={offset:this.nextParsePosition,time:0}:m.offset=this.stream.getEndFilePositionAfter(m.offset),i.info("ISOFile","Adjusted seek position (after checking data already in buffer): "+m.offset),m}else throw"Cannot seek: moov not received!"},g.prototype.equal=function(e){for(var n=0;n<this.boxes.length&&n<e.boxes.length;){var s=this.boxes[n],l=e.boxes[n];if(!a.boxEqual(s,l))return!1;n++}return!0},t.ISOFile=g,g.prototype.lastBoxStartPosition=0,g.prototype.parsingMdat=null,g.prototype.nextParsePosition=0,g.prototype.discardMdatData=!1,g.prototype.processIncompleteBox=function(e){var n,s,l;return e.type==="mdat"?(n=new a[e.type+"Box"](e.size),this.parsingMdat=n,this.boxes.push(n),this.mdats.push(n),n.start=e.start,n.hdr_size=e.hdr_size,this.stream.addUsedBytes(n.hdr_size),this.lastBoxStartPosition=n.start+n.size,l=this.stream.seek(n.start+n.size,!1,this.discardMdatData),l?(this.parsingMdat=null,!0):(this.moovStartFound?this.nextParsePosition=this.stream.findEndContiguousBuf():this.nextParsePosition=n.start+n.size,!1)):(e.type==="moov"&&(this.moovStartFound=!0,this.mdats.length===0&&(this.isProgressive=!0)),s=this.stream.mergeNextBuffer?this.stream.mergeNextBuffer():!1,s?(this.nextParsePosition=this.stream.getEndPosition(),!0):(e.type?this.moovStartFound?this.nextParsePosition=this.stream.getEndPosition():this.nextParsePosition=this.stream.getPosition()+e.size:this.nextParsePosition=this.stream.getEndPosition(),!1))},g.prototype.hasIncompleteMdat=function(){return this.parsingMdat!==null},g.prototype.processIncompleteMdat=function(){var e,n;return e=this.parsingMdat,n=this.stream.seek(e.start+e.size,!1,this.discardMdatData),n?(i.debug("ISOFile","Found 'mdat' end in buffered data"),this.parsingMdat=null,!0):(this.nextParsePosition=this.stream.findEndContiguousBuf(),!1)},g.prototype.restoreParsePosition=function(){return this.stream.seek(this.lastBoxStartPosition,!0,this.discardMdatData)},g.prototype.saveParsePosition=function(){this.lastBoxStartPosition=this.stream.getPosition()},g.prototype.updateUsedBytes=function(e,n){this.stream.addUsedBytes&&(e.type==="mdat"?(this.stream.addUsedBytes(e.hdr_size),this.discardMdatData&&this.stream.addUsedBytes(e.size-e.hdr_size)):this.stream.addUsedBytes(e.size))},g.prototype.add=a.Box.prototype.add,g.prototype.addBox=a.Box.prototype.addBox,g.prototype.init=function(e){var n=e||{};this.add("ftyp").set("major_brand",n.brands&&n.brands[0]||"iso4").set("minor_version",0).set("compatible_brands",n.brands||["iso4"]);var s=this.add("moov");return s.add("mvhd").set("timescale",n.timescale||600).set("rate",n.rate||65536).set("creation_time",0).set("modification_time",0).set("duration",n.duration||0).set("volume",n.width?0:256).set("matrix",[65536,0,0,0,65536,0,0,0,1073741824]).set("next_track_id",1),s.add("mvex"),this},g.prototype.addTrack=function(e){this.moov||this.init(e);var n=e||{};n.width=n.width||320,n.height=n.height||320,n.id=n.id||this.moov.mvhd.next_track_id,n.type=n.type||"avc1";var s=this.moov.add("trak");this.moov.mvhd.next_track_id=n.id+1,s.add("tkhd").set("flags",a.TKHD_FLAG_ENABLED|a.TKHD_FLAG_IN_MOVIE|a.TKHD_FLAG_IN_PREVIEW).set("creation_time",0).set("modification_time",0).set("track_id",n.id).set("duration",n.duration||0).set("layer",n.layer||0).set("alternate_group",0).set("volume",1).set("matrix",[0,0,0,0,0,0,0,0,0]).set("width",n.width).set("height",n.height);var l=s.add("mdia");l.add("mdhd").set("creation_time",0).set("modification_time",0).set("timescale",n.timescale||1).set("duration",n.media_duration||0).set("language",n.language||"und"),l.add("hdlr").set("handler",n.hdlr||"vide").set("name",n.name||"Track created with MP4Box.js"),l.add("elng").set("extended_language",n.language||"fr-FR");var c=l.add("minf");if(a[n.type+"SampleEntry"]!==void 0){var y=new a[n.type+"SampleEntry"];y.data_reference_index=1;var m="";for(var h in a.sampleEntryCodes)for(var v=a.sampleEntryCodes[h],E=0;E<v.length;E++)if(v.indexOf(n.type)>-1){m=h;break}switch(m){case"Visual":if(c.add("vmhd").set("graphicsmode",0).set("opcolor",[0,0,0]),y.set("width",n.width).set("height",n.height).set("horizresolution",72<<16).set("vertresolution",72<<16).set("frame_count",1).set("compressorname",n.type+" Compressor").set("depth",24),n.avcDecoderConfigRecord){var U=new a.avcCBox,I=new r(n.avcDecoderConfigRecord);U.parse(I),y.addBox(U)}break;case"Audio":c.add("smhd").set("balance",n.balance||0),y.set("channel_count",n.channel_count||2).set("samplesize",n.samplesize||16).set("samplerate",n.samplerate||65536);break;case"Hint":c.add("hmhd");break;case"Subtitle":switch(c.add("sthd"),n.type){case"stpp":y.set("namespace",n.namespace||"nonamespace").set("schema_location",n.schema_location||"").set("auxiliary_mime_types",n.auxiliary_mime_types||"");break}break;case"Metadata":c.add("nmhd");break;case"System":c.add("nmhd");break;default:c.add("nmhd");break}n.description&&y.addBox(n.description),n.description_boxes&&n.description_boxes.forEach(function(A){y.addBox(A)}),c.add("dinf").add("dref").addEntry(new a["url Box"]().set("flags",1));var L=c.add("stbl");return L.add("stsd").addEntry(y),L.add("stts").set("sample_counts",[]).set("sample_deltas",[]),L.add("stsc").set("first_chunk",[]).set("samples_per_chunk",[]).set("sample_description_index",[]),L.add("stco").set("chunk_offsets",[]),L.add("stsz").set("sample_sizes",[]),this.moov.mvex.add("trex").set("track_id",n.id).set("default_sample_description_index",n.default_sample_description_index||1).set("default_sample_duration",n.default_sample_duration||0).set("default_sample_size",n.default_sample_size||0).set("default_sample_flags",n.default_sample_flags||0),this.buildTrakSampleLists(s),n.id}},a.Box.prototype.computeSize=function(e){var n=e||new o;n.endianness=o.BIG_ENDIAN,this.write(n)},g.prototype.addSample=function(e,n,s){var l=s||{},c={},y=this.getTrackById(e);if(y!==null){c.number=y.samples.length,c.track_id=y.tkhd.track_id,c.timescale=y.mdia.mdhd.timescale,c.description_index=l.sample_description_index?l.sample_description_index-1:0,c.description=y.mdia.minf.stbl.stsd.entries[c.description_index],c.data=n,c.size=n.byteLength,c.alreadyRead=c.size,c.duration=l.duration||1,c.cts=l.cts||0,c.dts=l.dts||0,c.is_sync=l.is_sync||!1,c.is_leading=l.is_leading||0,c.depends_on=l.depends_on||0,c.is_depended_on=l.is_depended_on||0,c.has_redundancy=l.has_redundancy||0,c.degradation_priority=l.degradation_priority||0,c.offset=0,c.subsamples=l.subsamples,y.samples.push(c),y.samples_size+=c.size,y.samples_duration+=c.duration,y.first_dts||(y.first_dts=l.dts),this.processSamples();var m=this.createSingleSampleMoof(c);return this.addBox(m),m.computeSize(),m.trafs[0].truns[0].data_offset=m.size+8,this.add("mdat").data=new Uint8Array(n),c}},g.prototype.createSingleSampleMoof=function(e){var n=0;e.is_sync?n=1<<25:n=65536;var s=new a.moofBox;s.add("mfhd").set("sequence_number",this.nextMoofNumber),this.nextMoofNumber++;var l=s.add("traf"),c=this.getTrackById(e.track_id);return l.add("tfhd").set("track_id",e.track_id).set("flags",a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),l.add("tfdt").set("baseMediaDecodeTime",e.dts-c.first_dts),l.add("trun").set("flags",a.TRUN_FLAGS_DATA_OFFSET|a.TRUN_FLAGS_DURATION|a.TRUN_FLAGS_SIZE|a.TRUN_FLAGS_FLAGS|a.TRUN_FLAGS_CTS_OFFSET).set("data_offset",0).set("first_sample_flags",0).set("sample_count",1).set("sample_duration",[e.duration]).set("sample_size",[e.size]).set("sample_flags",[n]).set("sample_composition_time_offset",[e.cts-e.dts]),s},g.prototype.lastMoofIndex=0,g.prototype.samplesDataSize=0,g.prototype.resetTables=function(){var e,n,s,l,c,y,m,h;for(this.initial_duration=this.moov.mvhd.duration,this.moov.mvhd.duration=0,e=0;e<this.moov.traks.length;e++){n=this.moov.traks[e],n.tkhd.duration=0,n.mdia.mdhd.duration=0,s=n.mdia.minf.stbl.stco||n.mdia.minf.stbl.co64,s.chunk_offsets=[],l=n.mdia.minf.stbl.stsc,l.first_chunk=[],l.samples_per_chunk=[],l.sample_description_index=[],c=n.mdia.minf.stbl.stsz||n.mdia.minf.stbl.stz2,c.sample_sizes=[],y=n.mdia.minf.stbl.stts,y.sample_counts=[],y.sample_deltas=[],m=n.mdia.minf.stbl.ctts,m&&(m.sample_counts=[],m.sample_offsets=[]),h=n.mdia.minf.stbl.stss;var v=n.mdia.minf.stbl.boxes.indexOf(h);v!=-1&&(n.mdia.minf.stbl.boxes[v]=null)}},g.initSampleGroups=function(e,n,s,l,c){var y,m,h,v;function E(U,I,L){this.grouping_type=U,this.grouping_type_parameter=I,this.sbgp=L,this.last_sample_in_run=-1,this.entry_index=-1}for(n&&(n.sample_groups_info=[]),e.sample_groups_info||(e.sample_groups_info=[]),m=0;m<s.length;m++){for(v=s[m].grouping_type+"/"+s[m].grouping_type_parameter,h=new E(s[m].grouping_type,s[m].grouping_type_parameter,s[m]),n&&(n.sample_groups_info[v]=h),e.sample_groups_info[v]||(e.sample_groups_info[v]=h),y=0;y<l.length;y++)l[y].grouping_type===s[m].grouping_type&&(h.description=l[y],h.description.used=!0);if(c)for(y=0;y<c.length;y++)c[y].grouping_type===s[m].grouping_type&&(h.fragment_description=c[y],h.fragment_description.used=!0,h.is_fragment=!0)}if(n){if(c)for(m=0;m<c.length;m++)!c[m].used&&c[m].version>=2&&(v=c[m].grouping_type+"/0",h=new E(c[m].grouping_type,0),h.is_fragment=!0,n.sample_groups_info[v]||(n.sample_groups_info[v]=h))}else for(m=0;m<l.length;m++)!l[m].used&&l[m].version>=2&&(v=l[m].grouping_type+"/0",h=new E(l[m].grouping_type,0),e.sample_groups_info[v]||(e.sample_groups_info[v]=h))},g.setSampleGroupProperties=function(e,n,s,l){var c,y;n.sample_groups=[];for(c in l)if(n.sample_groups[c]={},n.sample_groups[c].grouping_type=l[c].grouping_type,n.sample_groups[c].grouping_type_parameter=l[c].grouping_type_parameter,s>=l[c].last_sample_in_run&&(l[c].last_sample_in_run<0&&(l[c].last_sample_in_run=0),l[c].entry_index++,l[c].entry_index<=l[c].sbgp.entries.length-1&&(l[c].last_sample_in_run+=l[c].sbgp.entries[l[c].entry_index].sample_count)),l[c].entry_index<=l[c].sbgp.entries.length-1?n.sample_groups[c].group_description_index=l[c].sbgp.entries[l[c].entry_index].group_description_index:n.sample_groups[c].group_description_index=-1,n.sample_groups[c].group_description_index!==0){var m;l[c].fragment_description?m=l[c].fragment_description:m=l[c].description,n.sample_groups[c].group_description_index>0?(n.sample_groups[c].group_description_index>65535?y=(n.sample_groups[c].group_description_index>>16)-1:y=n.sample_groups[c].group_description_index-1,m&&y>=0&&(n.sample_groups[c].description=m.entries[y])):m&&m.version>=2&&m.default_group_description_index>0&&(n.sample_groups[c].description=m.entries[m.default_group_description_index-1])}},g.process_sdtp=function(e,n,s){n&&(e?(n.is_leading=e.is_leading[s],n.depends_on=e.sample_depends_on[s],n.is_depended_on=e.sample_is_depended_on[s],n.has_redundancy=e.sample_has_redundancy[s]):(n.is_leading=0,n.depends_on=0,n.is_depended_on=0,n.has_redundancy=0))},g.prototype.buildSampleLists=function(){var e,n;for(e=0;e<this.moov.traks.length;e++)n=this.moov.traks[e],this.buildTrakSampleLists(n)},g.prototype.buildTrakSampleLists=function(e){var n,s,l,c,y,m,h,v,E,U,I,L,A,O,P,w,T,C,D,k,j,H,ee,te;if(e.samples=[],e.samples_duration=0,e.samples_size=0,s=e.mdia.minf.stbl.stco||e.mdia.minf.stbl.co64,l=e.mdia.minf.stbl.stsc,c=e.mdia.minf.stbl.stsz||e.mdia.minf.stbl.stz2,y=e.mdia.minf.stbl.stts,m=e.mdia.minf.stbl.ctts,h=e.mdia.minf.stbl.stss,v=e.mdia.minf.stbl.stsd,E=e.mdia.minf.stbl.subs,L=e.mdia.minf.stbl.stdp,U=e.mdia.minf.stbl.sbgps,I=e.mdia.minf.stbl.sgpds,C=-1,D=-1,k=-1,j=-1,H=0,ee=0,te=0,g.initSampleGroups(e,null,U,I),!(typeof c>"u")){for(n=0;n<c.sample_sizes.length;n++){var Z={};Z.number=n,Z.track_id=e.tkhd.track_id,Z.timescale=e.mdia.mdhd.timescale,Z.alreadyRead=0,e.samples[n]=Z,Z.size=c.sample_sizes[n],e.samples_size+=Z.size,n===0?(O=1,A=0,Z.chunk_index=O,Z.chunk_run_index=A,T=l.samples_per_chunk[A],w=0,A+1<l.first_chunk.length?P=l.first_chunk[A+1]-1:P=1/0):n<T?(Z.chunk_index=O,Z.chunk_run_index=A):(O++,Z.chunk_index=O,w=0,O<=P||(A++,A+1<l.first_chunk.length?P=l.first_chunk[A+1]-1:P=1/0),Z.chunk_run_index=A,T+=l.samples_per_chunk[A]),Z.description_index=l.sample_description_index[Z.chunk_run_index]-1,Z.description=v.entries[Z.description_index],Z.offset=s.chunk_offsets[Z.chunk_index-1]+w,w+=Z.size,n>C&&(D++,C<0&&(C=0),C+=y.sample_counts[D]),n>0?(e.samples[n-1].duration=y.sample_deltas[D],e.samples_duration+=e.samples[n-1].duration,Z.dts=e.samples[n-1].dts+e.samples[n-1].duration):Z.dts=0,m?(n>=k&&(j++,k<0&&(k=0),k+=m.sample_counts[j]),Z.cts=e.samples[n].dts+m.sample_offsets[j]):Z.cts=Z.dts,h?(n==h.sample_numbers[H]-1?(Z.is_sync=!0,H++):(Z.is_sync=!1,Z.degradation_priority=0),E&&E.entries[ee].sample_delta+te==n+1&&(Z.subsamples=E.entries[ee].subsamples,te+=E.entries[ee].sample_delta,ee++)):Z.is_sync=!0,g.process_sdtp(e.mdia.minf.stbl.sdtp,Z,Z.number),L?Z.degradation_priority=L.priority[n]:Z.degradation_priority=0,E&&E.entries[ee].sample_delta+te==n&&(Z.subsamples=E.entries[ee].subsamples,te+=E.entries[ee].sample_delta),(U.length>0||I.length>0)&&g.setSampleGroupProperties(e,Z,n,e.sample_groups_info)}n>0&&(e.samples[n-1].duration=Math.max(e.mdia.mdhd.duration-e.samples[n-1].dts,0),e.samples_duration+=e.samples[n-1].duration)}},g.prototype.updateSampleLists=function(){var e,n,s,l,c,y,m,h,v,E,U,I,L,A,O;if(this.moov!==void 0){for(;this.lastMoofIndex<this.moofs.length;)if(v=this.moofs[this.lastMoofIndex],this.lastMoofIndex++,v.type=="moof")for(E=v,e=0;e<E.trafs.length;e++){for(U=E.trafs[e],I=this.getTrackById(U.tfhd.track_id),L=this.getTrexById(U.tfhd.track_id),U.tfhd.flags&a.TFHD_FLAG_SAMPLE_DESC?l=U.tfhd.default_sample_description_index:l=L?L.default_sample_description_index:1,U.tfhd.flags&a.TFHD_FLAG_SAMPLE_DUR?c=U.tfhd.default_sample_duration:c=L?L.default_sample_duration:0,U.tfhd.flags&a.TFHD_FLAG_SAMPLE_SIZE?y=U.tfhd.default_sample_size:y=L?L.default_sample_size:0,U.tfhd.flags&a.TFHD_FLAG_SAMPLE_FLAGS?m=U.tfhd.default_sample_flags:m=L?L.default_sample_flags:0,U.sample_number=0,U.sbgps.length>0&&g.initSampleGroups(I,U,U.sbgps,I.mdia.minf.stbl.sgpds,U.sgpds),n=0;n<U.truns.length;n++){var P=U.truns[n];for(s=0;s<P.sample_count;s++){A={},A.moof_number=this.lastMoofIndex,A.number_in_traf=U.sample_number,U.sample_number++,A.number=I.samples.length,U.first_sample_index=I.samples.length,I.samples.push(A),A.track_id=I.tkhd.track_id,A.timescale=I.mdia.mdhd.timescale,A.description_index=l-1,A.description=I.mdia.minf.stbl.stsd.entries[A.description_index],A.size=y,P.flags&a.TRUN_FLAGS_SIZE&&(A.size=P.sample_size[s]),I.samples_size+=A.size,A.duration=c,P.flags&a.TRUN_FLAGS_DURATION&&(A.duration=P.sample_duration[s]),I.samples_duration+=A.duration,I.first_traf_merged||s>0?A.dts=I.samples[I.samples.length-2].dts+I.samples[I.samples.length-2].duration:(U.tfdt?A.dts=U.tfdt.baseMediaDecodeTime:A.dts=0,I.first_traf_merged=!0),A.cts=A.dts,P.flags&a.TRUN_FLAGS_CTS_OFFSET&&(A.cts=A.dts+P.sample_composition_time_offset[s]),O=m,P.flags&a.TRUN_FLAGS_FLAGS?O=P.sample_flags[s]:s===0&&P.flags&a.TRUN_FLAGS_FIRST_FLAG&&(O=P.first_sample_flags),A.is_sync=!(O>>16&1),A.is_leading=O>>26&3,A.depends_on=O>>24&3,A.is_depended_on=O>>22&3,A.has_redundancy=O>>20&3,A.degradation_priority=O&65535;var w=!!(U.tfhd.flags&a.TFHD_FLAG_BASE_DATA_OFFSET),T=!!(U.tfhd.flags&a.TFHD_FLAG_DEFAULT_BASE_IS_MOOF),C=!!(P.flags&a.TRUN_FLAGS_DATA_OFFSET),D=0;w?D=U.tfhd.base_data_offset:T||n===0?D=E.start:D=h,n===0&&s===0?C?A.offset=D+P.data_offset:A.offset=D:A.offset=h,h=A.offset+A.size,(U.sbgps.length>0||U.sgpds.length>0||I.mdia.minf.stbl.sbgps.length>0||I.mdia.minf.stbl.sgpds.length>0)&&g.setSampleGroupProperties(I,A,A.number_in_traf,U.sample_groups_info)}}if(U.subs){I.has_fragment_subsamples=!0;var k=U.first_sample_index;for(n=0;n<U.subs.entries.length;n++)k+=U.subs.entries[n].sample_delta,A=I.samples[k-1],A.subsamples=U.subs.entries[n].subsamples}}}},g.prototype.getSample=function(e,n){var s,l=e.samples[n];if(!this.moov)return null;if(!l.data)l.data=new Uint8Array(l.size),l.alreadyRead=0,this.samplesDataSize+=l.size,i.debug("ISOFile","Allocating sample #"+n+" on track #"+e.tkhd.track_id+" of size "+l.size+" (total: "+this.samplesDataSize+")");else if(l.alreadyRead==l.size)return l;for(;;){var c=this.stream.findPosition(!0,l.offset+l.alreadyRead,!1);if(c>-1){s=this.stream.buffers[c];var y=s.byteLength-(l.offset+l.alreadyRead-s.fileStart);if(l.size-l.alreadyRead<=y)return i.debug("ISOFile","Getting sample #"+n+" data (alreadyRead: "+l.alreadyRead+" offset: "+(l.offset+l.alreadyRead-s.fileStart)+" read size: "+(l.size-l.alreadyRead)+" full size: "+l.size+")"),o.memcpy(l.data.buffer,l.alreadyRead,s,l.offset+l.alreadyRead-s.fileStart,l.size-l.alreadyRead),s.usedBytes+=l.size-l.alreadyRead,this.stream.logBufferLevel(),l.alreadyRead=l.size,l;if(y===0)return null;i.debug("ISOFile","Getting sample #"+n+" partial data (alreadyRead: "+l.alreadyRead+" offset: "+(l.offset+l.alreadyRead-s.fileStart)+" read size: "+y+" full size: "+l.size+")"),o.memcpy(l.data.buffer,l.alreadyRead,s,l.offset+l.alreadyRead-s.fileStart,y),l.alreadyRead+=y,s.usedBytes+=y,this.stream.logBufferLevel()}else return null}},g.prototype.releaseSample=function(e,n){var s=e.samples[n];return s.data?(this.samplesDataSize-=s.size,s.data=null,s.alreadyRead=0,s.size):0},g.prototype.getAllocatedSampleDataSize=function(){return this.samplesDataSize},g.prototype.getCodecs=function(){var e,n="";for(e=0;e<this.moov.traks.length;e++){var s=this.moov.traks[e];e>0&&(n+=","),n+=s.mdia.minf.stbl.stsd.entries[0].getCodec()}return n},g.prototype.getTrexById=function(e){var n;if(!this.moov||!this.moov.mvex)return null;for(n=0;n<this.moov.mvex.trexs.length;n++){var s=this.moov.mvex.trexs[n];if(s.track_id==e)return s}return null},g.prototype.getTrackById=function(e){if(this.moov===void 0)return null;for(var n=0;n<this.moov.traks.length;n++){var s=this.moov.traks[n];if(s.tkhd.track_id==e)return s}return null},g.prototype.items=[],g.prototype.itemsDataSize=0,g.prototype.flattenItemInfo=function(){var e=this.items,n,s,l,c=this.meta;if(c!=null&&c.hdlr!==void 0&&c.iinf!==void 0){for(n=0;n<c.iinf.item_infos.length;n++)l={},l.id=c.iinf.item_infos[n].item_ID,e[l.id]=l,l.ref_to=[],l.name=c.iinf.item_infos[n].item_name,c.iinf.item_infos[n].protection_index>0&&(l.protection=c.ipro.protections[c.iinf.item_infos[n].protection_index-1]),c.iinf.item_infos[n].item_type?l.type=c.iinf.item_infos[n].item_type:l.type="mime",l.content_type=c.iinf.item_infos[n].content_type,l.content_encoding=c.iinf.item_infos[n].content_encoding;if(c.iloc)for(n=0;n<c.iloc.items.length;n++){var y=c.iloc.items[n];switch(l=e[y.item_ID],y.data_reference_index!==0&&(i.warn("Item storage with reference to other files: not supported"),l.source=c.dinf.boxes[y.data_reference_index-1]),y.construction_method){case 0:break;case 1:i.warn("Item storage with construction_method : not supported");break;case 2:i.warn("Item storage with construction_method : not supported");break}for(l.extents=[],l.size=0,s=0;s<y.extents.length;s++)l.extents[s]={},l.extents[s].offset=y.extents[s].extent_offset+y.base_offset,l.extents[s].length=y.extents[s].extent_length,l.extents[s].alreadyRead=0,l.size+=l.extents[s].length}if(c.pitm&&(e[c.pitm.item_id].primary=!0),c.iref)for(n=0;n<c.iref.references.length;n++){var m=c.iref.references[n];for(s=0;s<m.references.length;s++)e[m.from_item_ID].ref_to.push({type:m.type,id:m.references[s]})}if(c.iprp)for(var h=0;h<c.iprp.ipmas.length;h++){var v=c.iprp.ipmas[h];for(n=0;n<v.associations.length;n++){var E=v.associations[n];for(l=e[E.id],l.properties===void 0&&(l.properties={},l.properties.boxes=[]),s=0;s<E.props.length;s++){var U=E.props[s];if(U.property_index>0&&U.property_index-1<c.iprp.ipco.boxes.length){var I=c.iprp.ipco.boxes[U.property_index-1];l.properties[I.type]=I,l.properties.boxes.push(I)}}}}}},g.prototype.getItem=function(e){var n,s;if(!this.meta)return null;if(s=this.items[e],!s.data&&s.size)s.data=new Uint8Array(s.size),s.alreadyRead=0,this.itemsDataSize+=s.size,i.debug("ISOFile","Allocating item #"+e+" of size "+s.size+" (total: "+this.itemsDataSize+")");else if(s.alreadyRead===s.size)return s;for(var l=0;l<s.extents.length;l++){var c=s.extents[l];if(c.alreadyRead!==c.length){var y=this.stream.findPosition(!0,c.offset+c.alreadyRead,!1);if(y>-1){n=this.stream.buffers[y];var m=n.byteLength-(c.offset+c.alreadyRead-n.fileStart);if(c.length-c.alreadyRead<=m)i.debug("ISOFile","Getting item #"+e+" extent #"+l+" data (alreadyRead: "+c.alreadyRead+" offset: "+(c.offset+c.alreadyRead-n.fileStart)+" read size: "+(c.length-c.alreadyRead)+" full extent size: "+c.length+" full item size: "+s.size+")"),o.memcpy(s.data.buffer,s.alreadyRead,n,c.offset+c.alreadyRead-n.fileStart,c.length-c.alreadyRead),n.usedBytes+=c.length-c.alreadyRead,this.stream.logBufferLevel(),s.alreadyRead+=c.length-c.alreadyRead,c.alreadyRead=c.length;else return i.debug("ISOFile","Getting item #"+e+" extent #"+l+" partial data (alreadyRead: "+c.alreadyRead+" offset: "+(c.offset+c.alreadyRead-n.fileStart)+" read size: "+m+" full extent size: "+c.length+" full item size: "+s.size+")"),o.memcpy(s.data.buffer,s.alreadyRead,n,c.offset+c.alreadyRead-n.fileStart,m),c.alreadyRead+=m,s.alreadyRead+=m,n.usedBytes+=m,this.stream.logBufferLevel(),null}else return null}}return s.alreadyRead===s.size?s:null},g.prototype.releaseItem=function(e){var n=this.items[e];if(n.data){this.itemsDataSize-=n.size,n.data=null,n.alreadyRead=0;for(var s=0;s<n.extents.length;s++){var l=n.extents[s];l.alreadyRead=0}return n.size}else return 0},g.prototype.processItems=function(e){for(var n in this.items){var s=this.items[n];this.getItem(s.id),e&&!s.sent&&(e(s),s.sent=!0,s.data=null)}},g.prototype.hasItem=function(e){for(var n in this.items){var s=this.items[n];if(s.name===e)return s.id}return-1},g.prototype.getMetaHandler=function(){return this.meta?this.meta.hdlr.handler:null},g.prototype.getPrimaryItem=function(){return!this.meta||!this.meta.pitm?null:this.getItem(this.meta.pitm.item_id)},g.prototype.itemToFragmentedTrackFile=function(e){var n=e||{},s=null;if(n.itemId?s=this.getItem(n.itemId):s=this.getPrimaryItem(),s==null)return null;var l=new g;l.discardMdatData=!1;var c={type:s.type,description_boxes:s.properties.boxes};s.properties.ispe&&(c.width=s.properties.ispe.image_width,c.height=s.properties.ispe.image_height);var y=l.addTrack(c);return y?(l.addSample(y,s.data),l):null},g.prototype.write=function(e){for(var n=0;n<this.boxes.length;n++)this.boxes[n].write(e)},g.prototype.createFragment=function(e,n,s){var l=this.getTrackById(e),c=this.getSample(l,n);if(c==null)return c=l.samples[n],this.nextSeekPosition?this.nextSeekPosition=Math.min(c.offset+c.alreadyRead,this.nextSeekPosition):this.nextSeekPosition=l.samples[n].offset+c.alreadyRead,null;var y=s||new o;y.endianness=o.BIG_ENDIAN;var m=this.createSingleSampleMoof(c);m.write(y),m.trafs[0].truns[0].data_offset=m.size+8,i.debug("MP4Box","Adjusting data_offset with new value "+m.trafs[0].truns[0].data_offset),y.adjustUint32(m.trafs[0].truns[0].data_offset_position,m.trafs[0].truns[0].data_offset);var h=new a.mdatBox;return h.data=c.data,h.write(y),y},g.writeInitializationSegment=function(e,n,s,l){var c;i.debug("ISOFile","Generating initialization segment");var y=new o;y.endianness=o.BIG_ENDIAN,e.write(y);var m=n.add("mvex");for(s&&m.add("mehd").set("fragment_duration",s),c=0;c<n.traks.length;c++)m.add("trex").set("track_id",n.traks[c].tkhd.track_id).set("default_sample_description_index",1).set("default_sample_duration",l).set("default_sample_size",0).set("default_sample_flags",65536);return n.write(y),y.buffer},g.prototype.save=function(e){var n=new o;n.endianness=o.BIG_ENDIAN,this.write(n),n.save(e)},g.prototype.getBuffer=function(){var e=new o;return e.endianness=o.BIG_ENDIAN,this.write(e),e.buffer},g.prototype.initializeSegmentation=function(){var e,n,s,l;for(this.onSegment===null&&i.warn("MP4Box","No segmentation callback set!"),this.isFragmentationInitialized||(this.isFragmentationInitialized=!0,this.nextMoofNumber=0,this.resetTables()),n=[],e=0;e<this.fragmentedTracks.length;e++){var c=new a.moovBox;c.mvhd=this.moov.mvhd,c.boxes.push(c.mvhd),s=this.getTrackById(this.fragmentedTracks[e].id),c.boxes.push(s),c.traks.push(s),l={},l.id=s.tkhd.track_id,l.user=this.fragmentedTracks[e].user,l.buffer=g.writeInitializationSegment(this.ftyp,c,this.moov.mvex&&this.moov.mvex.mehd?this.moov.mvex.mehd.fragment_duration:void 0,this.moov.traks[e].samples.length>0?this.moov.traks[e].samples[0].duration:0),n.push(l)}return n},a.Box.prototype.printHeader=function(e){this.size+=8,this.size>f&&(this.size+=8),this.type==="uuid"&&(this.size+=16),e.log(e.indent+"size:"+this.size),e.log(e.indent+"type:"+this.type)},a.FullBox.prototype.printHeader=function(e){this.size+=4,a.Box.prototype.printHeader.call(this,e),e.log(e.indent+"version:"+this.version),e.log(e.indent+"flags:"+this.flags)},a.Box.prototype.print=function(e){this.printHeader(e)},a.ContainerBox.prototype.print=function(e){this.printHeader(e);for(var n=0;n<this.boxes.length;n++)if(this.boxes[n]){var s=e.indent;e.indent+=" ",this.boxes[n].print(e),e.indent=s}},g.prototype.print=function(e){e.indent="";for(var n=0;n<this.boxes.length;n++)this.boxes[n]&&this.boxes[n].print(e)},a.mvhdBox.prototype.print=function(e){a.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"timescale: "+this.timescale),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"rate: "+this.rate),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"next_track_id: "+this.next_track_id)},a.tkhdBox.prototype.print=function(e){a.FullBox.prototype.printHeader.call(this,e),e.log(e.indent+"creation_time: "+this.creation_time),e.log(e.indent+"modification_time: "+this.modification_time),e.log(e.indent+"track_id: "+this.track_id),e.log(e.indent+"duration: "+this.duration),e.log(e.indent+"volume: "+(this.volume>>8)),e.log(e.indent+"matrix: "+this.matrix.join(", ")),e.log(e.indent+"layer: "+this.layer),e.log(e.indent+"alternate_group: "+this.alternate_group),e.log(e.indent+"width: "+this.width),e.log(e.indent+"height: "+this.height)};var S={};S.createFile=function(e,n){var s=e!==void 0?e:!0,l=new g(n);return l.discardMdatData=!s,l},t.createFile=S.createFile})(Ga);var Pc=function(){function t(i){Ha(this,t),this.data=new Uint8Array(i),this.idx=0,this.size=i}return Va(t,[{key:"getData",value:function(){if(this.idx!==this.size)throw new Error("Mismatch between size reserved and sized used");return this.data.slice(0,this.idx)}},{key:"writeUint8",value:function(r){this.data.set([r],this.idx),this.idx+=1}},{key:"writeUint16",value:function(r){var o=new Uint16Array(1);o[0]=r;var f=new Uint8Array(o.buffer);this.data.set([f[1],f[0]],this.idx),this.idx+=2}},{key:"writeUint8Array",value:function(r){this.data.set(r,this.idx),this.idx+=r.length}}]),t}(),Fc=function(i){var r,o=7;for(r=0;r<i.SPS.length;r+=1)o+=2+i.SPS[r].length;for(r=0;r<i.PPS.length;r+=1)o+=2+i.PPS[r].length;var f=new Pc(o);for(f.writeUint8(i.configurationVersion),f.writeUint8(i.AVCProfileIndication),f.writeUint8(i.profile_compatibility),f.writeUint8(i.AVCLevelIndication),f.writeUint8(i.lengthSizeMinusOne+252),f.writeUint8(i.nb_SPS_nalus+224),r=0;r<i.SPS.length;r+=1)f.writeUint16(i.SPS[r].length),f.writeUint8Array(i.SPS[r].nalu);for(f.writeUint8(i.nb_PPS_nalus),r=0;r<i.PPS.length;r+=1)f.writeUint16(i.PPS[r].length),f.writeUint8Array(i.PPS[r].nalu);return f.getData()},Lc=function(i,r,o){var f=o.VideoDecoder,u=o.EncodedVideoChunk,d=o.debug;return new Promise(function(a,p){d&&console.info("Decoding video from",i);try{var _=Ga.createFile(),g,S=new f({output:function(n){createImageBitmap(n,{resizeQuality:"low"}).then(function(s){r(s),n.close(),S.decodeQueueSize<=0&&setTimeout(function(){S.state!=="closed"&&(S.close(),a())},500)})},error:function(n){console.error(n),p(n)}});_.onReady=function(e){if(e&&e.videoTracks&&e.videoTracks[0]){var n=Uc(e.videoTracks,1);g=n[0].codec,d&&console.info("Video with codec:",g);var s=_.moov.traks[0].mdia.minf.stbl.stsd.entries[0].avcC,l=Fc(s);S.configure({codec:g,description:l}),_.setExtractionOptions(e.videoTracks[0].id),_.start()}else p(new Error("URL provided is not a valid mp4 video file."))},_.onSamples=function(e,n,s){for(var l=0;l<s.length;l+=1){var c=s[l],y=c.is_sync?"key":"delta",m=new u({type:y,timestamp:c.cts,duration:c.duration,data:c.data});S.decode(m)}},fetch(i).then(function(e){var n=e.body.getReader(),s=0;function l(c){var y=c.done,m=c.value;if(y)return _.flush(),null;var h=m.buffer;return h.fileStart=s,s+=h.byteLength,_.appendBuffer(h),n.read().then(l)}return n.read().then(l)})}catch(e){p(e)}})},Oc=function(t,i,r){return typeof VideoDecoder=="function"&&typeof EncodedVideoChunk=="function"?(r&&console.info("WebCodecs is natively supported, using native version..."),Lc(t,i,{VideoDecoder,EncodedVideoChunk,debug:r})):(r&&console.info("WebCodecs is not available in this browser."),Promise.resolve())};function zc(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r;return function(){for(var o=arguments.length,f=new Array(o),u=0;u<o;u++)f[u]=arguments[u];var d=this;clearTimeout(r),r=setTimeout(function(){t.apply(d,f)},i)}}var Os=function(i){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=window.pageYOffset,f=Math.abs(o-i);return f<r},Rc=function(){function t(i){var r=this,o=i.src,f=i.scrollyVideoContainer,u=i.cover,d=u===void 0?!0:u,a=i.sticky,p=a===void 0?!0:a,_=i.full,g=_===void 0?!0:_,S=i.trackScroll,e=S===void 0?!0:S,n=i.lockScroll,s=n===void 0?!0:n,l=i.transitionSpeed,c=l===void 0?8:l,y=i.frameThreshold,m=y===void 0?.1:y,h=i.useWebCodecs,v=h===void 0?!0:h,E=i.onReady,U=E===void 0?function(){}:E,I=i.onChange,L=I===void 0?function(){}:I,A=i.debug,O=A===void 0?!1:A;if(Ha(this,t),(typeof document>"u"?"undefined":ar(document))!=="object"){console.error("ScrollyVideo must be initiated in a DOM context");return}if(!f){console.error("scrollyVideoContainer must be a valid DOM object");return}if(!o){console.error("Must provide valid video src to ScrollyVideo");return}if(f instanceof Element)this.container=f;else if(typeof f=="string"){if(this.container=document.getElementById(f),!this.container)throw new Error("scrollyVideoContainer must be a valid DOM object")}else throw new Error("scrollyVideoContainer must be a valid DOM object");this.src=o,this.transitionSpeed=c,this.frameThreshold=m,this.useWebCodecs=v,this.cover=d,this.sticky=p,this.trackScroll=e,this.onReady=U,this.onChange=L,this.debug=O,this.video=document.createElement("video"),this.video.src=o,this.video.preload="auto",this.video.tabIndex=0,this.video.autobuffer=!0,this.video.playsInline=!0,this.video.muted=!0,this.video.pause(),this.video.load(),this.videoPercentage=0,this.container.appendChild(this.video),p&&(this.container.style.display="block",this.container.style.position="sticky",this.container.style.top="0"),g&&(this.container.style.width="100%",this.container.style.height="100vh",this.container.style.overflow="hidden"),d&&this.setCoverStyle(this.video);var P=new Ic().getEngine();this.isSafari=P.name==="WebKit",O&&this.isSafari&&console.info("Safari browser detected"),this.currentTime=0,this.targetTime=0,this.canvas=null,this.context=null,this.frames=[],this.frameRate=0;var w=zc(function(){window.requestAnimationFrame(function(){r.setScrollPercent(r.videoPercentage)})},100);this.updateScrollPercentage=function(T){var C=r.container.parentNode.getBoundingClientRect(),D=-C.top/(C.height-window.innerHeight);r.debug&&console.info("ScrollyVideo scrolled to",D),r.targetScrollPosition==null?(r.setTargetTimePercent(D,{jump:T}),r.onChange(D)):Os(r.targetScrollPosition)?r.targetScrollPosition=null:s&&r.targetScrollPosition!=null&&w()},this.trackScroll?(window.addEventListener("scroll",this.updateScrollPercentage),this.video.addEventListener("loadedmetadata",function(){return r.updateScrollPercentage(!0)},{once:!0})):this.video.addEventListener("loadedmetadata",function(){return r.setTargetTimePercent(0,{jump:!0})},{once:!0}),this.resize=function(){r.debug&&console.info("ScrollyVideo resizing..."),r.cover&&r.setCoverStyle(r.canvas||r.video),r.paintCanvasFrame(Math.floor(r.currentTime*r.frameRate))},window.addEventListener("resize",this.resize),this.video.addEventListener("progress",this.resize),this.decodeVideo()}return Va(t,[{key:"setVideoPercentage",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.videoPercentage!==r&&(this.transitioningRaf&&window.cancelAnimationFrame(this.transitioningRaf),this.videoPercentage=r,this.onChange(r),this.trackScroll&&this.setScrollPercent(r),this.setTargetTimePercent(r,o))}},{key:"setCoverStyle",value:function(r){if(this.cover){r.style.position="absolute",r.style.top="50%",r.style.left="50%",r.style.transform="translate(-50%, -50%)",r.style.minWidth="101%",r.style.minHeight="101%";var o=this.container.getBoundingClientRect(),f=o.width,u=o.height,d=r.videoWidth||r.width,a=r.videoHeight||r.height;this.debug&&console.info("Container dimensions:",[f,u]),this.debug&&console.info("Element dimensions:",[d,a]),f/u>d/a?(r.style.width="100%",r.style.height="auto"):(r.style.height="100%",r.style.width="auto")}}},{key:"decodeVideo",value:function(){var i=Sc(or().mark(function o(){var f=this;return or().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(this.useWebCodecs){d.next=3;break}return this.debug&&console.warn("Cannot perform video decode: `useWebCodes` disabled"),d.abrupt("return");case 3:if(this.src){d.next=6;break}return this.debug&&console.warn("Cannot perform video decode: no `src` found"),d.abrupt("return");case 6:return d.prev=6,d.next=9,Oc(this.src,function(a){f.frames.push(a)},this.debug);case 9:d.next=16;break;case 11:d.prev=11,d.t0=d.catch(6),this.debug&&console.error("Error encountered while decoding video",d.t0),this.frames=[],this.video.load();case 16:if(this.frames.length!==0){d.next=20;break}return this.debug&&console.error("No frames were received from webCodecs"),this.onReady(),d.abrupt("return");case 20:this.frameRate=this.frames.length/this.video.duration,this.debug&&console.info("Received",this.frames.length,"frames"),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.video.style.display="none",this.container.appendChild(this.canvas),this.cover&&this.setCoverStyle(this.canvas),this.paintCanvasFrame(Math.floor(this.currentTime*this.frameRate)),this.onReady();case 29:case"end":return d.stop()}},o,this,[[6,11]])}));function r(){return i.apply(this,arguments)}return r}()},{key:"paintCanvasFrame",value:function(r){var o=this.frames[r];if(!(!this.canvas||!o)){this.debug&&console.info("Painting frame",r),this.canvas.width=o.width,this.canvas.height=o.height;var f=this.container.getBoundingClientRect(),u=f.width,d=f.height;u/d>o.width/o.height?(this.canvas.style.width="100%",this.canvas.style.height="auto"):(this.canvas.style.height="100%",this.canvas.style.width="auto"),this.context.drawImage(o,0,0,o.width,o.height)}}},{key:"transitionToTargetTime",value:function(r){var o=this,f=r.jump,u=r.transitionSpeed,d=u===void 0?this.transitionSpeed:u,a=r.easing,p=a===void 0?null:a;this.debug&&console.info("Transitioning targetTime:",this.targetTime,"currentTime:",this.currentTime);var _=this.targetTime-this.currentTime,g=Math.abs(_),S=g*1e3,e=_>0,n=function s(l){var c=l.startCurrentTime,y=l.startTimestamp,m=l.timestamp,h=(m-y)/S,v=e?o.currentTime>=o.targetTime:o.currentTime<=o.targetTime;if(isNaN(o.targetTime)||Math.abs(o.targetTime-o.currentTime)<o.frameThreshold||v){o.video.pause(),o.transitioningRaf&&(cancelAnimationFrame(o.transitioningRaf),o.transitioningRaf=null);return}o.targetTime>o.video.duration&&(o.targetTime=o.video.duration),o.targetTime<0&&(o.targetTime=0);var E=o.targetTime-o.currentTime,U=p&&Number.isFinite(h)?p(h):null,I=e?c+U*Math.abs(g)*d:c-U*Math.abs(g)*d;if(o.canvas)f?o.currentTime=o.targetTime:U?o.currentTime=I:o.currentTime+=E/(256/d),o.paintCanvasFrame(Math.floor(o.currentTime*o.frameRate));else if(f||o.isSafari||!e)o.video.pause(),U?o.currentTime=I:o.currentTime+=E/(64/d),f&&(o.currentTime=o.targetTime),o.video.currentTime=o.currentTime;else{var L=Math.max(Math.min(E*4,d,16),1);o.debug&&console.info("ScrollyVideo playbackRate:",L),isNaN(L)||(o.video.playbackRate=L,o.video.play()),o.currentTime=o.video.currentTime}typeof requestAnimationFrame=="function"&&(o.transitioningRaf=requestAnimationFrame(function(A){return s({startCurrentTime:c,startTimestamp:y,timestamp:A})}))};typeof requestAnimationFrame=="function"&&(this.transitioningRaf=requestAnimationFrame(function(s){n({startCurrentTime:o.currentTime,startTimestamp:s,timestamp:s})}))}},{key:"setTargetTimePercent",value:function(r){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},f=this.frames.length&&this.frameRate?this.frames.length/this.frameRate:this.video.duration;this.targetTime=Math.max(Math.min(r,1),0)*f,!(!o.jump&&Math.abs(this.currentTime-this.targetTime)<this.frameThreshold)&&(!this.canvas&&!this.video.paused&&this.video.play(),this.transitionToTargetTime(o))}},{key:"setScrollPercent",value:function(r){if(!this.trackScroll){console.warn("`setScrollPercent` requires enabled `trackScroll`");return}var o=this.container.parentNode,f=o.getBoundingClientRect(),u=f.top,d=f.height,a=u+window.pageYOffset,p=d-window.innerHeight,_=a+p*r;Os(_)?this.targetScrollPosition=null:(window.scrollTo({top:_,behavior:"smooth"}),this.targetScrollPosition=_)}},{key:"destroy",value:function(){this.debug&&console.info("Destroying ScrollyVideo"),this.trackScroll&&window.removeEventListener("scroll",this.updateScrollPercentage),window.removeEventListener("resize",this.resize),this.container&&(this.container.innerHTML="")}}]),t}(),Mr={data(){return{scrollyVideo:null,lastPropsString:""}},methods:{refreshScrollyVideo(t){this.scrollyVideo&&this.scrollyVideo.destroy(),this.scrollyVideo=new Rc({scrollyVideoContainer:this.$refs.containerElement,...t})},setVideoPercentage(...t){this.scrollyVideo&&this.scrollyVideo.setVideoPercentage(...t)}},watch:{$attrs:{handler:function(){const{videoPercentage:t,...i}=this.$attrs;JSON.stringify(i)!==this.lastPropsString&&(this.refreshScrollyVideo(i),this.lastPropsString=JSON.stringify(i)),this.scrollyVideo&&typeof t=="number"&&t>=0&&t<=1&&this.scrollyVideo.setVideoPercentage(t)},deep:!0}},mounted(){this.refreshScrollyVideo(this.$attrs)},unmounted(){this.scrollyVideo&&this.scrollyVideo.destroy()}};const Nc={ref:"containerElement","data-scrolly-container":""};function Dc(t,i,r,o,f,u){return Ps.openBlock(),Ps.createElementBlock("div",Nc,null,512)}Mr.render=Dc;Mr.__file="src/ScrollyVideo.vue";var Mc=Mr;const Hc=Da(Mc);/**
 * Vue 3 Carousel 0.3.3
 * (c) 2024
 * @license MIT
 */const Be={itemsToShow:1,itemsToScroll:1,modelValue:0,transition:300,autoplay:0,snapAlign:"center",wrapAround:!1,throttle:16,pauseAutoplayOnHover:!1,mouseDrag:!0,touchDrag:!0,dir:"ltr",breakpoints:void 0,i18n:{ariaNextSlide:"Navigate to next slide",ariaPreviousSlide:"Navigate to previous slide",ariaNavigateToSlide:"Navigate to slide {slideNumber}",ariaGallery:"Gallery",itemXofY:"Item {currentSlide} of {slidesCount}",iconArrowUp:"Arrow pointing upwards",iconArrowDown:"Arrow pointing downwards",iconArrowRight:"Arrow pointing to the right",iconArrowLeft:"Arrow pointing to the left"}},zs={itemsToShow:{default:Be.itemsToShow,type:Number},itemsToScroll:{default:Be.itemsToScroll,type:Number},wrapAround:{default:Be.wrapAround,type:Boolean},throttle:{default:Be.throttle,type:Number},snapAlign:{default:Be.snapAlign,validator(t){return["start","end","center","center-even","center-odd"].includes(t)}},transition:{default:Be.transition,type:Number},breakpoints:{default:Be.breakpoints,type:Object},autoplay:{default:Be.autoplay,type:Number},pauseAutoplayOnHover:{default:Be.pauseAutoplayOnHover,type:Boolean},modelValue:{default:void 0,type:Number},mouseDrag:{default:Be.mouseDrag,type:Boolean},touchDrag:{default:Be.touchDrag,type:Boolean},dir:{default:Be.dir,validator(t){return["rtl","ltr"].includes(t)}},i18n:{default:Be.i18n,type:Object},settings:{default(){return{}},type:Object}};function Vc({config:t,slidesCount:i}){const{snapAlign:r,wrapAround:o,itemsToShow:f=1}=t;if(o)return Math.max(i-1,0);let u;switch(r){case"start":u=i-f;break;case"end":u=i-1;break;case"center":case"center-odd":u=i-Math.ceil((f-.5)/2);break;case"center-even":u=i-Math.ceil(f/2);break;default:u=0;break}return Math.max(u,0)}function Gc({config:t,slidesCount:i}){const{wrapAround:r,snapAlign:o,itemsToShow:f=1}=t;let u=0;if(r||f>i)return u;switch(o){case"start":u=0;break;case"end":u=f-1;break;case"center":case"center-odd":u=Math.floor((f-1)/2);break;case"center-even":u=Math.floor((f-2)/2);break;default:u=0;break}return u}function fr({val:t,max:i,min:r}){return i<r?t:Math.min(Math.max(t,r),i)}function jc({config:t,currentSlide:i,slidesCount:r}){const{snapAlign:o,wrapAround:f,itemsToShow:u=1}=t;let d=i;switch(o){case"center":case"center-odd":d-=(u-1)/2;break;case"center-even":d-=(u-2)/2;break;case"end":d-=u-1;break}return f?d:fr({val:d,max:r-u,min:0})}function ja(t){return t?t.reduce((i,r)=>{var o;return r.type===we?[...i,...ja(r.children)]:((o=r.type)===null||o===void 0?void 0:o.name)==="CarouselSlide"?[...i,r]:i},[]):[]}function ur({val:t,max:i,min:r=0}){return t>i?ur({val:t-(i+1),max:i,min:r}):t<r?ur({val:t+(i+1),max:i,min:r}):t}function Yc(t,i){let r;return i?function(...o){const f=this;r||(t.apply(f,o),r=!0,setTimeout(()=>r=!1,i))}:t}function $c(t,i){let r;return function(...o){r&&clearTimeout(r),r=setTimeout(()=>{t(...o),r=null},i)}}function Kc(t="",i={}){return Object.entries(i).reduce((r,[o,f])=>r.replace(`{${o}}`,String(f)),t)}var qc=oi({name:"ARIA",setup(){const t=Ye("config",at(Object.assign({},Be))),i=Ye("currentSlide",be(0)),r=Ye("slidesCount",be(0));return()=>vt("div",{class:["carousel__liveregion","carousel__sr-only"],"aria-live":"polite","aria-atomic":"true"},Kc(t.i18n.itemXofY,{currentSlide:i.value+1,slidesCount:r.value}))}}),Wc=oi({name:"Carousel",props:zs,setup(t,{slots:i,emit:r,expose:o}){var f;const u=be(null),d=be([]),a=be(0),p=be(0),_=at(Object.assign({},Be));let g=Object.assign({},Be),S;const e=be((f=t.modelValue)!==null&&f!==void 0?f:0),n=be(0),s=be(0),l=be(0),c=be(0);let y,m;qe("config",_),qe("slidesCount",p),qe("currentSlide",e),qe("maxSlide",l),qe("minSlide",c),qe("slideWidth",a);function h(){S=Object.assign({},t.breakpoints),g=Object.assign(Object.assign(Object.assign({},g),t),{i18n:Object.assign(Object.assign({},g.i18n),t.i18n),breakpoints:void 0}),E(g)}function v(){if(!S||!Object.keys(S).length)return;const b=Object.keys(S).map(F=>Number(F)).sort((F,z)=>+z-+F);let B=Object.assign({},g);b.some(F=>{const z=window.matchMedia(`(min-width: ${F}px)`).matches;return z&&(B=Object.assign(Object.assign({},B),S[F])),z}),E(B)}function E(b){Object.entries(b).forEach(([B,F])=>_[B]=F)}const U=$c(()=>{v(),L(),I()},16);function I(){if(!u.value)return;const b=u.value.getBoundingClientRect();a.value=b.width/_.itemsToShow}function L(){p.value<=0||(s.value=Math.ceil((p.value-1)/2),l.value=Vc({config:_,slidesCount:p.value}),c.value=Gc({config:_,slidesCount:p.value}),_.wrapAround||(e.value=fr({val:e.value,max:l.value,min:c.value})))}si(()=>{Bi(()=>I()),setTimeout(()=>I(),1e3),v(),te(),window.addEventListener("resize",U,{passive:!0}),r("init")}),ki(()=>{m&&clearTimeout(m),y&&clearInterval(y),window.removeEventListener("resize",U,{passive:!0})});let A=!1;const O={x:0,y:0},P={x:0,y:0},w=at({x:0,y:0}),T=be(!1),C=be(!1),D=()=>{T.value=!0},k=()=>{T.value=!1};function j(b){["INPUT","TEXTAREA","SELECT"].includes(b.target.tagName)||(A=b.type==="touchstart",A||b.preventDefault(),!(!A&&b.button!==0||ie.value)&&(O.x=A?b.touches[0].clientX:b.clientX,O.y=A?b.touches[0].clientY:b.clientY,document.addEventListener(A?"touchmove":"mousemove",H,!0),document.addEventListener(A?"touchend":"mouseup",ee,!0)))}const H=Yc(b=>{C.value=!0,P.x=A?b.touches[0].clientX:b.clientX,P.y=A?b.touches[0].clientY:b.clientY;const B=P.x-O.x,F=P.y-O.y;w.y=F,w.x=B},_.throttle);function ee(){const b=_.dir==="rtl"?-1:1,B=Math.sign(w.x)*.4,F=Math.round(w.x/a.value+B)*b;if(F&&!A){const z=Y=>{window.removeEventListener("click",z,!0)};window.addEventListener("click",z,!0)}re(e.value-F),w.x=0,w.y=0,C.value=!1,document.removeEventListener(A?"touchmove":"mousemove",H,!0),document.removeEventListener(A?"touchend":"mouseup",ee,!0)}function te(){!_.autoplay||_.autoplay<=0||(y=setInterval(()=>{_.pauseAutoplayOnHover&&T.value||ye()},_.autoplay))}function Z(){y&&(clearInterval(y),y=null),te()}const ie=be(!1);function re(b){const B=_.wrapAround?b:fr({val:b,max:l.value,min:c.value});e.value===B||ie.value||(r("slide-start",{slidingToIndex:b,currentSlideIndex:e.value,prevSlideIndex:n.value,slidesCount:p.value}),ie.value=!0,n.value=e.value,e.value=B,m=setTimeout(()=>{if(_.wrapAround){const F=ur({val:B,max:l.value,min:0});F!==e.value&&(e.value=F,r("loop",{currentSlideIndex:e.value,slidingToIndex:b}))}r("update:modelValue",e.value),r("slide-end",{currentSlideIndex:e.value,prevSlideIndex:n.value,slidesCount:p.value}),ie.value=!1,Z()},_.transition))}function ye(){re(e.value+_.itemsToScroll)}function Se(){re(e.value-_.itemsToScroll)}const ce={slideTo:re,next:ye,prev:Se};qe("nav",ce),qe("isSliding",ie);const ae=yt(()=>jc({config:_,currentSlide:e.value,slidesCount:p.value}));qe("slidesToScroll",ae);const fe=yt(()=>{const b=_.dir==="rtl"?-1:1,B=ae.value*a.value*b;return{transform:`translateX(${w.x-B}px)`,transition:`${ie.value?_.transition:0}ms`,margin:_.wrapAround?`0 -${p.value*a.value}px`:"",width:"100%"}});function xe(){h(),v(),L(),I(),Z()}Object.keys(zs).forEach(b=>{["modelValue"].includes(b)||wt(()=>t[b],xe)}),wt(()=>t.modelValue,b=>{b!==e.value&&re(Number(b))}),wt(p,L),r("before-init"),h();const ge={config:_,slidesCount:p,slideWidth:a,next:ye,prev:Se,slideTo:re,currentSlide:e,maxSlide:l,minSlide:c,middleSlide:s};o({updateBreakpointsConfigs:v,updateSlidesData:L,updateSlideWidth:I,initDefaultConfigs:h,restartCarousel:xe,slideTo:re,next:ye,prev:Se,nav:ce,data:ge});const Ue=i.default||i.slides,me=i.addons,x=at(ge);return()=>{const b=ja(Ue==null?void 0:Ue(x)),B=(me==null?void 0:me(x))||[];b.forEach((K,M)=>K.props.index=M);let F=b;if(_.wrapAround){const K=b.map((V,R)=>Ke(V,{index:-b.length+R,isClone:!0,key:`clone-before-${R}`})),M=b.map((V,R)=>Ke(V,{index:b.length+R,isClone:!0,key:`clone-after-${R}`}));F=[...K,...b,...M]}d.value=b,p.value=Math.max(b.length,1);const z=vt("ol",{class:"carousel__track",style:fe.value,onMousedownCapture:_.mouseDrag?j:null,onTouchstartPassiveCapture:_.touchDrag?j:null},F),Y=vt("div",{class:"carousel__viewport"},z);return vt("section",{ref:u,class:{carousel:!0,"is-sliding":ie.value,"is-dragging":C.value,"is-hover":T.value,"carousel--rtl":_.dir==="rtl"},dir:_.dir,"aria-label":_.i18n.ariaGallery,tabindex:"0",onMouseenter:D,onMouseleave:k},[Y,B,vt(qc)])}}}),Rs;(function(t){t.arrowUp="arrowUp",t.arrowDown="arrowDown",t.arrowRight="arrowRight",t.arrowLeft="arrowLeft"})(Rs||(Rs={}));var Xc=oi({name:"CarouselSlide",props:{index:{type:Number,default:1},isClone:{type:Boolean,default:!1}},setup(t,{slots:i}){const r=Ye("config",at(Object.assign({},Be))),o=Ye("currentSlide",be(0)),f=Ye("slidesToScroll",be(0)),u=Ye("isSliding",be(!1)),d=yt(()=>t.index===o.value),a=yt(()=>t.index===o.value-1),p=yt(()=>t.index===o.value+1),_=yt(()=>{const g=Math.floor(f.value),S=Math.ceil(f.value+r.itemsToShow-1);return t.index>=g&&t.index<=S});return()=>{var g;return vt("li",{style:{width:`${100/r.itemsToShow}%`},class:{carousel__slide:!0,"carousel__slide--clone":t.isClone,"carousel__slide--visible":_.value,"carousel__slide--active":d.value,"carousel__slide--prev":a.value,"carousel__slide--next":p.value,"carousel__slide--sliding":u.value},"aria-hidden":!_.value},(g=i.default)===null||g===void 0?void 0:g.call(i,{isActive:d.value,isClone:t.isClone,isPrev:a.value,isNext:p.value,isSliding:u.value,isVisible:_.value}))}}});const Zc="/neon-hong-kong/assets/hongkong-neon-light-BOKylmwe.jpg",Jc=(t,i)=>{const r=t.__vccOpts||t;for(const[o,f]of i)r[o]=f;return r},Qc={name:"App",components:{ScrollyVideo:Hc,Carousel:Wc,Slide:Xc},computed:{imgList(){return Array.from({length:20},(t,i)=>`./assets/hongkong-${i+1}.jpg`)}},data(){return{introList:[{text:"早於個人電腦及數碼字體普及前，店舖東主每當需要製作招牌，就得聘請書法家或「寫字佬」（寫招牌的人），將中文書法以勾線方式畫出。<br>其中以北魏體風格的招牌字在街道上非常流行，成為了一種香港民間特色",top:15,left:55},{text:"霓虹招牌的製造技術早在上世紀三十年代引入香港，但直到了二戰後，香港經濟快速復甦，霓虹招牌才得以茁壯成長。<br>香港第一間霓虹燈製造廠設廠於 1932 年，霓虹招牌是推廣各種商業活動的不二之選，大量用於各行各業如餐廳、百貨公司、戲院、酒吧、夜總會、桑拿浴場等。",top:30,left:40},{text:"雖然霓虹光管招牌是舶來品，但中國招牌的傳統卻得以保存，且融合到本土霓虹招牌的視覺語言中。放大了尺碼與跨張了的視覺效果，更能反映日新月異的城市肌理和建築特色。",top:45,left:20},{text:"然而，香港霓虹燈確實正在逐漸減少中，5年內就有1.6萬個霓虹燈招牌因安全疑慮被迫熄燈，原因除了港府屋宇署修訂《建築物條例》針對招牌有詳細規定，這些舊招牌因為大小、位置等不合規定，屋宇署就曾在 2022 年表示，現需要拆除或修葺的危險及棄置招牌仍有 1,800 個。",top:60,left:50},{text:"幸好，在人民的逐漸重視下，西九文化區視覺文化博物館M+正建立其霓虹招牌的館藏， 率先收藏了森美餐廳的「霓虹牛」及鷄記蔴雀館的「霓虹公鷄」，並推出其首個網上互動展覽 NEONSIGNS.HK 探索霓虹，以不同角度探索霓虹招牌，並邀請公眾上載霓虹照片至霓虹地圖。此外，也有民間團體藉由自身專業，去幫助商戶保留或修復這些傳統招牌，為稍縱即逝的文化留下記錄。",top:75,left:15}],referList:[{text:"NEON.HK 探索霓虹",url:"https://www.neonsigns.hk/neon-in-visual-culture/mplus-collects-neon/"},{text:"光的風景:香港霓虹招牌的視覺語言與字形美學",url:"https://www.eduhk.hk/include_n/getrichfile.php?key=55c4c2c5dd74cd7218a963ffeadeb429&secid=53373&filename=hkjss/Issue52/4_%E5%85%89%E7%9A%84%E9%A2%A8%E6%99%AF_%E9%A6%99%E6%B8%AF%E9%9C%93%E8%99%B9%E6%8B%9B%E7%89%8C%E7%9A%84%E8%A6%96%E8%A6%BA%E8%AA%9E%E8%A8%80%E8%88%87%E5%AD%97%E5%BD%A2%E7%BE%8E%E5%AD%B8.pdf"},{text:"《報導者The Reporter》用字體留住消逝的街景記憶──香港的野生造字人們",url:"https://www.twreporter.org/a/never-forget-hong-kong-vanishing-street-and-font-designers"},{text:"老香港風味消失中？霓虹燈招牌拆或留成兩難，保存團拼修復",url:"https://city.gvm.com.tw/article/107611"}],isDesktop:!0}},mounted(){window.scrollTo({top:0,behavior:"smooth"}),this.isDesktop=window.innerWidth>565},methods:{getPicture(t){return require(`./assets/hongkong-${t}.jpg`)},next(){this.$refs.carousel.next()},prev(){this.$refs.carousel.prev()}}},Cn=t=>(yo("data-v-9b43989e"),t=t(),vo(),t),ed=la('<div class="header" data-v-9b43989e><img src="'+Zc+'" alt="banner" data-v-9b43989e><p data-v-9b43989e> Keith Macgregor, Neon Fantasy #1 Nathan Road, Kowloon, Hong Kong（2006） © Keith Macgregor </p><div class="mask" data-v-9b43989e></div><div class="title" data-v-9b43989e><h1 class="neon-text" data-v-9b43989e> HONG KONG </h1><h2 class="neon-text" data-v-9b43989e> NEON CITY </h2></div></div><div class="intro" data-v-9b43989e> 本身很喜歡香港的招牌跟霓虹燈，也希望這個文化被更多人看到，在這邊做一個簡單的介紹。 </div>',2),td={id:"video-body"},id=["innerHTML"],nd={class:"live-photo"},rd={class:"live-photo-header"},sd=Cn(()=>Ie("i",{class:"arrow left"},null,-1)),od=[sd],ad=Cn(()=>Ie("p",null," 下面是一些過去在香港旅遊時紀錄的招牌以及霓虹燈 ",-1)),ld=Cn(()=>Ie("i",{class:"arrow right"},null,-1)),fd=[ld],ud=["src"],cd={class:"refer"},dd=Cn(()=>Ie("b",null,"參考資料",-1)),hd=["href"];function pd(t,i,r,o,f,u){const d=Wi("ScrollyVideo"),a=Wi("Slide"),p=Wi("Carousel");return We(),kt(we,null,[ed,Ie("div",td,[de(d,{id:"land-scap-video",videoPercentage:0,src:"./assets/hk-landscap.mp4",onOnReady:t.onReady,onOnChange:t.onChange},null,8,["onOnReady","onOnChange"]),(We(!0),kt(we,null,Xi(f.introList,(_,g)=>(We(),kt("div",{key:`desc-item${g}`,class:"desc-item",style:ri({top:`${_.top}%`,left:`${_.left}%`}),"data-aos":"fade-up","data-aos-duration":"1000",innerHTML:_.text},null,12,id))),128))]),Ie("div",nd,[Ie("div",rd,[Ie("button",{onClick:i[0]||(i[0]=(..._)=>u.prev&&u.prev(..._))},od),ad,Ie("button",{onClick:i[1]||(i[1]=(..._)=>u.next&&u.next(..._))},fd)]),de(p,{ref:"carousel","items-to-show":f.isDesktop?3:1,"wrap-around":!0},{default:xi(()=>[(We(!0),kt(we,null,Xi(u.imgList,(_,g)=>(We(),Tn(a,{key:`picture-${g}`},{default:xi(()=>[Ie("img",{src:_,alt:"hong-kong-picture"},null,8,ud)]),_:2},1024))),128))]),_:1},8,["items-to-show"]),Ie("div",cd,[dd,Ie("ul",null,[(We(!0),kt(we,null,Xi(f.referList,(_,g)=>(We(),kt("li",{key:`refer-item${g}`},[Ie("a",{href:_.url},_r(_.text),9,hd)]))),128))])])])],64)}const _d=Jc(Qc,[["render",pd],["__scopeId","data-v-9b43989e"]]);vc.init();za(_d).mount("#app");
