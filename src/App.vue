<script>
import ScrollyVideo from 'scrolly-video/dist/ScrollyVideo.vue';
import Loading from './components/Loading.vue';
import { Carousel, Slide, Navigation } from 'vue3-carousel';
import 'vue3-carousel/dist/carousel.css';

export default {
	name: 'App',
	components: {
		ScrollyVideo,
		Carousel,
		Slide,
		Loading,
		Navigation,
	},
	computed: {
		imgList() {
			return Array.from({ length: 20 }, (_, index) => `./assets/hongkong-${index + 1}.jpg`);
		},
	},
	data() {
		return {
			introList: [
				{
					text: 'æ—©æ–¼å€‹äººé›»è…¦åŠæ•¸ç¢¼å­—é«”æ™®åŠå‰ï¼Œåº—èˆ–æ±ä¸»æ¯ç•¶éœ€è¦è£½ä½œæ‹›ç‰Œï¼Œå°±å¾—è˜è«‹æ›¸æ³•å®¶æˆ–ã€Œå¯«å­—ä½¬ã€ï¼ˆå¯«æ‹›ç‰Œçš„äººï¼‰ï¼Œå°‡ä¸­æ–‡æ›¸æ³•ä»¥å‹¾ç·šæ–¹å¼ç•«å‡ºã€‚<br>å…¶ä¸­ä»¥åŒ—é­é«”é¢¨æ ¼çš„æ‹›ç‰Œå­—åœ¨è¡—é“ä¸Šéå¸¸æµè¡Œï¼Œæˆç‚ºäº†ä¸€ç¨®é¦™æ¸¯æ°‘é–“ç‰¹è‰²',
					top: 15,
					left: 55,
				},
				{
					text: 'éœ“è™¹æ‹›ç‰Œçš„è£½é€ æŠ€è¡“æ—©åœ¨ä¸Šä¸–ç´€ä¸‰åå¹´ä»£å¼•å…¥é¦™æ¸¯ï¼Œä½†ç›´åˆ°äº†äºŒæˆ°å¾Œï¼Œé¦™æ¸¯ç¶“æ¿Ÿå¿«é€Ÿå¾©ç”¦ï¼Œéœ“è™¹æ‹›ç‰Œæ‰å¾—ä»¥èŒå£¯æˆé•·ã€‚<br>é¦™æ¸¯ç¬¬ä¸€é–“éœ“è™¹ç‡ˆè£½é€ å» è¨­å» æ–¼ 1932 å¹´ï¼Œéœ“è™¹æ‹›ç‰Œæ˜¯æ¨å»£å„ç¨®å•†æ¥­æ´»å‹•çš„ä¸äºŒä¹‹é¸ï¼Œå¤§é‡ç”¨æ–¼å„è¡Œå„æ¥­å¦‚é¤å»³ã€ç™¾è²¨å…¬å¸ã€æˆ²é™¢ã€é…’å§ã€å¤œç¸½æœƒã€æ¡‘æ‹¿æµ´å ´ç­‰ã€‚',
					top: 30,
					left: 40,
				},
				{
					text: 'é›–ç„¶éœ“è™¹å…‰ç®¡æ‹›ç‰Œæ˜¯èˆ¶ä¾†å“ï¼Œä½†ä¸­åœ‹æ‹›ç‰Œçš„å‚³çµ±å»å¾—ä»¥ä¿å­˜ï¼Œä¸”èåˆåˆ°æœ¬åœŸéœ“è™¹æ‹›ç‰Œçš„è¦–è¦ºèªè¨€ä¸­ã€‚æ”¾å¤§äº†å°ºç¢¼èˆ‡è·¨å¼µäº†çš„è¦–è¦ºæ•ˆæœï¼Œæ›´èƒ½åæ˜ æ—¥æ–°æœˆç•°çš„åŸå¸‚è‚Œç†å’Œå»ºç¯‰ç‰¹è‰²ã€‚',
					top: 45,
					left: 20,
				},
				{
					text: 'ç„¶è€Œï¼Œé¦™æ¸¯éœ“è™¹ç‡ˆç¢ºå¯¦æ­£åœ¨é€æ¼¸æ¸›å°‘ä¸­ï¼Œ5å¹´å…§å°±æœ‰1.6è¬å€‹éœ“è™¹ç‡ˆæ‹›ç‰Œå› å®‰å…¨ç–‘æ…®è¢«è¿«ç†„ç‡ˆï¼ŒåŸå› é™¤äº†æ¸¯åºœå±‹å®‡ç½²ä¿®è¨‚ã€Šå»ºç¯‰ç‰©æ¢ä¾‹ã€‹é‡å°æ‹›ç‰Œæœ‰è©³ç´°è¦å®šï¼Œé€™äº›èˆŠæ‹›ç‰Œå› ç‚ºå¤§å°ã€ä½ç½®ç­‰ä¸åˆè¦å®šï¼Œå±‹å®‡ç½²å°±æ›¾åœ¨ 2022 å¹´è¡¨ç¤ºï¼Œç¾éœ€è¦æ‹†é™¤æˆ–ä¿®è‘ºçš„å±éšªåŠæ£„ç½®æ‹›ç‰Œä»æœ‰ 1,800 å€‹ã€‚',
					top: 60,
					left: 50,
				},
				{
					text: 'å¹¸å¥½ï¼Œåœ¨äººæ°‘çš„é€æ¼¸é‡è¦–ä¸‹ï¼Œè¥¿ä¹æ–‡åŒ–å€è¦–è¦ºæ–‡åŒ–åšç‰©é¤¨M+æ­£å»ºç«‹å…¶éœ“è™¹æ‹›ç‰Œçš„é¤¨è—ï¼Œ ç‡å…ˆæ”¶è—äº†æ£®ç¾é¤å»³çš„ã€Œéœ“è™¹ç‰›ã€åŠé·„è¨˜è”´é›€é¤¨çš„ã€Œéœ“è™¹å…¬é·„ã€ï¼Œä¸¦æ¨å‡ºå…¶é¦–å€‹ç¶²ä¸Šäº’å‹•å±•è¦½ NEONSIGNS.HK æ¢ç´¢éœ“è™¹ï¼Œä»¥ä¸åŒè§’åº¦æ¢ç´¢éœ“è™¹æ‹›ç‰Œï¼Œä¸¦é‚€è«‹å…¬çœ¾ä¸Šè¼‰éœ“è™¹ç…§ç‰‡è‡³éœ“è™¹åœ°åœ–ã€‚æ­¤å¤–ï¼Œä¹Ÿæœ‰æ°‘é–“åœ˜é«”è—‰ç”±è‡ªèº«å°ˆæ¥­ï¼Œå»å¹«åŠ©å•†æˆ¶ä¿ç•™æˆ–ä¿®å¾©é€™äº›å‚³çµ±æ‹›ç‰Œï¼Œç‚ºç¨ç¸±å³é€çš„æ–‡åŒ–ç•™ä¸‹è¨˜éŒ„ã€‚',
					top: 75,
					left: 15,
				},
			],
			referList: [
				{
					text: 'NEON.HK æ¢ç´¢éœ“è™¹',
					url: 'https://www.neonsigns.hk/neon-in-visual-culture/mplus-collects-neon/',
				},
				{
					text: 'å…‰çš„é¢¨æ™¯:é¦™æ¸¯éœ“è™¹æ‹›ç‰Œçš„è¦–è¦ºèªè¨€èˆ‡å­—å½¢ç¾å­¸',
					url: 'https://www.eduhk.hk/include_n/getrichfile.php?key=55c4c2c5dd74cd7218a963ffeadeb429&secid=53373&filename=hkjss/Issue52/4_%E5%85%89%E7%9A%84%E9%A2%A8%E6%99%AF_%E9%A6%99%E6%B8%AF%E9%9C%93%E8%99%B9%E6%8B%9B%E7%89%8C%E7%9A%84%E8%A6%96%E8%A6%BA%E8%AA%9E%E8%A8%80%E8%88%87%E5%AD%97%E5%BD%A2%E7%BE%8E%E5%AD%B8.pdf',
				},
				{
					text: 'ã€Šå ±å°è€…The Reporterã€‹ç”¨å­—é«”ç•™ä½æ¶ˆé€çš„è¡—æ™¯è¨˜æ†¶â”€â”€é¦™æ¸¯çš„é‡ç”Ÿé€ å­—äººå€‘',
					url: 'https://www.twreporter.org/a/never-forget-hong-kong-vanishing-street-and-font-designers',
				},
				{
					text: 'è€é¦™æ¸¯é¢¨å‘³æ¶ˆå¤±ä¸­ï¼Ÿéœ“è™¹ç‡ˆæ‹›ç‰Œæ‹†æˆ–ç•™æˆå…©é›£ï¼Œä¿å­˜åœ˜æ‹¼ä¿®å¾©',
					url: 'https://city.gvm.com.tw/article/107611',
				},
			],
			isDesktop: true,
			isLoading: true,
		};
	},
	mounted() {
		window.scrollTo({
			top: 0,
			behavior: 'smooth',
		});
		this.isDesktop = window.innerWidth > 565;
	},
	methods: {
		getPicture(slide) {
			return require(`./assets/hongkong-${slide}.jpg`);
		},
		next() {
			this.$refs.carousel.next();
		},
		prev() {
			this.$refs.carousel.prev();
		},
		readyCallBack() {
			this.isLoading = false;
		},
	},
};
</script>

<template>
	<Loading v-if="isLoading"/>
	<Transition>
		<div v-show="!isLoading">
			<div class="header">
				<img
					src="../public/assets/hongkong-neon-light.jpg"
					alt="banner"
				>
				<p>
					Keith Macgregor, Neon Fantasy #1 Nathan Road, Kowloon, Hong Kongï¼ˆ2006ï¼‰ Â© Keith Macgregor
				</p>
				<div class="mask" />
				<div class="title">
					<h1 class="neon-text">
						HONG KONG
					</h1>
					<h2 class="neon-text">
						NEON CITY
					</h2>
				</div>
			</div>
			<div class="intro">
				æœ¬èº«å¾ˆå–œæ­¡é¦™æ¸¯çš„æ‹›ç‰Œè·Ÿéœ“è™¹ç‡ˆï¼Œä¹Ÿå¸Œæœ›é€™å€‹æ–‡åŒ–è¢«æ›´å¤šäººçœ‹åˆ°ï¼Œåœ¨é€™é‚Šåšä¸€å€‹ç°¡å–®çš„ä»‹ç´¹ğŸ’«
			</div>
			<div id="video-body">
				<ScrollyVideo
					id="land-scap-video"
					:videoPercentage="0"
					src="./assets/hk-landscap.mp4"
					:onReady="readyCallBack"
				/>
				<div
					v-for="(item, index) in introList"
					:key="`desc-item${index}`"
					class="desc-item"
					:style="{
						top: `${item.top}%`,
						left: `${item.left}%`,
					}"
					data-aos="fade-up"
					data-aos-duration="1000"
					v-html="item.text"
				/>
			</div>
			<div class="live-photo">
				<div class="live-photo-header">
					<button @click="prev">
						<i class="arrow left" />
					</button>
					<p>
						ä¸‹é¢æ˜¯ä¸€äº›éå»åœ¨é¦™æ¸¯æ—…éŠæ™‚ç´€éŒ„çš„æ‹›ç‰Œä»¥åŠéœ“è™¹ç‡ˆ ğŸ“·
					</p>
					<button @click="next">
						<i class="arrow right" />
					</button>
				</div>
				<Carousel
					ref="carousel" 
					:items-to-show="isDesktop ? 3 : 1"
					:wrap-around="true"
				>
					<Slide
						v-for="(img, index) in imgList"
						:key="`picture-${index}`"
					>
						<img
							:src="img"
							alt="hong-kong-picture"
						>
					</Slide>
					<template #addons>
						<Navigation />
					</template>
				</Carousel>
				<div class="other">
					å¦‚æœä¹Ÿå–œæ­¡æ‹›ç‰Œã€éœ“è™¹ç‡ˆçš„æœ‹å‹ï¼Œä¹Ÿæ­¡è¿åˆ°é¦™æ¸¯M+çš„<a href="https://www.neonsigns.hk/neon-in-visual-culture/mplus-collects-neon/" target="_blank">æ¢ç´¢éœ“è™¹</a>ç¶²ç«™ï¼Œçœ‹çœ‹æ›´å¤šæ¼‚äº®çš„éœ“è™¹æ‹›ç‰Œå§ï¼âœ¨
				</div>
				<div class="refer">
					<b>åƒè€ƒè³‡æ–™</b>
					<ul>
						<li
							v-for="(item, index) in referList"
							:key="`refer-item${index}`"
						>
							<a :href="item.url" target="_blank" alt="ref-text">
								{{ item.text }}
							</a>
						</li>
					</ul>
				</div>
			</div>
		</div>
	</Transition>
</template>

<style lang="scss" scoped>
.v-enter-active,
.v-leave-active {
	transition: opacity 0.5s ease;
}

.v-enter-from,
.v-leave-to {
	opacity: 0;
}

.header {
	position: relative;

	img {
		height: 100vh;
		object-fit: cover;
		width: 100vw;
	}

	.mask {
		height: 100vh;
		width: 100vw;
		position: absolute;
		background-color: black;
		opacity: .6;
		top: 0;
		left: 0;
	}

	p {
		position: absolute;
		bottom: 12px;
		right: 12px;
		color: white;
		font-size: 12px;
	}

	.title {
		position: absolute;
		top: 50%;
		left: 50%;
		transform: translate(-50%, -50%);
	}
}

.neon-text {
	color: #fff;
	text-shadow:
		0 0 7px #f9c3ef,
		0 0 10px #f9c3ef,
		0 0 21px #f9c3ef,
		0 0 42px rgb(255, 0, 102),
		0 0 82px rgb(255, 0, 102),
		0 0 92px rgb(255, 0, 102),
		0 0 102px rgb(255, 0, 102),
		0 0 151px rgb(255, 0, 102);
}

.intro {
	padding: 40px;
	color: white;
}

#video-body {
	margin: 0;
	padding: 0;
	width: 100vw;
	height: 400vh;
	position: relative;

	.desc-item {
		max-width: 420px;
		position: absolute;
		padding: 24px 32px;
		background-color: rgba(0, 0, 0, .5);
		text-align: left;
		color: white;
	}
}

.live-photo {
	background: black;
	margin-top: 60px;

	.live-photo-header {
		display: flex;
		justify-content: space-between;
		align-items: center;
		padding: 0 60px;
		margin-bottom: 24px;

		button {
			width: 60px;
			height: 40px;
			border: 1px solid #ccc;
			background-color: transparent;
			color: white;

			.arrow {
				border: solid white;
				border-width: 0 4px 4px 0;
				display: inline-block;
				padding: 4px;
			}

			.right {
				transform: rotate(-45deg);
				-webkit-transform: rotate(-45deg);
			}

			.left {
				transform: rotate(135deg);
				-webkit-transform: rotate(135deg);
			}

			&:hover {
				background-color: rgba(255, 255, 255, .3);
			}

			&:focus {
				outline: 0;
				box-shadow: none;
			}
		}
		p {
			color: white;
		}
	}

	img {
		height: 400px;
		width: auto;
	}
}

.other {
	padding: 40px 0;
	color: white;
	font-weight: bold;

	a {
		color: white;
		text-decoration: underline;
	}
}

.refer {
	padding: 40px;
	text-align: left;

	* {
		text-align: left;
		color: #666;
	}
	ul {
		padding-left: 12px;
		margin: 0;
		font-size: 12px;

		li {
			:hover {
				color: #888;
			}
		}
	}
}
</style>
